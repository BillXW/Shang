1                                        ;
2                                        ;       annotate version 1.03
3                                        ;
4                                        ; **************************************************
5                                        ; **************************************************
6                                                  section adpt_predict_c
7                                                  opt     so,nomd
8                                                  page    132,66,3,3
9                                        ;*** DSP56000/1 Motorola 1.03 GNU 1.37.1
10        P:0000                                   org     p:
11                                                 global  Ffmult
12                                       Ffmult
13                                       ; **************************************************
14                                       ; 
15                                       ; /* Global signals */
16                                       ; int A_2, AL, D, I, SD, S_E, SL, SP, TDP;
17                                       ; 
18                                       ; typedef struct
19                                       ; {
20                                       ;   int DQ, T, Y, YL, DQ2, DQ3, DQ4, DQ5, DQ6, DQ7, PK1, PK2, SR2,
21                                       ;       A1, A2, B[6], SE, SEZ, t_dr, LAST_TR, DMS, DML, AP, Y_L, LAST_Y;
22                                       ; } STATES;
23                                       ; 
24                                       ; 
25                                       ; int fmult()
26                                       ; {
27                                       ; }
28                                       ; **************************************************
29        P:0000 200003  [2 -        2]            tst     a
30        P:0001 00000C  [4 -        6]            rts
31     
32                                                 global  Fadpt_predict
33                                       Fadpt_predict
34        P:0002 605E00  [2 -        8]            move              r0,x:(r6)+
35        P:0003 055E3C  [2 -       10]            move              ssh,x:(r6)+
36                                       ; **************************************************
37                                       ; **************************************************
38                                       ; **************************************************
39                                       ; 
40                                       ; 
41                                       ; void adpt_predict(STATES *S)
42                                       ; {
43                                       ;   /*
44                                       ;    * adaptive predictor
45                                       ;    *
46                                       ;    * Input signals:  DQ, T
47                                       ;    * Output signals: S_E, A_2
48                                       ;    */
49                                       ; 
50                                       ;   register int DQS, DQI, DQSEZ, PK0; 
51                                       ;   register int SR1;
52                                       ;   register int A1S, AP;
53                                       ;   register int A2R;
54                                       ;   register int WA1, WA2;
55                                       ;   register int MAG, EXP, MANT; 
56                                       ;   int BP[6];
57                                       ; 
58                                       ;   /* ADDC */
59                                       ;   DQS = S->DQ >> 14;
60                                       ; **************************************************
61        P:0004 70F400  [4 -       14]            move              #65533,n0
                 00FFFD
62        P:0006 3E1500  [2 -       16]            move              #21,n6
63        P:0007 22D000  [2 -       18]            move              r6,r0
64        P:0008 204E00  [2 -       20]            move              (r6)+n6
65        P:0009 515E00  [2 -       22]            move              b0,x:(r6)+
66        P:000A 555E00  [2 -       24]            move              b1,x:(r6)+
67        P:000B 445E00  [2 -       26]            move              x0,x:(r6)+
68        P:000C 455E00  [2 -       28]            move              x1,x:(r6)+
69        P:000D 465E00  [2 -       30]            move              y0,x:(r6)+
70        P:000E 475E00  [2 -       32]            move              y1,x:(r6)+
71        P:000F 615E00  [2 -       34]            move              r1,x:(r6)+
72        P:0010 625E00  [2 -       36]            move              r2,x:(r6)+
73        P:0011 62E800  [4 -       40]            move              x:(r0+n0),r2
74        P:0012 381300  [2 -       42]            move              #19,n0
75        P:0013 46E200  [2 -       44]            move              x:(r2),y0
76        P:0014 466859  [4 -       48]            tfr     y0,b      y0,x:(r0+n0)
77        P:0015 21AF00  [2 -       50]            move              b1,b
78        P:0016 060EA0  [4 -       54]            rep     #14
79        P:0017 20002A  [2 -       56]            asr     b
80                                       ; **************************************************
81                                       ;   DQI = DQS ? 65536 - (S->DQ & 16383) : S->DQ;
82                                       ; **************************************************
83        P:0018 380600  [2 -       58]            move              #6,n0
84        P:0019 21AF00  [2 -       60]            move              b1,b
85        P:001A 55680B  [4 -       64]            tst     b         b1,x:(r0+n0)
86        P:001B 0AF0AA  [6 -       70]            jeq     L3
                 00002A
87        P:001D 381300  [2 -       72]            move              #19,n0
88        P:001E 57F400  [4 -       76]            move              #>65536,b
                 010000
89        P:0020 56E800  [4 -       80]            move              x:(r0+n0),a
90        P:0021 380700  [2 -       82]            move              #7,n0
91        P:0022 44F400  [4 -       86]            move              #>16383,x0
                 003FFF
92        P:0024 200046  [2 -       88]            and     x0,a
93        P:0025 218E00  [2 -       90]            move              a1,a
94        P:0026 20001C  [2 -       92]            sub     a,b
95        P:0027 556800  [4 -       96]            move              b1,x:(r0+n0)
96        P:0028 0AF080  [6 -      102]            jmp     L4
                 00002D
97                                       L3
98        P:002A 380700  [2 -      104]            move              #7,n0
99        P:002B 46E200  [2 -      106]            move              x:(r2),y0
100       P:002C 466800  [4 -      110]            move              y0,x:(r0+n0)
101                                      L4
102                                      ; **************************************************
103                                      ;   MAG = S->SEZ & (1 << 14) ? (1 << 15) + S->SEZ : S->SEZ;
104                                      ; **************************************************
105       P:002D 381200  [2 -      112]            move              #18,n0
106       P:002E 3A1600  [2 -      114]            move              #22,n2
107       P:002F 44F400  [4 -      118]            move              #>16384,x0
                 004000
108       P:0031 46EA00  [4 -      122]            move              x:(r2+n2),y0
109       P:0032 466859  [4 -      126]            tfr     y0,b      y0,x:(r0+n0)
110       P:0033 20004E  [2 -      128]            and     x0,b
111       P:0034 21AF00  [2 -      130]            move              b1,b
112       P:0035 20000B  [2 -      132]            tst     b
113       P:0036 0AF0AA  [6 -      138]            jeq     L5
                 00003F
114       P:0038 57E800  [4 -      142]            move              x:(r0+n0),b
115       P:0039 46F400  [4 -      146]            move              #>32768,y0
                 008000
116       P:003B 200058  [2 -      148]            add     y0,b
117       P:003C 556800  [4 -      152]            move              b1,x:(r0+n0)
118       P:003D 0AF080  [6 -      158]            jmp     L6
                 000043
119                                      L5
120       P:003F 381200  [2 -      160]            move              #18,n0
121       P:0040 3A1600  [2 -      162]            move              #22,n2
122       P:0041 46EA00  [4 -      166]            move              x:(r2+n2),y0
123       P:0042 466800  [4 -      170]            move              y0,x:(r0+n0)
124                                      L6
125                                      ; **************************************************
126                                      ;   DQSEZ = (DQI + MAG) & 65535;
127                                      ; **************************************************
128                                      ; **************************************************
129                                      ;   PK0 = DQSEZ >> 15;
130                                      ; **************************************************
131       P:0043 380700  [2 -      172]            move              #7,n0
132       P:0044 44F400  [4 -      176]            move              #>65535,x0
                 00FFFF
133       P:0046 57E800  [4 -      180]            move              x:(r0+n0),b
134       P:0047 381200  [2 -      182]            move              #18,n0
135       P:0048 46E800  [4 -      186]            move              x:(r0+n0),y0
136       P:0049 380858  [2 -      188]            add     y0,b      #8,n0
137       P:004A 20004E  [2 -      190]            and     x0,b
138       P:004B 21AF00  [2 -      192]            move              b1,b
139       P:004C 556800  [4 -      196]            move              b1,x:(r0+n0)
140       P:004D 21AF00  [2 -      198]            move              b1,b
141       P:004E 060FA0  [4 -      202]            rep     #15
142       P:004F 20002A  [2 -      204]            asr     b
143                                      ; **************************************************
144                                      ;   WA2 = DQSEZ ? 0 : 1;
145                                      ; **************************************************
146       P:0050 380900  [2 -      206]            move              #9,n0
147       P:0051 21AF00  [2 -      208]            move              b1,b
148       P:0052 556800  [4 -      212]            move              b1,x:(r0+n0)
149       P:0053 380800  [2 -      214]            move              #8,n0
150       P:0054 57E800  [4 -      218]            move              x:(r0+n0),b
151       P:0055 20000B  [2 -      220]            tst     b
152       P:0056 0AF0AA  [6 -      226]            jeq     L7
                 00005B
153       P:0058 260000  [2 -      228]            move              #0,y0
154       P:0059 0AF080  [6 -      234]            jmp     L54
                 00005D
155                                      L7
156       P:005B 46F400  [4 -      238]            move              #>1,y0
                 000001
157                                      L54
158                                      ; **************************************************
159                                      ;   
160                                      ;   /* ADDB */
161                                      ;   DQI = DQS ? 65536 - (S->DQ & 16383) : S->DQ;
162                                      ; **************************************************
163       P:005D 380C00  [2 -      240]            move              #12,n0
164       P:005E 466800  [4 -      244]            move              y0,x:(r0+n0)
165       P:005F 380600  [2 -      246]            move              #6,n0
166       P:0060 57E800  [4 -      250]            move              x:(r0+n0),b
167       P:0061 20000B  [2 -      252]            tst     b
168       P:0062 0AF0AA  [6 -      258]            jeq     L9
                 000070
169       P:0064 380700  [2 -      260]            move              #7,n0
170       P:0065 56E200  [2 -      262]            move              x:(r2),a
171       P:0066 57F400  [4 -      266]            move              #>65536,b
                 010000
172       P:0068 44F400  [4 -      270]            move              #>16383,x0
                 003FFF
173       P:006A 200046  [2 -      272]            and     x0,a
174       P:006B 218E00  [2 -      274]            move              a1,a
175       P:006C 20001C  [2 -      276]            sub     a,b
176       P:006D 556800  [4 -      280]            move              b1,x:(r0+n0)
177       P:006E 0AF080  [6 -      286]            jmp     L10
                 000073
178                                      L9
179       P:0070 380700  [2 -      288]            move              #7,n0
180       P:0071 46E200  [2 -      290]            move              x:(r2),y0
181       P:0072 466800  [4 -      294]            move              y0,x:(r0+n0)
182                                      L10
183                                      ; **************************************************
184                                      ;   MAG = S->SE & (1 << 14) ? (1 << 15) + S->SE : S->SE;
185                                      ; **************************************************
186       P:0073 381200  [2 -      296]            move              #18,n0
187       P:0074 3A1500  [2 -      298]            move              #21,n2
188       P:0075 44F400  [4 -      302]            move              #>16384,x0
                 004000
189       P:0077 46EA00  [4 -      306]            move              x:(r2+n2),y0
190       P:0078 466859  [4 -      310]            tfr     y0,b      y0,x:(r0+n0)
191       P:0079 20004E  [2 -      312]            and     x0,b
192       P:007A 21AF00  [2 -      314]            move              b1,b
193       P:007B 20000B  [2 -      316]            tst     b
194       P:007C 0AF0AA  [6 -      322]            jeq     L11
                 000085
195       P:007E 57E800  [4 -      326]            move              x:(r0+n0),b
196       P:007F 46F400  [4 -      330]            move              #>32768,y0
                 008000
197       P:0081 200058  [2 -      332]            add     y0,b
198       P:0082 556800  [4 -      336]            move              b1,x:(r0+n0)
199       P:0083 0AF080  [6 -      342]            jmp     L12
                 000089
200                                      L11
201       P:0085 381200  [2 -      344]            move              #18,n0
202       P:0086 3A1500  [2 -      346]            move              #21,n2
203       P:0087 46EA00  [4 -      350]            move              x:(r2+n2),y0
204       P:0088 466800  [4 -      354]            move              y0,x:(r0+n0)
205                                      L12
206                                      ; **************************************************
207                                      ;   DQSEZ = (DQI + MAG) & 65535;
208                                      ; **************************************************
209                                      ; **************************************************
210                                      ;   
211                                      ;   /* FLOATB */
212                                      ;   MAG = DQSEZ >> 15 ? (65536 - DQSEZ) & 32767 : DQSEZ;
213                                      ; **************************************************
214       P:0089 380700  [2 -      356]            move              #7,n0
215       P:008A 44F400  [4 -      360]            move              #>65535,x0
                 00FFFF
216       P:008C 57E800  [4 -      364]            move              x:(r0+n0),b
217       P:008D 381200  [2 -      366]            move              #18,n0
218       P:008E 46E800  [4 -      370]            move              x:(r0+n0),y0
219       P:008F 380858  [2 -      372]            add     y0,b      #8,n0
220       P:0090 20004E  [2 -      374]            and     x0,b
221       P:0091 21AF00  [2 -      376]            move              b1,b
222       P:0092 556800  [4 -      380]            move              b1,x:(r0+n0)
223       P:0093 21AF00  [2 -      382]            move              b1,b
224       P:0094 060FA0  [4 -      386]            rep     #15
225       P:0095 20002A  [2 -      388]            asr     b
226       P:0096 21AF00  [2 -      390]            move              b1,b
227       P:0097 20000B  [2 -      392]            tst     b
228       P:0098 0AF0AA  [6 -      398]            jeq     L13
                 0000A6
229       P:009A 46E800  [4 -      402]            move              x:(r0+n0),y0
230       P:009B 381200  [2 -      404]            move              #18,n0
231       P:009C 44F400  [4 -      408]            move              #>32767,x0
                 007FFF
232       P:009E 57F400  [4 -      412]            move              #>65536,b
                 010000
233       P:00A0 20005C  [2 -      414]            sub     y0,b
234       P:00A1 20004E  [2 -      416]            and     x0,b
235       P:00A2 21AF00  [2 -      418]            move              b1,b
236       P:00A3 556800  [4 -      422]            move              b1,x:(r0+n0)
237       P:00A4 0AF080  [6 -      428]            jmp     L14
                 0000AA
238                                      L13
239       P:00A6 380800  [2 -      430]            move              #8,n0
240       P:00A7 46E800  [4 -      434]            move              x:(r0+n0),y0
241       P:00A8 381200  [2 -      436]            move              #18,n0
242       P:00A9 466800  [4 -      440]            move              y0,x:(r0+n0)
243                                      L14
244                                      ; **************************************************
245                                      ; /*  {
246                                      ;     register int mag = MAG << 1;
247                                      ; 
248                                      ;     for (EXP = 0; mag >>= 1; EXP++)
249                                      ; #ifdef __LOOPCOUNT__ 
250                                      ;       Loop2++;
251                                      ; #else
252                                      ;       ;
253                                      ; #endif
254                                      ;   } */
255                                      ;   MANT = MAG ? (MAG << 6) >> EXP : 1 << 5;
256                                      ; **************************************************
257       P:00AA 381200  [2 -      442]            move              #18,n0
258       P:00AB 57E800  [4 -      446]            move              x:(r0+n0),b
259       P:00AC 20000B  [2 -      448]            tst     b
260       P:00AD 0AF0AA  [6 -      454]            jeq     L15
                 0000BF
261       P:00AF 0606A0  [4 -      458]            rep     #6
262       P:00B0 20003A  [2 -      460]            asl     b
263       P:00B1 380D00  [2 -      462]            move              #13,n0
264       P:00B2 21AF00  [2 -      464]            move              b1,b
265       P:00B3 56E800  [4 -      468]            move              x:(r0+n0),a
266       P:00B4 200003  [2 -      470]            tst     a
267       P:00B5 0AF0AA  [6 -      476]            jeq     L62
                 0000BB
268       P:00B7 21AF00  [2 -      478]            move              b1,b
269       P:00B8 06CE20  [4 -      482]            rep     a
270       P:00B9 20002A  [2 -      484]            asr     b
271       P:00BA 21AF00  [2 -      486]            move              b1,b
272                                      L62
273       P:00BB 380E00  [2 -      488]            move              #14,n0
274       P:00BC 556800  [4 -      492]            move              b1,x:(r0+n0)
275       P:00BD 0AF080  [6 -      498]            jmp     L16
                 0000C3
276                                      L15
277       P:00BF 380E00  [2 -      500]            move              #14,n0
278       P:00C0 46F400  [4 -      504]            move              #>32,y0
                 000020
279       P:00C2 466800  [4 -      508]            move              y0,x:(r0+n0)
280                                      L16
281                                      ; **************************************************
282                                      ;   SR1 = ((DQSEZ >> 15) << 10) + (EXP << 6) + MANT;
283                                      ; **************************************************
284       P:00C3 380800  [2 -      510]            move              #8,n0
285       P:00C4 57E800  [4 -      514]            move              x:(r0+n0),b
286       P:00C5 21AF00  [2 -      516]            move              b1,b
287       P:00C6 060FA0  [4 -      520]            rep     #15
288       P:00C7 20002A  [2 -      522]            asr     b
289       P:00C8 21AF00  [2 -      524]            move              b1,b
290       P:00C9 060AA0  [4 -      528]            rep     #10
291       P:00CA 20003A  [2 -      530]            asl     b
292       P:00CB 381300  [2 -      532]            move              #19,n0
293       P:00CC 21AF00  [2 -      534]            move              b1,b
294       P:00CD 556800  [4 -      538]            move              b1,x:(r0+n0)
295       P:00CE 380D00  [2 -      540]            move              #13,n0
296       P:00CF 57E800  [4 -      544]            move              x:(r0+n0),b
297       P:00D0 0606A0  [4 -      548]            rep     #6
298       P:00D1 20003A  [2 -      550]            asl     b
299                                      ; **************************************************
300                                      ;   
301                                      ;   /* UPA2 */
302                                      ;   WA1 = PK0 ^ S->PK1;                     /* WA1 = PKS1 */
303                                      ; **************************************************
304                                      ; **************************************************
305                                      ;   MAG = PK0 ^ S->PK2 ? 114688 : 16384;    /* MAG = UGA2A */
306                                      ; **************************************************
307       P:00D2 3A0A00  [2 -      552]            move              #10,n2
308       P:00D3 381200  [2 -      554]            move              #18,n0
309       P:00D4 21AF00  [2 -      556]            move              b1,b
310       P:00D5 21A600  [2 -      558]            move              b1,y0
311       P:00D6 556800  [4 -      562]            move              b1,x:(r0+n0)
312       P:00D7 381300  [2 -      564]            move              #19,n0
313       P:00D8 44EA00  [4 -      568]            move              x:(r2+n2),x0
314       P:00D9 3A0B00  [2 -      570]            move              #11,n2
315       P:00DA 57E800  [4 -      574]            move              x:(r0+n0),b
316       P:00DB 380E58  [2 -      576]            add     y0,b      #14,n0
317       P:00DC 21A700  [2 -      578]            move              b1,y1
318       P:00DD 46E800  [4 -      582]            move              x:(r0+n0),y0
319       P:00DE 380958  [2 -      584]            add     y0,b      #9,n0
320       P:00DF 21A700  [2 -      586]            move              b1,y1
321       P:00E0 57E800  [4 -      590]            move              x:(r0+n0),b
322       P:00E1 380B4B  [2 -      592]            eor     x0,b      #11,n0
323       P:00E2 21AF00  [2 -      594]            move              b1,b
324       P:00E3 556800  [4 -      598]            move              b1,x:(r0+n0)
325       P:00E4 380900  [2 -      600]            move              #9,n0
326       P:00E5 44EA00  [4 -      604]            move              x:(r2+n2),x0
327       P:00E6 57E800  [4 -      608]            move              x:(r0+n0),b
328       P:00E7 20004B  [2 -      610]            eor     x0,b
329       P:00E8 21AF00  [2 -      612]            move              b1,b
330       P:00E9 20000B  [2 -      614]            tst     b
331       P:00EA 0AF0AA  [6 -      620]            jeq     L17
                 0000F0
332       P:00EC 46F400  [4 -      624]            move              #>114688,y0
                 01C000
333       P:00EE 0AF080  [6 -      630]            jmp     L55
                 0000F2
334                                      L17
335       P:00F0 46F400  [4 -      634]            move              #>16384,y0
                 004000
336                                      L55
337                                      ; **************************************************
338                                      ;   A1S = S->A1 & (1 << 15) ? 1 : 0;
339                                      ; **************************************************
340       P:00F2 3A0D00  [2 -      636]            move              #13,n2
341       P:00F3 381200  [2 -      638]            move              #18,n0
342       P:00F4 44F400  [4 -      642]            move              #>32768,x0
                 008000
343       P:00F6 466800  [4 -      646]            move              y0,x:(r0+n0)
344       P:00F7 56EA00  [4 -      650]            move              x:(r2+n2),a
345       P:00F8 200046  [2 -      652]            and     x0,a
346       P:00F9 218E00  [2 -      654]            move              a1,a
347       P:00FA 200003  [2 -      656]            tst     a
348       P:00FB 0AF0AA  [6 -      662]            jeq     L19
                 000101
349       P:00FD 46F400  [4 -      666]            move              #>1,y0
                 000001
350       P:00FF 0AF080  [6 -      672]            jmp     L56
                 000102
351                                      L19
352       P:0101 260000  [2 -      674]            move              #0,y0
353                                      L56
354                                      ; **************************************************
355                                      ;   EXP = A1S ? (S->A1 >= 57345 ? (S->A1 << 2) & 131071 : 24577 << 2) :
356                                      ;               (S->A1 <= 8191 ? S->A1 << 2 : 8191 << 2); 
357                                      ; **************************************************
358       P:0102 380A00  [2 -      676]            move              #10,n0
359       P:0103 466800  [4 -      680]            move              y0,x:(r0+n0)
360       P:0104 57E800  [4 -      684]            move              x:(r0+n0),b
361       P:0105 20000B  [2 -      686]            tst     b
362       P:0106 0AF0AA  [6 -      692]            jeq     L21
                 00011F
363       P:0108 380F00  [2 -      694]            move              #15,n0
364       P:0109 3A0D00  [2 -      696]            move              #13,n2
365       P:010A 46EA00  [4 -      700]            move              x:(r2+n2),y0
366       P:010B 466800  [4 -      704]            move              y0,x:(r0+n0)
367       P:010C 57E800  [4 -      708]            move              x:(r0+n0),b
368       P:010D 46F400  [4 -      712]            move              #>57344,y0
                 00E000
369       P:010F 20005D  [2 -      714]            cmp     y0,b
370       P:0110 0AF0AF  [6 -      720]            jle     L23
                 00011B
371       P:0112 380D3A  [2 -      722]            asl     b         #13,n0
372       P:0113 44F43A  [4 -      726]            asl     b         #>131071,x0
                 01FFFF
373       P:0115 21AF00  [2 -      728]            move              b1,b
374       P:0116 20004E  [2 -      730]            and     x0,b
375       P:0117 21AF00  [2 -      732]            move              b1,b
376       P:0118 556800  [4 -      736]            move              b1,x:(r0+n0)
377       P:0119 0AF080  [6 -      742]            jmp     L22
                 000130
378                                      L23
379       P:011B 46F400  [4 -      746]            move              #>98308,y0
                 018004
380       P:011D 0AF080  [6 -      752]            jmp     L57
                 00012E
381                                      L21
382       P:011F 3A0D00  [2 -      754]            move              #13,n2
383       P:0120 46EA00  [4 -      758]            move              x:(r2+n2),y0
384       P:0121 46F459  [4 -      762]            tfr     y0,b      #>8191,y0
                 001FFF
385       P:0123 20005D  [2 -      764]            cmp     y0,b
386       P:0124 0AF0A7  [6 -      770]            jgt     L25
                 00012C
387       P:0126 380D3A  [2 -      772]            asl     b         #13,n0
388       P:0127 20003A  [2 -      774]            asl     b
389       P:0128 21AF00  [2 -      776]            move              b1,b
390       P:0129 556800  [4 -      780]            move              b1,x:(r0+n0)
391       P:012A 0AF080  [6 -      786]            jmp     L22
                 000130
392                                      L25
393       P:012C 46F400  [4 -      790]            move              #>32764,y0
                 007FFC
394                                      L57
395       P:012E 380D00  [2 -      792]            move              #13,n0
396       P:012F 466800  [4 -      796]            move              y0,x:(r0+n0)
397                                      L22
398                                      ; **************************************************
399                                      ;   EXP = WA1 == 1 ? EXP : (131072 - EXP) & 131071;
400                                      ; **************************************************
401       P:0130 380B00  [2 -      798]            move              #11,n0
402       P:0131 46F400  [4 -      802]            move              #>1,y0
                 000001
403       P:0133 57E800  [4 -      806]            move              x:(r0+n0),b
404       P:0134 20005D  [2 -      808]            cmp     y0,b
405       P:0135 0AF0AA  [6 -      814]            jeq     L28
                 000141
406       P:0137 380D00  [2 -      816]            move              #13,n0
407       P:0138 44F400  [4 -      820]            move              #>131071,x0
                 01FFFF
408       P:013A 46E800  [4 -      824]            move              x:(r0+n0),y0
409       P:013B 57F400  [4 -      828]            move              #>131072,b
                 020000
410       P:013D 20005C  [2 -      830]            sub     y0,b
411       P:013E 55684E  [4 -      834]            and     x0,b      b1,x:(r0+n0)
412       P:013F 21AF00  [2 -      836]            move              b1,b
413       P:0140 556800  [4 -      840]            move              b1,x:(r0+n0)
414                                      L28
415                                      ; **************************************************
416                                      ;   MAG = ((MAG + EXP) & 131071) >> 7;
417                                      ; **************************************************
418       P:0141 381200  [2 -      842]            move              #18,n0
419       P:0142 44F400  [4 -      846]            move              #>131071,x0
                 01FFFF
420       P:0144 57E800  [4 -      850]            move              x:(r0+n0),b
421       P:0145 380D00  [2 -      852]            move              #13,n0
422       P:0146 46E800  [4 -      856]            move              x:(r0+n0),y0
423       P:0147 200058  [2 -      858]            add     y0,b
424       P:0148 20004E  [2 -      860]            and     x0,b
425       P:0149 21AF00  [2 -      862]            move              b1,b
426       P:014A 21AF00  [2 -      864]            move              b1,b
427       P:014B 0607A0  [4 -      868]            rep     #7
428       P:014C 20002A  [2 -      870]            asr     b
429                                      ; **************************************************
430                                      ;   EXP = WA2 == 1 ? 0 : (MAG & (1 << 9) ? MAG + 64512 : MAG);
431                                      ; **************************************************
432       P:014D 381200  [2 -      872]            move              #18,n0
433       P:014E 46F400  [4 -      876]            move              #>1,y0
                 000001
434       P:0150 21AF00  [2 -      878]            move              b1,b
435       P:0151 556800  [4 -      882]            move              b1,x:(r0+n0)
436       P:0152 380C00  [2 -      884]            move              #12,n0
437       P:0153 57E800  [4 -      888]            move              x:(r0+n0),b
438       P:0154 20005D  [2 -      890]            cmp     y0,b
439       P:0155 0AF0A2  [6 -      896]            jne     L29
                 00015A
440       P:0157 260000  [2 -      898]            move              #0,y0
441       P:0158 0AF080  [6 -      904]            jmp     L58
                 00016D
442                                      L29
443       P:015A 381200  [2 -      906]            move              #18,n0
444       P:015B 44F400  [4 -      910]            move              #>512,x0
                 000200
445       P:015D 56E800  [4 -      914]            move              x:(r0+n0),a
446       P:015E 200046  [2 -      916]            and     x0,a
447       P:015F 218E00  [2 -      918]            move              a1,a
448       P:0160 200003  [2 -      920]            tst     a
449       P:0161 0AF0AA  [6 -      926]            jeq     L31
                 00016B
450       P:0163 57E800  [4 -      930]            move              x:(r0+n0),b
451       P:0164 380D00  [2 -      932]            move              #13,n0
452       P:0165 46F400  [4 -      936]            move              #>64512,y0
                 00FC00
453       P:0167 200058  [2 -      938]            add     y0,b
454       P:0168 556800  [4 -      942]            move              b1,x:(r0+n0)
455       P:0169 0AF080  [6 -      948]            jmp     L30
                 00016F
456                                      L31
457       P:016B 381200  [2 -      950]            move              #18,n0
458       P:016C 46E800  [4 -      954]            move              x:(r0+n0),y0
459                                      L58
460       P:016D 380D00  [2 -      956]            move              #13,n0
461       P:016E 466800  [4 -      960]            move              y0,x:(r0+n0)
462                                      L30
463                                      ; **************************************************
464                                      ;   MANT = S->A2 & (1 << 15) ? 65536 - ((S->A2 >> 7) + 65024) :
465                                      ;                              65536 - (S->A2 >> 7);
466                                      ; **************************************************
467       P:016F 381200  [2 -      962]            move              #18,n0
468       P:0170 3A0E00  [2 -      964]            move              #14,n2
469       P:0171 44F400  [4 -      968]            move              #>32768,x0
                 008000
470       P:0173 46EA00  [4 -      972]            move              x:(r2+n2),y0
471       P:0174 466859  [4 -      976]            tfr     y0,b      y0,x:(r0+n0)
472       P:0175 20004E  [2 -      978]            and     x0,b
473       P:0176 21AF00  [2 -      980]            move              b1,b
474       P:0177 20000B  [2 -      982]            tst     b
475       P:0178 0AF0AA  [6 -      988]            jeq     L33
                 000183
476       P:017A 56E800  [4 -      992]            move              x:(r0+n0),a
477       P:017B 218E00  [2 -      994]            move              a1,a
478       P:017C 0607A0  [4 -      998]            rep     #7
479       P:017D 200022  [2 -     1000]            asr     a
480       P:017E 57F400  [4 -     1004]            move              #>512,b
                 000200
481       P:0180 218E00  [2 -     1006]            move              a1,a
482       P:0181 0AF080  [6 -     1012]            jmp     L59
                 00018B
483                                      L33
484       P:0183 3A0E00  [2 -     1014]            move              #14,n2
485       P:0184 56EA00  [4 -     1018]            move              x:(r2+n2),a
486       P:0185 218E00  [2 -     1020]            move              a1,a
487       P:0186 0607A0  [4 -     1024]            rep     #7
488       P:0187 200022  [2 -     1026]            asr     a
489       P:0188 57F400  [4 -     1030]            move              #>65536,b
                 010000
490       P:018A 218E00  [2 -     1032]            move              a1,a
491                                      L59
492                                      ; **************************************************
493                                      ;   EXP = (S->A2 + EXP + MANT) & 65535;
494                                      ; **************************************************
495                                      ; **************************************************
496                                      ; 
497                                      ;   /* LIMC */
498                                      ;   AP = 32768 <= EXP && EXP <= 53248 ? 53248 :
499                                      ;        12288 <= EXP && EXP <= 32767 ? 12288 : EXP;
500                                      ; **************************************************
501       P:018B 3A0E1C  [2 -     1034]            sub     a,b       #14,n2
502       P:018C 380E00  [2 -     1036]            move              #14,n0
503       P:018D 44F400  [4 -     1040]            move              #>65535,x0
                 00FFFF
504       P:018F 556800  [4 -     1044]            move              b1,x:(r0+n0)
505       P:0190 381300  [2 -     1046]            move              #19,n0
506       P:0191 46EA00  [4 -     1050]            move              x:(r2+n2),y0
507       P:0192 466800  [4 -     1054]            move              y0,x:(r0+n0)
508       P:0193 380D00  [2 -     1056]            move              #13,n0
509       P:0194 57E800  [4 -     1060]            move              x:(r0+n0),b
510       P:0195 380E58  [2 -     1062]            add     y0,b      #14,n0
511       P:0196 46E800  [4 -     1066]            move              x:(r0+n0),y0
512       P:0197 380D58  [2 -     1068]            add     y0,b      #13,n0
513       P:0198 46F44E  [4 -     1072]            and     x0,b      #>32767,y0
                 007FFF
514       P:019A 21AF00  [2 -     1074]            move              b1,b
515       P:019B 55685D  [4 -     1078]            cmp     y0,b      b1,x:(r0+n0)
516       P:019C 0AF0AF  [6 -     1084]            jle     L35
                 0001A6
517       P:019E 44F400  [4 -     1088]            move              #>53248,x0
                 00D000
518       P:01A0 20004D  [2 -     1090]            cmp     x0,b
519       P:01A1 0AF0A7  [6 -     1096]            jgt     L35
                 0001A6
520       P:01A3 208500  [2 -     1098]            move              x0,x1
521       P:01A4 0AF080  [6 -     1104]            jmp     L36
                 0001B8
522                                      L35
523       P:01A6 380D00  [2 -     1106]            move              #13,n0
524       P:01A7 46F400  [4 -     1110]            move              #>12287,y0
                 002FFF
525       P:01A9 57E800  [4 -     1114]            move              x:(r0+n0),b
526       P:01AA 20005D  [2 -     1116]            cmp     y0,b
527       P:01AB 0AF0AF  [6 -     1122]            jle     L37
                 0001B6
528       P:01AD 46F400  [4 -     1126]            move              #>32767,y0
                 007FFF
529       P:01AF 20005D  [2 -     1128]            cmp     y0,b
530       P:01B0 0AF0A7  [6 -     1134]            jgt     L37
                 0001B6
531       P:01B2 45F400  [4 -     1138]            move              #>12288,x1
                 003000
532       P:01B4 0AF080  [6 -     1144]            jmp     L36
                 0001B8
533                                      L37
534       P:01B6 380D00  [2 -     1146]            move              #13,n0
535       P:01B7 45E800  [4 -     1150]            move              x:(r0+n0),x1
536                                      L36
537                                      ; **************************************************
538                                      ;   
539                                      ;   /* TRIGB */
540                                      ;   A2R = S->T ? 0 : AP;
541                                      ; **************************************************
542       P:01B8 205A00  [2 -     1152]            move              (r2)+
543       P:01B9 56D200  [2 -     1154]            move              x:(r2)-,a
544       P:01BA 200003  [2 -     1156]            tst     a
545       P:01BB 0AF0AA  [6 -     1162]            jeq     L39
                 0001C2
546       P:01BD 381400  [2 -     1164]            move              #20,n0
547       P:01BE 260000  [2 -     1166]            move              #0,y0
548       P:01BF 466800  [4 -     1170]            move              y0,x:(r0+n0)
549       P:01C0 0AF080  [6 -     1176]            jmp     L40
                 0001C4
550                                      L39
551       P:01C2 381400  [2 -     1178]            move              #20,n0
552       P:01C3 456800  [4 -     1182]            move              x1,x:(r0+n0)
553                                      L40
554                                      ; **************************************************
555                                      ;   
556                                      ;   /* UPA1 */
557                                      ;   MANT = A1S ? (65536 - ((S->A1 >> 8) + 65280)):
558                                      ;                (65536 - (S->A1 >> 8));
559                                      ; **************************************************
560       P:01C4 380A00  [2 -     1184]            move              #10,n0
561       P:01C5 57E800  [4 -     1188]            move              x:(r0+n0),b
562       P:01C6 20000B  [2 -     1190]            tst     b
563       P:01C7 0AF0AA  [6 -     1196]            jeq     L41
                 0001D3
564       P:01C9 3A0D00  [2 -     1198]            move              #13,n2
565       P:01CA 56EA00  [4 -     1202]            move              x:(r2+n2),a
566       P:01CB 218E00  [2 -     1204]            move              a1,a
567       P:01CC 0608A0  [4 -     1208]            rep     #8
568       P:01CD 200022  [2 -     1210]            asr     a
569       P:01CE 57F400  [4 -     1214]            move              #>256,b
                 000100
570       P:01D0 218E00  [2 -     1216]            move              a1,a
571       P:01D1 0AF080  [6 -     1222]            jmp     L60
                 0001DB
572                                      L41
573       P:01D3 3A0D00  [2 -     1224]            move              #13,n2
574       P:01D4 56EA00  [4 -     1228]            move              x:(r2+n2),a
575       P:01D5 218E00  [2 -     1230]            move              a1,a
576       P:01D6 0608A0  [4 -     1234]            rep     #8
577       P:01D7 200022  [2 -     1236]            asr     a
578       P:01D8 57F400  [4 -     1240]            move              #>65536,b
                 010000
579       P:01DA 218E00  [2 -     1242]            move              a1,a
580                                      L60
581                                      ; **************************************************
582                                      ;   EXP = (S->A1 + ((WA2 == 1 ? 0 : (WA1 ? 65344 : 192)) + MANT)) & 65535;
583                                      ; **************************************************
584       P:01DB 380E1C  [2 -     1244]            sub     a,b       #14,n0
585       P:01DC 46F400  [4 -     1248]            move              #>1,y0
                 000001
586       P:01DE 556800  [4 -     1252]            move              b1,x:(r0+n0)
587       P:01DF 44E800  [4 -     1256]            move              x:(r0+n0),x0
588       P:01E0 380C00  [2 -     1258]            move              #12,n0
589       P:01E1 57E800  [4 -     1262]            move              x:(r0+n0),b
590       P:01E2 20005D  [2 -     1264]            cmp     y0,b
591       P:01E3 0AF0AA  [6 -     1270]            jeq     L43
                 0001F5
592       P:01E5 380B00  [2 -     1272]            move              #11,n0
593       P:01E6 57E800  [4 -     1276]            move              x:(r0+n0),b
594       P:01E7 20000B  [2 -     1278]            tst     b
595       P:01E8 0AF0AA  [6 -     1284]            jeq     L44
                 0001EE
596       P:01EA 46F400  [4 -     1288]            move              #>65344,y0
                 00FF40
597       P:01EC 0AF080  [6 -     1294]            jmp     L61
                 0001F0
598                                      L44
599       P:01EE 46F400  [4 -     1298]            move              #>192,y0
                 0000C0
600                                      L61
601       P:01F0 381349  [2 -     1300]            tfr     x0,b      #19,n0
602       P:01F1 466800  [4 -     1304]            move              y0,x:(r0+n0)
603       P:01F2 46E800  [4 -     1308]            move              x:(r0+n0),y0
604       P:01F3 200058  [2 -     1310]            add     y0,b
605       P:01F4 21A400  [2 -     1312]            move              b1,x0
606                                      L43
607                                      ; **************************************************
608                                      ;   
609                                      ;   /* FMULT */
610                                      ;   WA2 = f_mult(A2R, S->SR2); 
611                                      ; **************************************************
612       P:01F5 380D49  [2 -     1314]            tfr     x0,b      #13,n0
613       P:01F6 3A0D00  [2 -     1316]            move              #13,n2
614       P:01F7 44F400  [4 -     1320]            move              #>65535,x0
                 00FFFF
615       P:01F9 46EA00  [4 -     1324]            move              x:(r2+n2),y0
616       P:01FA 3A0C58  [2 -     1326]            add     y0,b      #12,n2
617       P:01FB 20004E  [2 -     1328]            and     x0,b
618       P:01FC 21AF00  [2 -     1330]            move              b1,b
619       P:01FD 556800  [4 -     1334]            move              b1,x:(r0+n0)
620       P:01FE 381300  [2 -     1336]            move              #19,n0
621       P:01FF 46EA00  [4 -     1340]            move              x:(r2+n2),y0
622       P:0200 466800  [4 -     1344]            move              y0,x:(r0+n0)
623       P:0201 381400  [2 -     1346]            move              #20,n0
624       P:0202 465E00  [2 -     1348]            move              y0,x:(r6)+
625       P:0203 46E800  [4 -     1352]            move              x:(r0+n0),y0
626       P:0204 465E00  [2 -     1354]            move              y0,x:(r6)+
627       P:0205 0BF080  [6 -     1360]            jsr     Ff_mult
                 000000
628                                      ; **************************************************
629                                      ;  
630                                      ;   /* LIMD */
631                                      ;   MAG = (15360 + 65536 - AP) & 65535;
632                                      ; **************************************************
633                                      ; **************************************************
634                                      ;   S->A1 = (AP + 65536 - 15360) & 65535;
635                                      ; **************************************************
636                                      ; **************************************************
637                                      ;   AP = 32768 <= EXP && EXP <=  S->A1 ? S->A1 :
638                                      ;        MAG <= EXP && EXP <= 32767 ? MAG : EXP;
639                                      ; **************************************************
640       P:0207 3A0D00  [2 -     1362]            move              #13,n2
641       P:0208 380C00  [2 -     1364]            move              #12,n0
642       P:0209 46F400  [4 -     1368]            move              #>50176,y0
                 00C400
643       P:020B 57F400  [4 -     1372]            move              #>80896,b
                 013C00
644       P:020D 54686C  [4 -     1376]            sub     x1,b      a1,x:(r0+n0)
645       P:020E 38124E  [2 -     1378]            and     x0,b      #18,n0
646       P:020F 21AF00  [2 -     1380]            move              b1,b
647       P:0210 556869  [4 -     1384]            tfr     x1,b      b1,x:(r0+n0)
648       P:0211 381158  [2 -     1386]            add     y0,b      #17,n0
649       P:0212 20564E  [2 -     1388]            and     x0,b      (r6)-
650       P:0213 21AF00  [2 -     1390]            move              b1,b
651       P:0214 21A600  [2 -     1392]            move              b1,y0
652       P:0215 556800  [4 -     1396]            move              b1,x:(r0+n0)
653       P:0216 380D00  [2 -     1398]            move              #13,n0
654       P:0217 466A00  [4 -     1402]            move              y0,x:(r2+n2)
655       P:0218 57E800  [4 -     1406]            move              x:(r0+n0),b
656       P:0219 46F400  [4 -     1410]            move              #>32767,y0
                 007FFF
657       P:021B 20565D  [2 -     1412]            cmp     y0,b      (r6)-
658       P:021C 0AF0AF  [6 -     1418]            jle     L46
                 000226
659       P:021E 381100  [2 -     1420]            move              #17,n0
660       P:021F 46E800  [4 -     1424]            move              x:(r0+n0),y0
661       P:0220 20005D  [2 -     1426]            cmp     y0,b
662       P:0221 0AF0A7  [6 -     1432]            jgt     L46
                 000226
663       P:0223 45E800  [4 -     1436]            move              x:(r0+n0),x1
664       P:0224 0AF080  [6 -     1442]            jmp     L47
                 000239
665                                      L46
666       P:0226 381200  [2 -     1444]            move              #18,n0
667       P:0227 57E800  [4 -     1448]            move              x:(r0+n0),b
668       P:0228 380D00  [2 -     1450]            move              #13,n0
669       P:0229 46E800  [4 -     1454]            move              x:(r0+n0),y0
670       P:022A 20005D  [2 -     1456]            cmp     y0,b
671       P:022B 0AF0A7  [6 -     1462]            jgt     L48
                 000237
672       P:022D 46F400  [4 -     1466]            move              #>32767,y0
                 007FFF
673       P:022F 57E800  [4 -     1470]            move              x:(r0+n0),b
674       P:0230 20005D  [2 -     1472]            cmp     y0,b
675       P:0231 0AF0A7  [6 -     1478]            jgt     L48
                 000237
676       P:0233 381200  [2 -     1480]            move              #18,n0
677       P:0234 45E800  [4 -     1484]            move              x:(r0+n0),x1
678       P:0235 0AF080  [6 -     1490]            jmp     L47
                 000239
679                                      L48
680       P:0237 380D00  [2 -     1492]            move              #13,n0
681       P:0238 45E800  [4 -     1496]            move              x:(r0+n0),x1
682                                      L47
683                                      ; **************************************************
684                                      ;   
685                                      ;   /* TRIGB */
686                                      ;   S->A1 = S->T ? 0 : AP;
687                                      ; **************************************************
688       P:0239 205A00  [2 -     1498]            move              (r2)+
689       P:023A 56D200  [2 -     1500]            move              x:(r2)-,a
690       P:023B 200003  [2 -     1502]            tst     a
691       P:023C 0AF0AA  [6 -     1508]            jeq     L50
                 000241
692       P:023E 240000  [2 -     1510]            move              #0,x0
693       P:023F 0AF080  [6 -     1516]            jmp     L51
                 000242
694                                      L50
695       P:0241 20A400  [2 -     1518]            move              x1,x0
696                                      L51
697                                      ; **************************************************
698                                      ;   
699                                      ;   /* FMULT */
700                                      ;   WA1 = f_mult(S->A1, SR1);
701                                      ; **************************************************
702       P:0242 3A0D00  [2 -     1520]            move              #13,n2
703       P:0243 446A00  [4 -     1524]            move              x0,x:(r2+n2)
704       P:0244 475E00  [2 -     1526]            move              y1,x:(r6)+
705       P:0245 445E00  [2 -     1528]            move              x0,x:(r6)+
706       P:0246 0BF080  [6 -     1534]            jsr     Ff_mult
                 000000
707                                      ; **************************************************
708                                      ;   
709                                      ;   /* FLOATA */
710                                      ;   MAG = S->DQ & 16383;
711                                      ; **************************************************
712                                      ; **************************************************
713                                      ; /*  {
714                                      ;     register int mag = MAG << 1;
715                                      ; 
716                                      ;     for (EXP = 0; mag >>= 1; EXP++)
717                                      ; #ifdef __LOOPCOUNT__ 
718                                      ;       Loop3++;
719                                      ; #else
720                                      ;       ;
721                                      ; #endif
722                                      ;   } */
723                                      ;   MANT = MAG ? (MAG << 6) >> EXP : 1 << 5;
724                                      ; **************************************************
725       P:0248 380B00  [2 -     1536]            move              #11,n0
726       P:0249 44F400  [4 -     1540]            move              #>16383,x0
                 003FFF
727       P:024B 546800  [4 -     1544]            move              a1,x:(r0+n0)
728       P:024C 381300  [2 -     1546]            move              #19,n0
729       P:024D 46E200  [2 -     1548]            move              x:(r2),y0
730       P:024E 466859  [4 -     1552]            tfr     y0,b      y0,x:(r0+n0)
731       P:024F 38124E  [2 -     1554]            and     x0,b      #18,n0
732       P:0250 21AF00  [2 -     1556]            move              b1,b
733       P:0251 55680B  [4 -     1560]            tst     b         b1,x:(r0+n0)
734       P:0252 205600  [2 -     1562]            move              (r6)-
735       P:0253 205600  [2 -     1564]            move              (r6)-
736       P:0254 0AF0AA  [6 -     1570]            jeq     L52
                 000266
737       P:0256 0606A0  [4 -     1574]            rep     #6
738       P:0257 20003A  [2 -     1576]            asl     b
739       P:0258 380D00  [2 -     1578]            move              #13,n0
740       P:0259 21AF00  [2 -     1580]            move              b1,b
741       P:025A 56E800  [4 -     1584]            move              x:(r0+n0),a
742       P:025B 200003  [2 -     1586]            tst     a
743       P:025C 0AF0AA  [6 -     1592]            jeq     L63
                 000262
744       P:025E 21AF00  [2 -     1594]            move              b1,b
745       P:025F 06CE20  [4 -     1598]            rep     a
746       P:0260 20002A  [2 -     1600]            asr     b
747       P:0261 21AF00  [2 -     1602]            move              b1,b
748                                      L63
749       P:0262 380E00  [2 -     1604]            move              #14,n0
750       P:0263 556800  [4 -     1608]            move              b1,x:(r0+n0)
751       P:0264 0AF080  [6 -     1614]            jmp     L53
                 00026A
752                                      L52
753       P:0266 380E00  [2 -     1616]            move              #14,n0
754       P:0267 46F400  [4 -     1620]            move              #>32,y0
                 000020
755       P:0269 466800  [4 -     1624]            move              y0,x:(r0+n0)
756                                      L53
757                                      ; **************************************************
758                                      ;   DQSEZ = (DQS << 10) + (EXP << 6) + MANT;
759                                      ; **************************************************
760       P:026A 380600  [2 -     1626]            move              #6,n0
761       P:026B 57E800  [4 -     1630]            move              x:(r0+n0),b
762       P:026C 060AA0  [4 -     1634]            rep     #10
763       P:026D 20003A  [2 -     1636]            asl     b
764       P:026E 381300  [2 -     1638]            move              #19,n0
765       P:026F 21AF00  [2 -     1640]            move              b1,b
766       P:0270 556800  [4 -     1644]            move              b1,x:(r0+n0)
767       P:0271 380D00  [2 -     1646]            move              #13,n0
768       P:0272 57E800  [4 -     1650]            move              x:(r0+n0),b
769       P:0273 0606A0  [4 -     1654]            rep     #6
770       P:0274 20003A  [2 -     1656]            asl     b
771                                      ; **************************************************
772                                      ;   
773                                      ;   /* XOR */
774                                      ;   BP[0] = DQS ^ (S->DQ2 >> 10);
775                                      ; **************************************************
776       P:0275 3A0400  [2 -     1658]            move              #4,n2
777       P:0276 381300  [2 -     1660]            move              #19,n0
778       P:0277 21AF00  [2 -     1662]            move              b1,b
779       P:0278 21A600  [2 -     1664]            move              b1,y0
780       P:0279 57E800  [4 -     1668]            move              x:(r0+n0),b
781       P:027A 380E58  [2 -     1670]            add     y0,b      #14,n0
782       P:027B 46E800  [4 -     1674]            move              x:(r0+n0),y0
783       P:027C 380858  [2 -     1676]            add     y0,b      #8,n0
784       P:027D 556800  [4 -     1680]            move              b1,x:(r0+n0)
785       P:027E 46EA00  [4 -     1684]            move              x:(r2+n2),y0
786       P:027F 200059  [2 -     1686]            tfr     y0,b
787       P:0280 21AF00  [2 -     1688]            move              b1,b
788       P:0281 060AA0  [4 -     1692]            rep     #10
789       P:0282 20002A  [2 -     1694]            asr     b
790                                      ; **************************************************
791                                      ;   BP[1] = DQS ^ (S->DQ3 >> 10);
792                                      ; **************************************************
793       P:0283 3A0500  [2 -     1696]            move              #5,n2
794       P:0284 380600  [2 -     1698]            move              #6,n0
795       P:0285 21AF00  [2 -     1700]            move              b1,b
796       P:0286 21A400  [2 -     1702]            move              b1,x0
797       P:0287 57E800  [4 -     1706]            move              x:(r0+n0),b
798       P:0288 38134B  [2 -     1708]            eor     x0,b      #19,n0
799       P:0289 21AF00  [2 -     1710]            move              b1,b
800       P:028A 21A600  [2 -     1712]            move              b1,y0
801       P:028B 556800  [4 -     1716]            move              b1,x:(r0+n0)
802       P:028C 466000  [2 -     1718]            move              y0,x:(r0)
803       P:028D 46EA00  [4 -     1722]            move              x:(r2+n2),y0
804       P:028E 200059  [2 -     1724]            tfr     y0,b
805       P:028F 21AF00  [2 -     1726]            move              b1,b
806       P:0290 060AA0  [4 -     1730]            rep     #10
807       P:0291 20002A  [2 -     1732]            asr     b
808                                      ; **************************************************
809                                      ;   BP[2] = DQS ^ (S->DQ4 >> 10);
810                                      ; **************************************************
811       P:0292 3A0600  [2 -     1734]            move              #6,n2
812       P:0293 380600  [2 -     1736]            move              #6,n0
813       P:0294 21AF00  [2 -     1738]            move              b1,b
814       P:0295 21A400  [2 -     1740]            move              b1,x0
815       P:0296 57E800  [4 -     1744]            move              x:(r0+n0),b
816       P:0297 20584B  [2 -     1746]            eor     x0,b      (r0)+
817       P:0298 21AF00  [2 -     1748]            move              b1,b
818       P:0299 21A600  [2 -     1750]            move              b1,y0
819       P:029A 465000  [2 -     1752]            move              y0,x:(r0)-
820       P:029B 46EA00  [4 -     1756]            move              x:(r2+n2),y0
821       P:029C 200059  [2 -     1758]            tfr     y0,b
822       P:029D 21AF00  [2 -     1760]            move              b1,b
823       P:029E 060AA0  [4 -     1764]            rep     #10
824       P:029F 20002A  [2 -     1766]            asr     b
825                                      ; **************************************************
826                                      ;   BP[3] = DQS ^ (S->DQ5 >> 10);
827                                      ; **************************************************
828       P:02A0 3A0700  [2 -     1768]            move              #7,n2
829       P:02A1 21AF00  [2 -     1770]            move              b1,b
830       P:02A2 21A400  [2 -     1772]            move              b1,x0
831       P:02A3 57E800  [4 -     1776]            move              x:(r0+n0),b
832       P:02A4 38024B  [2 -     1778]            eor     x0,b      #2,n0
833       P:02A5 21AF00  [2 -     1780]            move              b1,b
834       P:02A6 21A600  [2 -     1782]            move              b1,y0
835       P:02A7 466800  [4 -     1786]            move              y0,x:(r0+n0)
836       P:02A8 46EA00  [4 -     1790]            move              x:(r2+n2),y0
837       P:02A9 200059  [2 -     1792]            tfr     y0,b
838       P:02AA 21AF00  [2 -     1794]            move              b1,b
839       P:02AB 060AA0  [4 -     1798]            rep     #10
840       P:02AC 20002A  [2 -     1800]            asr     b
841                                      ; **************************************************
842                                      ;   BP[4] = DQS ^ (S->DQ6 >> 10);
843                                      ; **************************************************
844       P:02AD 3A0800  [2 -     1802]            move              #8,n2
845       P:02AE 380600  [2 -     1804]            move              #6,n0
846       P:02AF 21AF00  [2 -     1806]            move              b1,b
847       P:02B0 21A400  [2 -     1808]            move              b1,x0
848       P:02B1 57E800  [4 -     1812]            move              x:(r0+n0),b
849       P:02B2 38034B  [2 -     1814]            eor     x0,b      #3,n0
850       P:02B3 21AF00  [2 -     1816]            move              b1,b
851       P:02B4 21A600  [2 -     1818]            move              b1,y0
852       P:02B5 466800  [4 -     1822]            move              y0,x:(r0+n0)
853       P:02B6 46EA00  [4 -     1826]            move              x:(r2+n2),y0
854       P:02B7 200059  [2 -     1828]            tfr     y0,b
855       P:02B8 21AF00  [2 -     1830]            move              b1,b
856       P:02B9 060AA0  [4 -     1834]            rep     #10
857       P:02BA 20002A  [2 -     1836]            asr     b
858                                      ; **************************************************
859                                      ;   BP[5] = DQS ^ (S->DQ7 >> 10);
860                                      ; **************************************************
861       P:02BB 3A0900  [2 -     1838]            move              #9,n2
862       P:02BC 380600  [2 -     1840]            move              #6,n0
863       P:02BD 21AF00  [2 -     1842]            move              b1,b
864       P:02BE 21A400  [2 -     1844]            move              b1,x0
865       P:02BF 57E800  [4 -     1848]            move              x:(r0+n0),b
866       P:02C0 38044B  [2 -     1850]            eor     x0,b      #4,n0
867       P:02C1 21AF00  [2 -     1852]            move              b1,b
868       P:02C2 21A600  [2 -     1854]            move              b1,y0
869       P:02C3 466800  [4 -     1858]            move              y0,x:(r0+n0)
870       P:02C4 46EA00  [4 -     1862]            move              x:(r2+n2),y0
871       P:02C5 200059  [2 -     1864]            tfr     y0,b
872       P:02C6 21AF00  [2 -     1866]            move              b1,b
873       P:02C7 060AA0  [4 -     1870]            rep     #10
874       P:02C8 20002A  [2 -     1872]            asr     b
875                                      ; **************************************************
876                                      ;   
877                                      ;   /* UPB */
878                                      ;   MANT = S->DQ & 16383;
879                                      ; **************************************************
880                                      ; **************************************************
881                                      ;  /* for (EXP = 0; EXP < 6; EXP++)
882                                      ;   {
883                                      ; #ifdef __LOOPCOUNT__ 
884                                      ;     Loop4++;
885                                      ; #endif
886                                      ;     DQS = MANT ? (BP[EXP] ? 65408 : 128) : 0;
887                                      ;     DQS += S->B[EXP] & (1 << 15) ? (65536 - ((S->B[EXP] >> 8) + 65280)) :
888                                      ;                                    (65536 - (S->B[EXP] >> 8));
889                                      ;     BP[EXP] = (S->B[EXP] + DQS) & 65535;
890                                      ;   }
891                                      ;   */
892                                      ;   /* TRIGB */
893                                      ;  /* if (S->T)
894                                      ;     for (EXP = 0; EXP < 6; EXP++)
895                                      ; #ifdef __LOOPCOUNT__ 
896                                      ;     {
897                                      ;       Loop5++;
898                                      ;       BP[EXP] = 0 ;
899                                      ;     }
900                                      ; #else
901                                      ;       BP[EXP] = 0 ;
902                                      ; #endif
903                                      ;   */
904                                      ;   /* FMULT */
905                                      ;   DQI  = f_mult(BP[0], DQSEZ);
906                                      ; **************************************************
907       P:02C9 380600  [2 -     1874]            move              #6,n0
908       P:02CA 61F400  [4 -     1878]            move              #Ff_mult,r1
                 000000
909       P:02CC 21AF00  [2 -     1880]            move              b1,b
910       P:02CD 21A400  [2 -     1882]            move              b1,x0
911       P:02CE 57E800  [4 -     1886]            move              x:(r0+n0),b
912       P:02CF 38054B  [2 -     1888]            eor     x0,b      #5,n0
913       P:02D0 21AF00  [2 -     1890]            move              b1,b
914       P:02D1 21A600  [2 -     1892]            move              b1,y0
915       P:02D2 466800  [4 -     1896]            move              y0,x:(r0+n0)
916       P:02D3 380800  [2 -     1898]            move              #8,n0
917       P:02D4 46E800  [4 -     1902]            move              x:(r0+n0),y0
918       P:02D5 381300  [2 -     1904]            move              #19,n0
919       P:02D6 465E00  [2 -     1906]            move              y0,x:(r6)+
920       P:02D7 46E800  [4 -     1910]            move              x:(r0+n0),y0
921       P:02D8 465E00  [2 -     1912]            move              y0,x:(r6)+
922       P:02D9 0BE180  [4 -     1916]            jsr     (r1)
923                                      ; **************************************************
924                                      ;   MAG  = f_mult(BP[1], S->DQ2);
925                                      ; **************************************************
926       P:02DA 3A0400  [2 -     1918]            move              #4,n2
927       P:02DB 380700  [2 -     1920]            move              #7,n0
928       P:02DC 205600  [2 -     1922]            move              (r6)-
929       P:02DD 546800  [4 -     1926]            move              a1,x:(r0+n0)
930       P:02DE 57E800  [4 -     1930]            move              x:(r0+n0),b
931       P:02DF 46EA00  [4 -     1934]            move              x:(r2+n2),y0
932       P:02E0 205800  [2 -     1936]            move              (r0)+
933       P:02E1 205600  [2 -     1938]            move              (r6)-
934       P:02E2 465E00  [2 -     1940]            move              y0,x:(r6)+
935       P:02E3 46D000  [2 -     1942]            move              x:(r0)-,y0
936       P:02E4 465E00  [2 -     1944]            move              y0,x:(r6)+
937       P:02E5 0BE180  [4 -     1948]            jsr     (r1)
938                                      ; **************************************************
939                                      ;   MANT = f_mult(BP[2], S->DQ3);
940                                      ; **************************************************
941       P:02E6 3A0500  [2 -     1950]            move              #5,n2
942       P:02E7 381200  [2 -     1952]            move              #18,n0
943       P:02E8 205600  [2 -     1954]            move              (r6)-
944       P:02E9 546800  [4 -     1958]            move              a1,x:(r0+n0)
945       P:02EA 380200  [2 -     1960]            move              #2,n0
946       P:02EB 46EA00  [4 -     1964]            move              x:(r2+n2),y0
947       P:02EC 205600  [2 -     1966]            move              (r6)-
948       P:02ED 465E00  [2 -     1968]            move              y0,x:(r6)+
949       P:02EE 46E800  [4 -     1972]            move              x:(r0+n0),y0
950       P:02EF 465E00  [2 -     1974]            move              y0,x:(r6)+
951       P:02F0 0BE180  [4 -     1978]            jsr     (r1)
952                                      ; **************************************************
953                                      ;   A1S  = f_mult(BP[3], S->DQ4);
954                                      ; **************************************************
955       P:02F1 3A0600  [2 -     1980]            move              #6,n2
956       P:02F2 380E00  [2 -     1982]            move              #14,n0
957       P:02F3 205600  [2 -     1984]            move              (r6)-
958       P:02F4 546800  [4 -     1988]            move              a1,x:(r0+n0)
959       P:02F5 380300  [2 -     1990]            move              #3,n0
960       P:02F6 46EA00  [4 -     1994]            move              x:(r2+n2),y0
961       P:02F7 205600  [2 -     1996]            move              (r6)-
962       P:02F8 465E00  [2 -     1998]            move              y0,x:(r6)+
963       P:02F9 46E800  [4 -     2002]            move              x:(r0+n0),y0
964       P:02FA 465E00  [2 -     2004]            move              y0,x:(r6)+
965       P:02FB 0BE180  [4 -     2008]            jsr     (r1)
966                                      ; **************************************************
967                                      ;   AP   = f_mult(BP[4], S->DQ5);
968                                      ; **************************************************
969       P:02FC 3A0700  [2 -     2010]            move              #7,n2
970       P:02FD 380A00  [2 -     2012]            move              #10,n0
971       P:02FE 205600  [2 -     2014]            move              (r6)-
972       P:02FF 546800  [4 -     2018]            move              a1,x:(r0+n0)
973       P:0300 380400  [2 -     2020]            move              #4,n0
974       P:0301 46EA00  [4 -     2024]            move              x:(r2+n2),y0
975       P:0302 205600  [2 -     2026]            move              (r6)-
976       P:0303 465E00  [2 -     2028]            move              y0,x:(r6)+
977       P:0304 46E800  [4 -     2032]            move              x:(r0+n0),y0
978       P:0305 465E00  [2 -     2034]            move              y0,x:(r6)+
979       P:0306 0BE180  [4 -     2038]            jsr     (r1)
980                                      ; **************************************************
981                                      ;   EXP  = f_mult(BP[5], S->DQ6);
982                                      ; **************************************************
983       P:0307 380500  [2 -     2040]            move              #5,n0
984       P:0308 3A0800  [2 -     2042]            move              #8,n2
985       P:0309 218500  [2 -     2044]            move              a1,x1
986       P:030A 46EA00  [4 -     2048]            move              x:(r2+n2),y0
987       P:030B 205600  [2 -     2050]            move              (r6)-
988       P:030C 205600  [2 -     2052]            move              (r6)-
989       P:030D 465E00  [2 -     2054]            move              y0,x:(r6)+
990       P:030E 46E800  [4 -     2058]            move              x:(r0+n0),y0
991       P:030F 465E00  [2 -     2060]            move              y0,x:(r6)+
992       P:0310 0BE180  [4 -     2064]            jsr     (r1)
993                                      ; **************************************************
994                                      ;   
995                                      ;   /* ACCUM */
996                                      ;   DQS = (DQI + MAG + MANT + A1S + AP + EXP) & 65535;
997                                      ; **************************************************
998                                      ; **************************************************
999                                      ;   S->SEZ = DQS >> 1;
1000                                     ; **************************************************
1001                                     ; **************************************************
1002                                     ;   S_E = S->SE = ((DQS + WA2 + WA1) & 65535) >> 1;
1003                                     ; **************************************************
1004                                     ; **************************************************
1005                                     ;   
1006                                     ;   /* STATE update */
1007                                     ;   S->PK2 = S->PK1;
1008                                     ; **************************************************
1009                                     ; **************************************************
1010                                     ;   S->PK1 = PK0;
1011                                     ; **************************************************
1012      P:0311 3A1600  [2 -     2066]            move              #22,n2
1013      P:0312 380D00  [2 -     2068]            move              #13,n0
1014      P:0313 44F400  [4 -     2072]            move              #>65535,x0
                 00FFFF
1015      P:0315 546800  [4 -     2076]            move              a1,x:(r0+n0)
1016      P:0316 381200  [2 -     2078]            move              #18,n0
1017      P:0317 205600  [2 -     2080]            move              (r6)-
1018      P:0318 46E800  [4 -     2084]            move              x:(r0+n0),y0
1019      P:0319 380E58  [2 -     2086]            add     y0,b      #14,n0
1020      P:031A 205600  [2 -     2088]            move              (r6)-
1021      P:031B 46E800  [4 -     2092]            move              x:(r0+n0),y0
1022      P:031C 380A58  [2 -     2094]            add     y0,b      #10,n0
1023      P:031D 46E800  [4 -     2098]            move              x:(r0+n0),y0
1024      P:031E 380D58  [2 -     2100]            add     y0,b      #13,n0
1025      P:031F 200068  [2 -     2102]            add     x1,b
1026      P:0320 46E800  [4 -     2106]            move              x:(r0+n0),y0
1027      P:0321 380658  [2 -     2108]            add     y0,b      #6,n0
1028      P:0322 20004E  [2 -     2110]            and     x0,b
1029      P:0323 21AF00  [2 -     2112]            move              b1,b
1030      P:0324 556800  [4 -     2116]            move              b1,x:(r0+n0)
1031      P:0325 21AF00  [2 -     2118]            move              b1,b
1032      P:0326 20002A  [2 -     2120]            asr     b
1033      P:0327 21AF00  [2 -     2122]            move              b1,b
1034      P:0328 21A600  [2 -     2124]            move              b1,y0
1035      P:0329 466A00  [4 -     2128]            move              y0,x:(r2+n2)
1036      P:032A 3A1500  [2 -     2130]            move              #21,n2
1037      P:032B 57E800  [4 -     2134]            move              x:(r0+n0),b
1038      P:032C 380C00  [2 -     2136]            move              #12,n0
1039      P:032D 46E800  [4 -     2140]            move              x:(r0+n0),y0
1040      P:032E 380B58  [2 -     2142]            add     y0,b      #11,n0
1041      P:032F 46E800  [4 -     2146]            move              x:(r0+n0),y0
1042      P:0330 380958  [2 -     2148]            add     y0,b      #9,n0
1043      P:0331 20004E  [2 -     2150]            and     x0,b
1044      P:0332 21AF00  [2 -     2152]            move              b1,b
1045      P:0333 21AF00  [2 -     2154]            move              b1,b
1046      P:0334 20002A  [2 -     2156]            asr     b
1047      P:0335 21AF00  [2 -     2158]            move              b1,b
1048      P:0336 21A600  [2 -     2160]            move              b1,y0
1049      P:0337 466A00  [4 -     2164]            move              y0,x:(r2+n2)
1050      P:0338 3A0A00  [2 -     2166]            move              #10,n2
1051      P:0339 467000  [4 -     2170]            move              y0,x:FS_E
                 000003
1052      P:033B 46EA00  [4 -     2174]            move              x:(r2+n2),y0
1053      P:033C 3A0B00  [2 -     2176]            move              #11,n2
1054      P:033D 466A00  [4 -     2180]            move              y0,x:(r2+n2)
1055      P:033E 46E800  [4 -     2184]            move              x:(r0+n0),y0
1056                                     ; **************************************************
1057                                     ;   S->SR2 = SR1;
1058                                     ; **************************************************
1059                                     ; **************************************************
1060                                     ;   A_2 = S->A2 = A2R;
1061                                     ; **************************************************
1062                                     ; **************************************************
1063                                     ; /*
1064                                     ;   for (EXP = 0; EXP < 6; EXP++)
1065                                     ; #ifdef __LOOPCOUNT__
1066                                     ;   {
1067                                     ;     Loop6++;
1068                                     ;     S->B[EXP] = BP[EXP];
1069                                     ;   }
1070                                     ; #else
1071                                     ;     S->B[EXP] = BP[EXP];
1072                                     ; #endif
1073                                     ; */
1074                                     ;   S->DQ7 = S->DQ6;
1075                                     ; **************************************************
1076                                     ; **************************************************
1077                                     ;   S->DQ6 = S->DQ5;
1078                                     ; **************************************************
1079                                     ; **************************************************
1080                                     ;   S->DQ5 = S->DQ4;
1081                                     ; **************************************************
1082                                     ; **************************************************
1083                                     ;   S->DQ4 = S->DQ3;
1084                                     ; **************************************************
1085                                     ; **************************************************
1086                                     ;   S->DQ3 = S->DQ2;
1087                                     ; **************************************************
1088                                     ; **************************************************
1089                                     ;   S->DQ2 = DQSEZ;
1090                                     ; **************************************************
1091                                     ; **************************************************
1092                                     ; }
1093                                     ; **************************************************
1094      P:033F 381400  [2 -     2186]            move              #20,n0
1095      P:0340 3A0A00  [2 -     2188]            move              #10,n2
1096      P:0341 205600  [2 -     2190]            move              (r6)-
1097      P:0342 466A00  [4 -     2194]            move              y0,x:(r2+n2)
1098      P:0343 3A0C00  [2 -     2196]            move              #12,n2
1099      P:0344 476A00  [4 -     2200]            move              y1,x:(r2+n2)
1100      P:0345 3A0E00  [2 -     2202]            move              #14,n2
1101      P:0346 46E800  [4 -     2206]            move              x:(r0+n0),y0
1102      P:0347 381300  [2 -     2208]            move              #19,n0
1103      P:0348 466A00  [4 -     2212]            move              y0,x:(r2+n2)
1104      P:0349 3A0800  [2 -     2214]            move              #8,n2
1105      P:034A 467000  [4 -     2218]            move              y0,x:FA_2
                 000008
1106      P:034C 46EA00  [4 -     2222]            move              x:(r2+n2),y0
1107      P:034D 3A0900  [2 -     2224]            move              #9,n2
1108      P:034E 466A00  [4 -     2228]            move              y0,x:(r2+n2)
1109      P:034F 3A0700  [2 -     2230]            move              #7,n2
1110      P:0350 46EA00  [4 -     2234]            move              x:(r2+n2),y0
1111      P:0351 3A0800  [2 -     2236]            move              #8,n2
1112      P:0352 466A00  [4 -     2240]            move              y0,x:(r2+n2)
1113      P:0353 3A0600  [2 -     2242]            move              #6,n2
1114      P:0354 46EA00  [4 -     2246]            move              x:(r2+n2),y0
1115      P:0355 3A0700  [2 -     2248]            move              #7,n2
1116      P:0356 466A00  [4 -     2252]            move              y0,x:(r2+n2)
1117      P:0357 3A0500  [2 -     2254]            move              #5,n2
1118      P:0358 46EA00  [4 -     2258]            move              x:(r2+n2),y0
1119      P:0359 3A0600  [2 -     2260]            move              #6,n2
1120      P:035A 466A00  [4 -     2264]            move              y0,x:(r2+n2)
1121      P:035B 3A0400  [2 -     2266]            move              #4,n2
1122      P:035C 46EA00  [4 -     2270]            move              x:(r2+n2),y0
1123      P:035D 3A0500  [2 -     2272]            move              #5,n2
1124      P:035E 466800  [4 -     2276]            move              y0,x:(r0+n0)
1125      P:035F 380800  [2 -     2278]            move              #8,n0
1126      P:0360 466A00  [4 -     2282]            move              y0,x:(r2+n2)
1127      P:0361 3A0400  [2 -     2284]            move              #4,n2
1128      P:0362 46E800  [4 -     2288]            move              x:(r0+n0),y0
1129      P:0363 466A00  [4 -     2292]            move              y0,x:(r2+n2)
1130      P:0364 62D600  [2 -     2294]            move              x:(r6)-,r2
1131      P:0365 61D600  [2 -     2296]            move              x:(r6)-,r1
1132      P:0366 47D600  [2 -     2298]            move              x:(r6)-,y1
1133      P:0367 46D600  [2 -     2300]            move              x:(r6)-,y0
1134      P:0368 45D600  [2 -     2302]            move              x:(r6)-,x1
1135      P:0369 44D600  [2 -     2304]            move              x:(r6)-,x0
1136      P:036A 57D600  [2 -     2306]            move              x:(r6)-,b
1137      P:036B 51E600  [2 -     2308]            move              x:(r6),b0
1138      P:036C 205000  [2 -     2310]            move              (r0)-
1139      P:036D 05D03C  [2 -     2312]            move              x:(r0)-,ssh
1140      P:036E 221600  [2 -     2314]            move              r0,r6
1141      P:036F 60E000  [2 -     2316]            move              x:(r0),r0
1142      P:0370 00000C  [4 -     2320]            rts
1143   
1144      X:0000                                   org     x:
1145                                               global  FTDP
1146      X:0000 000000                  FTDP      bsc     1
1147                                               global  FSP
1148      X:0001 000000                  FSP       bsc     1
1149                                               global  FSL
1150      X:0002 000000                  FSL       bsc     1
1151                                               global  FS_E
1152      X:0003 000000                  FS_E      bsc     1
1153                                               global  FSD
1154      X:0004 000000                  FSD       bsc     1
1155                                               global  FI
1156      X:0005 000000                  FI        bsc     1
1157                                               global  FD
1158      X:0006 000000                  FD        bsc     1
1159                                               global  FAL
1160      X:0007 000000                  FAL       bsc     1
1161                                               global  FA_2
1162      X:0008 000000                  FA_2      bsc     1
1163   
1164                                               endsec
1165   
1166                                     ; 
1167   
57   Errors
0    Warnings
