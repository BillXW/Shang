1                                        ;
2                                        ;       annotate version 1.03
3                                        ;
4                                        ; **************************************************
5                                        ; **************************************************
6                                                  section flt_adpcm_c
7                                                  opt     so,nomd
8                                                  page    132,66,3,3
9                                        ;*** DSP56000/1 Motorola 1.03 GNU 1.37.1
10        P:0000                                   org     p:
11                                                 global  FData_in
12        X:0000                                   org     x:
13                                       FData_in
14        X:0000                                   dc      122
15                                                 global  FD
16                                       FD
17        X:0001                                   dc      $000000
18        X:0002                                   dc      $000000
19                                                 global  FSL
20                                       FSL
21        X:0003                                   dc      0
22                                                 global  FSP
23                                       FSP
24        X:0004                                   dc      $000000
25        X:0005                                   dc      $000000
26                                                 global  FSD
27                                       FSD
28        X:0006                                   dc      0
29                                                 global  FI
30                                       FI
31        X:0007                                   dc      0
32                                                 global  FA_2
33                                       FA_2
34        X:0008                                   dc      $000000
35        X:0009                                   dc      $000000
36                                                 global  Fs_e
37                                       Fs_e
38        X:000A                                   dc      $000000
39        X:000B                                   dc      $000000
40                                                 global  FAL
41                                       FAL
42        X:000C                                   dc      $000000
43        X:000D                                   dc      $000000
44                                                 global  FTDP
45                                       FTDP
46        X:000E                                   dc      0
47                                                 global  FTR
48                                       FTR
49        X:000F                                   dc      0
50                                                 global  FDQ
51                                       FDQ
52        X:0010                                   dc      $000000
53        X:0011                                   dc      $000000
54                                                 global  FY1
55                                       FY1
56        X:0012                                   dc      $000000
57        X:0013                                   dc      $000000
58                                                 global  FYL1
59                                       FYL1
60        X:0014                                   dc      $000000
61        X:0015                                   dc      $000000
62                                                 global  FE_DQ1
63                                       FE_DQ1
64        X:0016                                   dc      $000000
65        X:0017                                   dc      $000000
66                                                 global  FE_TR1
67                                       FE_TR1
68        X:0018                                   dc      0
69                                                 global  FD_DQ1
70                                       FD_DQ1
71        X:0019                                   dc      $000000
72        X:001A                                   dc      $000000
73                                                 global  FD_TR1
74                                       FD_TR1
75        X:001B                                   dc      0
76                                                 global  FE_Y
77                                       FE_Y
78        X:001C                                   dc      $000000
79        X:001D                                   dc      $000000
80                                                 global  FE_YL
81                                       FE_YL
82        X:001E                                   dc      $000000
83        X:001F                                   dc      $000000
84                                                 global  FD_Y
85                                       FD_Y
86        X:0020                                   dc      $000000
87        X:0021                                   dc      $000000
88                                                 global  FD_YL
89                                       FD_YL
90        X:0022                                   dc      $000000
91        X:0023                                   dc      $000000
92                                                 global  FE_A1
93                                       FE_A1
94        X:0024                                   dc      $000000
95        X:0025                                   dc      $000000
96                                                 global  FE_A2
97                                       FE_A2
98        X:0026                                   dc      $000000
99        X:0027                                   dc      $000000
100                                                global  FE_P1
101                                      FE_P1
102       X:0028                                   dc      $000000
103       X:0029                                   dc      $000000
104                                                global  FE_P2
105                                      FE_P2
106       X:002A                                   dc      $000000
107       X:002B                                   dc      $000000
108                                                global  FE_P3
109                                      FE_P3
110       X:002C                                   dc      $000000
111       X:002D                                   dc      $000000
112                                                global  FE_SR2
113                                      FE_SR2
114       X:002E                                   dc      $000000
115       X:002F                                   dc      $000000
116       P:0000                                   org     p:
117                                                global  FE_B
118       X:0030                                   org     x:
119                                      FE_B
120       X:0030                                   dc      $000000
121       X:0031                                   dc      $000000
122       X:0032                                   dc      $000000
123       X:0033                                   dc      $000000
124       X:0034                                   dc      $000000
125       X:0035                                   dc      $000000
126       X:0036                                   dc      $000000
127       X:0037                                   dc      $000000
128       X:0038                                   dc      $000000
129       X:0039                                   dc      $000000
130       X:003A                                   dc      $000000
131       X:003B                                   dc      $000000
132       P:0000                                   org     p:
133                                                global  FE_D_Q
134       X:003C                                   org     x:
135                                      FE_D_Q
136       X:003C                                   dc      $000000
137       X:003D                                   dc      $000000
138       X:003E                                   dc      $000000
139       X:003F                                   dc      $000000
140       X:0040                                   dc      $000000
141       X:0041                                   dc      $000000
142       X:0042                                   dc      $000000
143       X:0043                                   dc      $000000
144       X:0044                                   dc      $000000
145       X:0045                                   dc      $000000
146       X:0046                                   dc      $000000
147       X:0047                                   dc      $000000
148                                                global  FE_SE
149                                      FE_SE
150       X:0048                                   dc      $000000
151       X:0049                                   dc      $000000
152                                                global  FE_SEZ
153                                      FE_SEZ
154       X:004A                                   dc      $000000
155       X:004B                                   dc      $000000
156                                                global  FE_DMS
157                                      FE_DMS
158       X:004C                                   dc      $000000
159       X:004D                                   dc      $000000
160                                                global  FE_DML
161                                      FE_DML
162       X:004E                                   dc      $000000
163       X:004F                                   dc      $000000
164                                                global  FE_AP
165                                      FE_AP
166       X:0050                                   dc      $000000
167       X:0051                                   dc      $000000
168                                                global  FE_Y_L
169                                      FE_Y_L
170       X:0052                                   dc      $000000
171       X:0053                                   dc      $000000
172                                                global  FE_YU
173                                      FE_YU
174       X:0054                                   dc      $000000
175       X:0055                                   dc      $000000
176                                                global  FD_A1
177                                      FD_A1
178       X:0056                                   dc      $000000
179       X:0057                                   dc      $000000
180                                                global  FD_A2
181                                      FD_A2
182       X:0058                                   dc      $000000
183       X:0059                                   dc      $000000
184                                                global  FD_P1
185                                      FD_P1
186       X:005A                                   dc      $000000
187       X:005B                                   dc      $000000
188                                                global  FD_P2
189                                      FD_P2
190       X:005C                                   dc      $000000
191       X:005D                                   dc      $000000
192                                                global  FD_P3
193                                      FD_P3
194       X:005E                                   dc      $000000
195       X:005F                                   dc      $000000
196                                                global  FD_SR2
197                                      FD_SR2
198       X:0060                                   dc      $000000
199       X:0061                                   dc      $000000
200       P:0000                                   org     p:
201                                                global  FD_B
202       X:0062                                   org     x:
203                                      FD_B
204       X:0062                                   dc      $000000
205       X:0063                                   dc      $000000
206       X:0064                                   dc      $000000
207       X:0065                                   dc      $000000
208       X:0066                                   dc      $000000
209       X:0067                                   dc      $000000
210       X:0068                                   dc      $000000
211       X:0069                                   dc      $000000
212       X:006A                                   dc      $000000
213       X:006B                                   dc      $000000
214       X:006C                                   dc      $000000
215       X:006D                                   dc      $000000
216       P:0000                                   org     p:
217                                                global  FD_D_Q
218       X:006E                                   org     x:
219                                      FD_D_Q
220       X:006E                                   dc      $000000
221       X:006F                                   dc      $000000
222       X:0070                                   dc      $000000
223       X:0071                                   dc      $000000
224       X:0072                                   dc      $000000
225       X:0073                                   dc      $000000
226       X:0074                                   dc      $000000
227       X:0075                                   dc      $000000
228       X:0076                                   dc      $000000
229       X:0077                                   dc      $000000
230       X:0078                                   dc      $000000
231       X:0079                                   dc      $000000
232                                                global  FD_SE
233                                      FD_SE
234       X:007A                                   dc      $000000
235       X:007B                                   dc      $000000
236                                                global  FD_SEZ
237                                      FD_SEZ
238       X:007C                                   dc      $000000
239       X:007D                                   dc      $000000
240                                                global  FD_DMS
241                                      FD_DMS
242       X:007E                                   dc      $000000
243       X:007F                                   dc      $000000
244                                                global  FD_DML
245                                      FD_DML
246       X:0080                                   dc      $000000
247       X:0081                                   dc      $000000
248                                                global  FD_AP
249                                      FD_AP
250       X:0082                                   dc      $000000
251       X:0083                                   dc      $000000
252                                                global  FD_Y_L
253                                      FD_Y_L
254       X:0084                                   dc      $000000
255       X:0085                                   dc      $000000
256                                                global  FD_YU
257                                      FD_YU
258       X:0086                                   dc      $000000
259       X:0087                                   dc      $000000
260       P:0000                                   org     p:
261                                                global  Fadpt_predict
262                                      Fadpt_predict
263                                      ; **************************************************
264                                      ; /*
265                                      ;  * flt_adpcm.c
266                                      ;  * Handwritten version of an optimized ADPCM transcoder applying the
267                                      ;  * CCITT recommendation G.721
268                                      ;  * floating point version
269                                      ;  * 6-10-1993 Chris Schlaeger
270                                      ;  * 12-10-1993 Juan Martinez Velarde
271                                      ;  * 21-10-1993 Juan Martinez Velarde, last changes
272                                      ;  */
273                                      ; 
274                                      ; #include <math.h>
275                                      ; #include <stdlib.h>
276                                      ; #include <stdio.h>
277                                      ; 
278                                      ; #define sgn1(x) ((x) < 0.0 ? -1.0 : 1 )  
279                                      ; #define sgn0(x) ((x) > 0.0 ?  1.0 : ((x) < 0.0 ? -1.0 : 0 )) 
280                                      ; 
281                                      ; #define FALSE   0
282                                      ; #define TRUE    !FALSE
283                                      ; 
284                                      ; #ifdef __DSP56K__ /* code defined for the g56k compiler */
285                                      ; 
286                                      ; #ifdef __SIMULATION__
287                                      ; #include "data_in.c"
288                                      ; #else 
289                                      ; #define N_OF_DATA 1
290                                      ; #endif
291                                      ; 
292                                      ; #else   /* code not defined for the dsp56k */
293                                      ; FILE* istrm ;
294                                      ; FILE* ostrm ;
295                                      ; FILE* t1strm;
296                                      ; FILE* t2strm ;
297                                      ; FILE* t3strm ;
298                                      ; 
299                                      ; #endif
300                                      ; 
301                                      ; int ExitFlag ; 
302                                      ; 
303                                      ; /* Global signals */
304                                      ; float D = 0; 
305                                      ; int SL = 0  ;
306                                      ; float SP = 0 ; 
307                                      ; int SD = 0 ;
308                                      ; int I = 0;
309                                      ; float A_2 = 0 ; 
310                                      ; float s_e = 0;
311                                      ; float AL = 0;
312                                      ; int TDP = 0 ; 
313                                      ; int TR = 0 ; 
314                                      ; float DQ = 0 ; 
315                                      ; float Y1 = 0 ; 
316                                      ; float YL1 = 0 ; 
317                                      ; 
318                                      ; /* encoder adpt predictor ports, 2 delayed signals*/
319                                      ; float E_DQ1 = 0 ; 
320                                      ; int E_TR1 = 0 ; 
321                                      ; 
322                                      ; /* decoder adpt predictor ports, 2 delayed signals*/
323                                      ; float D_DQ1 = 0 ; 
324                                      ; int D_TR1 = 0 ; 
325                                      ; 
326                                      ; /* encoder scale factor ports, 2 delayed signals */
327                                      ; float E_Y = 0 ; 
328                                      ; float E_YL = 0 ; 
329                                      ; 
330                                      ; /* decoder scale factor ports, 2 delayed signals */
331                                      ; float D_Y = 0 ; 
332                                      ; float D_YL = 0 ; 
333                                      ; 
334                                      ; /* ENCODER states */
335                                      ; /* encoder ADPT_PREDICTOR states */
336                                      ; float E_A1 = 0; 
337                                      ; float E_A2 = 0;
338                                      ; float E_P1 = 0;
339                                      ; float E_P2 = 0;
340                                      ; float E_P3 = 0 ; 
341                                      ; float E_SR2 = 0;
342                                      ; float E_B[6] = { 0, 0, 0, 0, 0, 0 };
343                                      ; float E_D_Q[6] = {0, 0, 0, 0, 0, 0} ; 
344                                      ; float E_SE = 0;
345                                      ; float E_SEZ = 0;
346                                      ; 
347                                      ; /* encoder speed control states */
348                                      ; float E_DMS = 0;
349                                      ; float E_DML = 0;
350                                      ; float E_AP = 0;
351                                      ; 
352                                      ; /* encoder scale factor states */
353                                      ; float E_Y_L = 0 ; 
354                                      ; float E_YU = 0 ; 
355                                      ; 
356                                      ; /* DECODER states */
357                                      ; /* decoder ADPT_PREDICTOR states */
358                                      ; float D_A1 = 0;
359                                      ; float D_A2 = 0;
360                                      ; float D_P1 = 0;
361                                      ; float D_P2 = 0;
362                                      ; float D_P3 = 0 ; 
363                                      ; float D_SR2 = 0;
364                                      ; float D_B[6] = { 0, 0, 0, 0, 0, 0 };
365                                      ; float D_D_Q[6] = {0, 0, 0, 0, 0, 0} ; 
366                                      ; float D_SE = 0;
367                                      ; float D_SEZ = 0;
368                                      ; 
369                                      ; /* decoder speed control states */
370                                      ; float D_DMS = 0;
371                                      ; float D_DML = 0;
372                                      ; float D_AP = 0;
373                                      ; 
374                                      ; /* decoder scale factor states */
375                                      ; float D_Y_L = 0 ;
376                                      ; float D_YU  = 0 ; 
377                                      ; 
378                                      ; void adpt_predict( D_Q_1, TR,
379                                      ;                 A1,  A2, 
380                                      ;                 P1,  P2,  P3, 
381                                      ;                 S_R2, 
382                                      ;                 B, D_Q, 
383                                      ;                 S_E,  S_EZ)
384                                      ; float *D_Q_1 ; 
385                                      ; int *TR ; 
386                                      ; float *A1 ; 
387                                      ; float *A2 ; 
388                                      ; float *P1 ; 
389                                      ; float *P2 ; 
390                                      ; float *P3 ; 
391                                      ; float *S_R2 ; 
392                                      ; float *B ; 
393                                      ; float *D_Q ; 
394                                      ; float *S_E ; 
395                                      ; float *S_EZ ; 
396                                      ; {
397                                      ;   register float f_a_0;
398                                      ;   register int  i ; 
399                                      ;   register float abs_a1 ; 
400                                      ; 
401                                      ;   *P3 = *P2;
402                                      ; **************************************************
403                                      ; **************************************************
404                                      ;   *P2 = *P1;
405                                      ; **************************************************
406                                      ; **************************************************
407                                      ;   *P1 = *D_Q_1 + *S_EZ;
408                                      ; **************************************************
409       P:0000 70F400  [4 -        4]            move              #65533,n0
                 00FFFD
410       P:0002 3E1C00  [2 -        6]            move              #28,n6
411       P:0003 605E00  [2 -        8]            move              r0,x:(r6)+
412       P:0004 205E00  [2 -       10]            move              (r6)+
413       P:0005 22D000  [2 -       12]            move              r6,r0
414       P:0006 204E00  [2 -       14]            move              (r6)+n6
415       P:0007 515E00  [2 -       16]            move              b0,x:(r6)+
416       P:0008 555E00  [2 -       18]            move              b1,x:(r6)+
417       P:0009 445E00  [2 -       20]            move              x0,x:(r6)+
418       P:000A 455E00  [2 -       22]            move              x1,x:(r6)+
419       P:000B 465E00  [2 -       24]            move              y0,x:(r6)+
420       P:000C 475E00  [2 -       26]            move              y1,x:(r6)+
421       P:000D 615E00  [2 -       28]            move              r1,x:(r6)+
422       P:000E 625E00  [2 -       30]            move              r2,x:(r6)+
423       P:000F 635E00  [2 -       32]            move              r3,x:(r6)+
424       P:0010 645E00  [2 -       34]            move              r4,x:(r6)+
425       P:0011 655E00  [2 -       36]            move              r5,x:(r6)+
426       P:0012 675E00  [2 -       38]            move              r7,x:(r6)+
427       P:0013 64E800  [4 -       42]            move              x:(r0+n0),r4
428       P:0014 70F400  [4 -       46]            move              #65531,n0
                 00FFFB
429       P:0016 205C00  [2 -       48]            move              (r4)+
430       P:0017 63E800  [4 -       52]            move              x:(r0+n0),r3
431       P:0018 70F400  [4 -       56]            move              #65530,n0
                 00FFFA
432       P:001A 65E800  [4 -       60]            move              x:(r0+n0),r5
433       P:001B 70F400  [4 -       64]            move              #65529,n0
                 00FFF9
434       P:001D 61E800  [4 -       68]            move              x:(r0+n0),r1
435       P:001E 70F400  [4 -       72]            move              #65528,n0
                 00FFF8
436       P:0020 205900  [2 -       74]            move              (r1)+
437       P:0021 62E800  [4 -       78]            move              x:(r0+n0),r2
438       P:0022 70F400  [4 -       82]            move              #65527,n0
                 00FFF7
439       P:0024 205A00  [2 -       84]            move              (r2)+
440       P:0025 67E800  [4 -       88]            move              x:(r0+n0),r7
441       P:0026 70F400  [4 -       92]            move              #65522,n0
                 00FFF2
442       P:0028 47D200  [2 -       94]            move              x:(r2)-,y1
443       P:0029 46E200  [2 -       96]            move              x:(r2),y0
444       P:002A 465F00  [2 -       98]            move              y0,x:(r7)+
445       P:002B 475700  [2 -      100]            move              y1,x:(r7)-
446       P:002C 47D100  [2 -      102]            move              x:(r1)-,y1
447       P:002D 46E100  [2 -      104]            move              x:(r1),y0
448       P:002E 465A00  [2 -      106]            move              y0,x:(r2)+
449       P:002F 475200  [2 -      108]            move              y1,x:(r2)-
450       P:0030 67E800  [4 -      112]            move              x:(r0+n0),r7
451       P:0031 57D400  [2 -      114]            move              x:(r4)-,b
452       P:0032 51E400  [2 -      116]            move              x:(r4),b0
453       P:0033 205F00  [2 -      118]            move              (r7)+
454       P:0034 56D700  [2 -      120]            move              x:(r7)-,a
455       P:0035 50E700  [2 -      122]            move              x:(r7),a0
456       P:0036 0BF080  [6 -      128]            jsr     fadd_ab
                 000000
457                                      ; **************************************************
458                                      ;   
459                                      ;   if (*TR == 1)
460                                      ; **************************************************
461       P:0038 70F400  [4 -      132]            move              #65532,n0
                 00FFFC
462       P:003A 45F400  [4 -      136]            move              #>1,x1
                 000001
463       P:003C 515900  [2 -      138]            move              b0,x:(r1)+
464       P:003D 555100  [2 -      140]            move              b1,x:(r1)-
465       P:003E 67E800  [4 -      144]            move              x:(r0+n0),r7
466       P:003F 381800  [2 -      146]            move              #24,n0
467       P:0040 46E700  [2 -      148]            move              x:(r7),y0
468       P:0041 466859  [4 -      152]            tfr     y0,b      y0,x:(r0+n0)
469       P:0042 20006D  [2 -      154]            cmp     x1,b
470       P:0043 0AF0A2  [6 -      160]            jne     L36
                 000067
471                                      ; **************************************************
472                                      ;     {
473                                      ;      *A1 = *A2 = 0.0;
474                                      ; **************************************************
475                                      ; **************************************************
476                                      ;      for (i = 0; i < 6; i++)
477                                      ; **************************************************
478       P:0045 381A13  [2 -      162]            clr     a         #26,n0
479       P:0046 240000  [2 -      164]            move              #0,x0
480       P:0047 505D00  [2 -      166]            move              a0,x:(r5)+
481       P:0048 545500  [2 -      168]            move              a1,x:(r5)-
482       P:0049 505B00  [2 -      170]            move              a0,x:(r3)+
483       P:004A 545300  [2 -      172]            move              a1,x:(r3)-
484       P:004B 205800  [2 -      174]            move              (r0)+
485       P:004C 204800  [2 -      176]            move              (r0)+n0
486       P:004D 545000  [2 -      178]            move              a1,x:(r0)-
487       P:004E 504000  [2 -      180]            move              a0,x:(r0)-n0
488       P:004F 060680  [6 -      186]            do      #6,L93
                 000064
489                                      L40
490                                      ; **************************************************
491                                      ;        B[i] = 0.0;
492                                      ; **************************************************
493                                      ; **************************************************
494                                      ; **************************************************
495       P:0051 381800  [2 -      188]            move              #24,n0
496       P:0052 46F400  [4 -      192]            move              #>2,y0
                 000002
497       P:0054 2000D8  [2 -      194]            mpy     +y0,x0,b
498       P:0055 20002A  [2 -      196]            asr     b
499       P:0056 212F00  [2 -      198]            move              b0,b
500       P:0057 21A600  [2 -      200]            move              b1,y0
501       P:0058 556800  [4 -      204]            move              b1,x:(r0+n0)
502       P:0059 70F400  [4 -      208]            move              #65525,n0
                 00FFF5
503       P:005B 57E800  [4 -      212]            move              x:(r0+n0),b
504       P:005C 381A58  [2 -      214]            add     y0,b      #26,n0
505       P:005D 21B149  [2 -      216]            tfr     x0,b      b1,r1
506       P:005E 205868  [2 -      218]            add     x1,b      (r0)+
507       P:005F 21A400  [2 -      220]            move              b1,x0
508       P:0060 204800  [2 -      222]            move              (r0)+n0
509       P:0061 47D000  [2 -      224]            move              x:(r0)-,y1
510       P:0062 46C000  [2 -      226]            move              x:(r0)-n0,y0
511       P:0063 465900  [2 -      228]            move              y0,x:(r1)+
512       P:0064 475100  [2 -      230]            move              y1,x:(r1)-
513                                      L93
514       P:0065 0AF080  [6 -      236]            jmp     L91
                 00036B
515                                      L36
516                                      ; **************************************************
517                                      ;    }
518                                      ;   else
519                                      ;     {
520                                      ;       i = (int) sgn0(*P1) ; 
521                                      ; **************************************************
522       P:0067 20591B  [2 -      238]            clr     b         (r1)+
523       P:0068 56D100  [2 -      240]            move              x:(r1)-,a
524       P:0069 50E100  [2 -      242]            move              x:(r1),a0
525       P:006A 0BF080  [6 -      248]            jsr     fcmp_ba
                 000000
526       P:006C 0AF0AF  [6 -      254]            jle     L42
                 000074
527       P:006E 46F400  [4 -      258]            move              #>8192,y0
                 002000
528       P:0070 47F400  [4 -      262]            move              #>4194304,y1
                 400000
529       P:0072 0AF080  [6 -      268]            jmp     L94
                 000085
530                                      L42
531       P:0074 20591B  [2 -      270]            clr     b         (r1)+
532       P:0075 56D100  [2 -      272]            move              x:(r1)-,a
533       P:0076 50E100  [2 -      274]            move              x:(r1),a0
534       P:0077 0BF080  [6 -      280]            jsr     fcmp_ba
                 000000
535       P:0079 0AF0A1  [6 -      286]            jge     L44
                 000081
536       P:007B 46F400  [4 -      290]            move              #>8191,y0
                 001FFF
537       P:007D 47F400  [4 -      294]            move              #>8388608,y1
                 800000
538       P:007F 0AF080  [6 -      300]            jmp     L94
                 000085
539                                      L44
540       P:0081 46F400  [4 -      304]            move              #>0,y0
                 000000
541       P:0083 47F400  [4 -      308]            move              #>0,y1
                 000000
542                                      L94
543       P:0085 381800  [2 -      310]            move              #24,n0
544       P:0086 205800  [2 -      312]            move              (r0)+
545       P:0087 204800  [2 -      314]            move              (r0)+n0
546       P:0088 475000  [2 -      316]            move              y1,x:(r0)-
547       P:0089 464000  [2 -      318]            move              y0,x:(r0)-n0
548       P:008A 205800  [2 -      320]            move              (r0)+
549       P:008B 204800  [2 -      322]            move              (r0)+n0
550       P:008C 57D000  [2 -      324]            move              x:(r0)-,b
551       P:008D 51C000  [2 -      326]            move              x:(r0)-n0,b0
552       P:008E 0BF080  [6 -      332]            jsr     fixdfsi_b
                 000000
553                                      ; **************************************************
554                                      ;       abs_a1 = fabs(*A1) ; 
555                                      ; **************************************************
556       P:0090 381600  [2 -      334]            move              #22,n0
557       P:0091 21A400  [2 -      336]            move              b1,x0
558       P:0092 205800  [2 -      338]            move              (r0)+
559       P:0093 204800  [2 -      340]            move              (r0)+n0
560       P:0094 205B00  [2 -      342]            move              (r3)+
561       P:0095 47D300  [2 -      344]            move              x:(r3)-,y1
562       P:0096 46E379  [2 -      346]            tfr     y1,b      x:(r3),y0
563       P:0097 20C900  [2 -      348]            move              y0,b0
564       P:0098 475000  [2 -      350]            move              y1,x:(r0)-
565       P:0099 47F400  [4 -      354]            move              #>0,y1
                 000000
566       P:009B 464071  [2 -      356]            tfr     y1,a      y0,x:(r0)-n0
567       P:009C 381800  [2 -      358]            move              #24,n0
568       P:009D 46F400  [4 -      362]            move              #>0,y0
                 000000
569       P:009F 20C800  [2 -      364]            move              y0,a0
570       P:00A0 205800  [2 -      366]            move              (r0)+
571       P:00A1 204800  [2 -      368]            move              (r0)+n0
572       P:00A2 475000  [2 -      370]            move              y1,x:(r0)-
573       P:00A3 464000  [2 -      372]            move              y0,x:(r0)-n0
574       P:00A4 0BF080  [6 -      378]            jsr     fcmp_ab
                 000000
575       P:00A6 0AF0AF  [6 -      384]            jle     L47
                 0000B4
576       P:00A8 381600  [2 -      386]            move              #22,n0
577       P:00A9 205800  [2 -      388]            move              (r0)+
578       P:00AA 204800  [2 -      390]            move              (r0)+n0
579       P:00AB 47D000  [2 -      392]            move              x:(r0)-,y1
580       P:00AC 46C000  [2 -      394]            move              x:(r0)-n0,y0
581       P:00AD 381800  [2 -      396]            move              #24,n0
582       P:00AE 205800  [2 -      398]            move              (r0)+
583       P:00AF 204800  [2 -      400]            move              (r0)+n0
584       P:00B0 475000  [2 -      402]            move              y1,x:(r0)-
585       P:00B1 464000  [2 -      404]            move              y0,x:(r0)-n0
586       P:00B2 0AF080  [6 -      410]            jmp     L48
                 0000C0
587                                      L47
588       P:00B4 381600  [2 -      412]            move              #22,n0
589       P:00B5 205800  [2 -      414]            move              (r0)+
590       P:00B6 204800  [2 -      416]            move              (r0)+n0
591       P:00B7 57D000  [2 -      418]            move              x:(r0)-,b
592       P:00B8 51C000  [2 -      420]            move              x:(r0)-n0,b0
593       P:00B9 0BF080  [6 -      426]            jsr     fneg_b
                 000000
594       P:00BB 381800  [2 -      428]            move              #24,n0
595       P:00BC 205800  [2 -      430]            move              (r0)+
596       P:00BD 204800  [2 -      432]            move              (r0)+n0
597       P:00BE 555000  [2 -      434]            move              b1,x:(r0)-
598       P:00BF 514000  [2 -      436]            move              b0,x:(r0)-n0
599                                      L48
600                                      ; **************************************************
601                                      ; **************************************************
602                                      ; **************************************************
603                                      ;       f_a_0 = (abs_a1 > 0.5 ? 2.0 * sgn1(*A1) : 4.0 * *A1);
604                                      ; **************************************************
605       P:00C0 381800  [2 -      438]            move              #24,n0
606       P:00C1 205800  [2 -      440]            move              (r0)+
607       P:00C2 204800  [2 -      442]            move              (r0)+n0
608       P:00C3 47D000  [2 -      444]            move              x:(r0)-,y1
609       P:00C4 46C079  [2 -      446]            tfr     y1,b      x:(r0)-n0,y0
610       P:00C5 380200  [2 -      448]            move              #2,n0
611       P:00C6 20C900  [2 -      450]            move              y0,b0
612       P:00C7 205800  [2 -      452]            move              (r0)+
613       P:00C8 204800  [2 -      454]            move              (r0)+n0
614       P:00C9 475000  [2 -      456]            move              y1,x:(r0)-
615       P:00CA 47F400  [4 -      460]            move              #>4194304,y1
                 400000
616       P:00CC 464071  [2 -      462]            tfr     y1,a      y0,x:(r0)-n0
617       P:00CD 381800  [2 -      464]            move              #24,n0
618       P:00CE 46F400  [4 -      468]            move              #>8191,y0
                 001FFF
619       P:00D0 20C800  [2 -      470]            move              y0,a0
620       P:00D1 205800  [2 -      472]            move              (r0)+
621       P:00D2 204800  [2 -      474]            move              (r0)+n0
622       P:00D3 475000  [2 -      476]            move              y1,x:(r0)-
623       P:00D4 464000  [2 -      478]            move              y0,x:(r0)-n0
624       P:00D5 0BF080  [6 -      484]            jsr     fcmp_ab
                 000000
625       P:00D7 0AF0AF  [6 -      490]            jle     L49
                 0000F9
626       P:00D9 205B1B  [2 -      492]            clr     b         (r3)+
627       P:00DA 56D300  [2 -      494]            move              x:(r3)-,a
628       P:00DB 50E300  [2 -      496]            move              x:(r3),a0
629       P:00DC 0BF080  [6 -      502]            jsr     fcmp_ba
                 000000
630       P:00DE 0AF0A1  [6 -      508]            jge     L51
                 0000E6
631       P:00E0 46F400  [4 -      512]            move              #>8191,y0
                 001FFF
632       P:00E2 47F400  [4 -      516]            move              #>8388608,y1
                 800000
633       P:00E4 0AF080  [6 -      522]            jmp     L95
                 0000EA
634                                      L51
635       P:00E6 46F400  [4 -      526]            move              #>8192,y0
                 002000
636       P:00E8 47F400  [4 -      530]            move              #>4194304,y1
                 400000
637                                      L95
638       P:00EA 381800  [2 -      532]            move              #24,n0
639       P:00EB 56F400  [4 -      536]            move              #>4194304,a
                 400000
640       P:00ED 50F400  [4 -      540]            move              #>8193,a0
                 002001
641       P:00EF 205800  [2 -      542]            move              (r0)+
642       P:00F0 204800  [2 -      544]            move              (r0)+n0
643       P:00F1 475000  [2 -      546]            move              y1,x:(r0)-
644       P:00F2 464000  [2 -      548]            move              y0,x:(r0)-n0
645       P:00F3 205800  [2 -      550]            move              (r0)+
646       P:00F4 204800  [2 -      552]            move              (r0)+n0
647       P:00F5 57D000  [2 -      554]            move              x:(r0)-,b
648       P:00F6 51C000  [2 -      556]            move              x:(r0)-n0,b0
649       P:00F7 0AF080  [6 -      562]            jmp     L96
                 000100
650                                      L49
651       P:00F9 56F400  [4 -      566]            move              #>4194304,a
                 400000
652       P:00FB 50F400  [4 -      570]            move              #>8194,a0
                 002002
653       P:00FD 205B00  [2 -      572]            move              (r3)+
654       P:00FE 57D300  [2 -      574]            move              x:(r3)-,b
655       P:00FF 51E300  [2 -      576]            move              x:(r3),b0
656                                      L96
657       P:0100 0BF080  [6 -      582]            jsr     fmpy_ab
                 000000
658                                      ; **************************************************
659                                      ;       *A2 = 0.9921875 * *A2 + 0.0078125 * 
660                                      ;        (i * sgn1(*P3) - f_a_0 * i * sgn1(*P2) );      
661                                      ; **************************************************
662       P:0102 56F400  [4 -      586]            move              #>8323072,a
                 7F0000
663       P:0104 50F400  [4 -      590]            move              #>8191,a0
                 001FFF
664       P:0106 515800  [2 -      592]            move              b0,x:(r0)+
665       P:0107 555000  [2 -      594]            move              b1,x:(r0)-
666       P:0108 205D00  [2 -      596]            move              (r5)+
667       P:0109 57D500  [2 -      598]            move              x:(r5)-,b
668       P:010A 51E500  [2 -      600]            move              x:(r5),b0
669       P:010B 0BF080  [6 -      606]            jsr     fmpy_ab
                 000000
670       P:010D 380400  [2 -      608]            move              #4,n0
671       P:010E 205800  [2 -      610]            move              (r0)+
672       P:010F 204800  [2 -      612]            move              (r0)+n0
673       P:0110 555000  [2 -      614]            move              b1,x:(r0)-
674       P:0111 514049  [2 -      616]            tfr     x0,b      b0,x:(r0)-n0
675       P:0112 0BF080  [6 -      622]            jsr     floatsidf_b
                 000000
676       P:0114 380600  [2 -      624]            move              #6,n0
677       P:0115 205800  [2 -      626]            move              (r0)+
678       P:0116 204800  [2 -      628]            move              (r0)+n0
679       P:0117 555000  [2 -      630]            move              b1,x:(r0)-
680       P:0118 514000  [2 -      632]            move              b0,x:(r0)-n0
681       P:0119 70F400  [4 -      636]            move              #65527,n0
                 00FFF7
682       P:011B 67E800  [4 -      640]            move              x:(r0+n0),r7
683       P:011C 381800  [2 -      642]            move              #24,n0
684       P:011D 205F00  [2 -      644]            move              (r7)+
685       P:011E 47D700  [2 -      646]            move              x:(r7)-,y1
686       P:011F 46E779  [2 -      648]            tfr     y1,b      x:(r7),y0
687       P:0120 20C900  [2 -      650]            move              y0,b0
688       P:0121 205800  [2 -      652]            move              (r0)+
689       P:0122 204800  [2 -      654]            move              (r0)+n0
690       P:0123 475000  [2 -      656]            move              y1,x:(r0)-
691       P:0124 47F400  [4 -      660]            move              #>0,y1
                 000000
692       P:0126 464071  [2 -      662]            tfr     y1,a      y0,x:(r0)-n0
693       P:0127 381600  [2 -      664]            move              #22,n0
694       P:0128 46F400  [4 -      668]            move              #>0,y0
                 000000
695       P:012A 20C800  [2 -      670]            move              y0,a0
696       P:012B 205800  [2 -      672]            move              (r0)+
697       P:012C 204800  [2 -      674]            move              (r0)+n0
698       P:012D 475000  [2 -      676]            move              y1,x:(r0)-
699       P:012E 464000  [2 -      678]            move              y0,x:(r0)-n0
700       P:012F 0BF080  [6 -      684]            jsr     fcmp_ab
                 000000
701       P:0131 0AF0A1  [6 -      690]            jge     L53
                 000139
702       P:0133 46F400  [4 -      694]            move              #>8191,y0
                 001FFF
703       P:0135 47F400  [4 -      698]            move              #>8388608,y1
                 800000
704       P:0137 0AF080  [6 -      704]            jmp     L97
                 00013D
705                                      L53
706       P:0139 46F400  [4 -      708]            move              #>8192,y0
                 002000
707       P:013B 47F400  [4 -      712]            move              #>4194304,y1
                 400000
708                                      L97
709       P:013D 381800  [2 -      714]            move              #24,n0
710       P:013E 205800  [2 -      716]            move              (r0)+
711       P:013F 204800  [2 -      718]            move              (r0)+n0
712       P:0140 475000  [2 -      720]            move              y1,x:(r0)-
713       P:0141 464000  [2 -      722]            move              y0,x:(r0)-n0
714       P:0142 380600  [2 -      724]            move              #6,n0
715       P:0143 205800  [2 -      726]            move              (r0)+
716       P:0144 204800  [2 -      728]            move              (r0)+n0
717       P:0145 57D000  [2 -      730]            move              x:(r0)-,b
718       P:0146 51C000  [2 -      732]            move              x:(r0)-n0,b0
719       P:0147 381800  [2 -      734]            move              #24,n0
720       P:0148 205800  [2 -      736]            move              (r0)+
721       P:0149 204800  [2 -      738]            move              (r0)+n0
722       P:014A 56D000  [2 -      740]            move              x:(r0)-,a
723       P:014B 50C000  [2 -      742]            move              x:(r0)-n0,a0
724       P:014C 0BF080  [6 -      748]            jsr     fmpy_ab
                 000000
725       P:014E 380800  [2 -      750]            move              #8,n0
726       P:014F 205800  [2 -      752]            move              (r0)+
727       P:0150 204800  [2 -      754]            move              (r0)+n0
728       P:0151 555000  [2 -      756]            move              b1,x:(r0)-
729       P:0152 514049  [2 -      758]            tfr     x0,b      b0,x:(r0)-n0
730       P:0153 0BF080  [6 -      764]            jsr     floatsidf_b
                 000000
731       P:0155 205801  [2 -      766]            tfr     b,a       (r0)+
732       P:0156 57D000  [2 -      768]            move              x:(r0)-,b
733       P:0157 51E000  [2 -      770]            move              x:(r0),b0
734       P:0158 0BF080  [6 -      776]            jsr     fmpy_ab
                 000000
735       P:015A 380A00  [2 -      778]            move              #10,n0
736       P:015B 205A00  [2 -      780]            move              (r2)+
737       P:015C 205800  [2 -      782]            move              (r0)+
738       P:015D 204800  [2 -      784]            move              (r0)+n0
739       P:015E 555000  [2 -      786]            move              b1,x:(r0)-
740       P:015F 514000  [2 -      788]            move              b0,x:(r0)-n0
741       P:0160 381800  [2 -      790]            move              #24,n0
742       P:0161 47D200  [2 -      792]            move              x:(r2)-,y1
743       P:0162 46E279  [2 -      794]            tfr     y1,b      x:(r2),y0
744       P:0163 20C900  [2 -      796]            move              y0,b0
745       P:0164 205800  [2 -      798]            move              (r0)+
746       P:0165 204800  [2 -      800]            move              (r0)+n0
747       P:0166 475000  [2 -      802]            move              y1,x:(r0)-
748       P:0167 47F400  [4 -      806]            move              #>0,y1
                 000000
749       P:0169 464071  [2 -      808]            tfr     y1,a      y0,x:(r0)-n0
750       P:016A 381600  [2 -      810]            move              #22,n0
751       P:016B 46F400  [4 -      814]            move              #>0,y0
                 000000
752       P:016D 20C800  [2 -      816]            move              y0,a0
753       P:016E 205800  [2 -      818]            move              (r0)+
754       P:016F 204800  [2 -      820]            move              (r0)+n0
755       P:0170 475000  [2 -      822]            move              y1,x:(r0)-
756       P:0171 464000  [2 -      824]            move              y0,x:(r0)-n0
757       P:0172 0BF080  [6 -      830]            jsr     fcmp_ab
                 000000
758       P:0174 0AF0A1  [6 -      836]            jge     L55
                 00017C
759       P:0176 46F400  [4 -      840]            move              #>8191,y0
                 001FFF
760       P:0178 47F400  [4 -      844]            move              #>8388608,y1
                 800000
761       P:017A 0AF080  [6 -      850]            jmp     L98
                 000180
762                                      L55
763       P:017C 46F400  [4 -      854]            move              #>8192,y0
                 002000
764       P:017E 47F400  [4 -      858]            move              #>4194304,y1
                 400000
765                                      L98
766       P:0180 381800  [2 -      860]            move              #24,n0
767       P:0181 205800  [2 -      862]            move              (r0)+
768       P:0182 204800  [2 -      864]            move              (r0)+n0
769       P:0183 475000  [2 -      866]            move              y1,x:(r0)-
770       P:0184 464000  [2 -      868]            move              y0,x:(r0)-n0
771       P:0185 380A00  [2 -      870]            move              #10,n0
772       P:0186 205800  [2 -      872]            move              (r0)+
773       P:0187 204800  [2 -      874]            move              (r0)+n0
774       P:0188 57D000  [2 -      876]            move              x:(r0)-,b
775       P:0189 51C000  [2 -      878]            move              x:(r0)-n0,b0
776       P:018A 381800  [2 -      880]            move              #24,n0
777       P:018B 205800  [2 -      882]            move              (r0)+
778       P:018C 204800  [2 -      884]            move              (r0)+n0
779       P:018D 56D000  [2 -      886]            move              x:(r0)-,a
780       P:018E 50C000  [2 -      888]            move              x:(r0)-n0,a0
781       P:018F 0BF080  [6 -      894]            jsr     fmpy_ab
                 000000
782       P:0191 380801  [2 -      896]            tfr     b,a       #8,n0
783       P:0192 205800  [2 -      898]            move              (r0)+
784       P:0193 204800  [2 -      900]            move              (r0)+n0
785       P:0194 57D000  [2 -      902]            move              x:(r0)-,b
786       P:0195 51C000  [2 -      904]            move              x:(r0)-n0,b0
787       P:0196 0BF080  [6 -      910]            jsr     fsub_ab
                 000000
788       P:0198 56F400  [4 -      914]            move              #>4194304,a
                 400000
789       P:019A 50F400  [4 -      918]            move              #>8185,a0
                 001FF9
790       P:019C 0BF080  [6 -      924]            jsr     fmpy_ab
                 000000
791       P:019E 380401  [2 -      926]            tfr     b,a       #4,n0
792       P:019F 205800  [2 -      928]            move              (r0)+
793       P:01A0 204800  [2 -      930]            move              (r0)+n0
794       P:01A1 57D000  [2 -      932]            move              x:(r0)-,b
795       P:01A2 51C000  [2 -      934]            move              x:(r0)-n0,b0
796       P:01A3 0BF080  [6 -      940]            jsr     fadd_ab
                 000000
797                                      ; **************************************************
798                                      ;       if (fabs(*A2) > 0.75)
799                                      ; **************************************************
800       P:01A5 381600  [2 -      942]            move              #22,n0
801       P:01A6 212600  [2 -      944]            move              b0,y0
802       P:01A7 21A700  [2 -      946]            move              b1,y1
803       P:01A8 465D00  [2 -      948]            move              y0,x:(r5)+
804       P:01A9 475500  [2 -      950]            move              y1,x:(r5)-
805       P:01AA 205800  [2 -      952]            move              (r0)+
806       P:01AB 204800  [2 -      954]            move              (r0)+n0
807       P:01AC 475000  [2 -      956]            move              y1,x:(r0)-
808       P:01AD 47F400  [4 -      960]            move              #>0,y1
                 000000
809       P:01AF 464071  [2 -      962]            tfr     y1,a      y0,x:(r0)-n0
810       P:01B0 381800  [2 -      964]            move              #24,n0
811       P:01B1 46F400  [4 -      968]            move              #>0,y0
                 000000
812       P:01B3 20C800  [2 -      970]            move              y0,a0
813       P:01B4 205800  [2 -      972]            move              (r0)+
814       P:01B5 204800  [2 -      974]            move              (r0)+n0
815       P:01B6 475000  [2 -      976]            move              y1,x:(r0)-
816       P:01B7 464000  [2 -      978]            move              y0,x:(r0)-n0
817       P:01B8 0BF080  [6 -      984]            jsr     fcmp_ab
                 000000
818       P:01BA 0AF0AF  [6 -      990]            jle     L59
                 0001C7
819       P:01BC 381600  [2 -      992]            move              #22,n0
820       P:01BD 205800  [2 -      994]            move              (r0)+
821       P:01BE 204800  [2 -      996]            move              (r0)+n0
822       P:01BF 47D000  [2 -      998]            move              x:(r0)-,y1
823       P:01C0 46C000  [2 -     1000]            move              x:(r0)-n0,y0
824       P:01C1 205800  [2 -     1002]            move              (r0)+
825       P:01C2 204800  [2 -     1004]            move              (r0)+n0
826       P:01C3 475000  [2 -     1006]            move              y1,x:(r0)-
827       P:01C4 464000  [2 -     1008]            move              y0,x:(r0)-n0
828       P:01C5 0AF080  [6 -     1014]            jmp     L60
                 0001D2
829                                      L59
830       P:01C7 381600  [2 -     1016]            move              #22,n0
831       P:01C8 205800  [2 -     1018]            move              (r0)+
832       P:01C9 204800  [2 -     1020]            move              (r0)+n0
833       P:01CA 57D000  [2 -     1022]            move              x:(r0)-,b
834       P:01CB 51C000  [2 -     1024]            move              x:(r0)-n0,b0
835       P:01CC 0BF080  [6 -     1030]            jsr     fneg_b
                 000000
836       P:01CE 205800  [2 -     1032]            move              (r0)+
837       P:01CF 204800  [2 -     1034]            move              (r0)+n0
838       P:01D0 555000  [2 -     1036]            move              b1,x:(r0)-
839       P:01D1 514000  [2 -     1038]            move              b0,x:(r0)-n0
840                                      L60
841                                      ; **************************************************
842                                      ; **************************************************
843       P:01D2 381800  [2 -     1040]            move              #24,n0
844       P:01D3 46F400  [4 -     1044]            move              #>8191,y0
                 001FFF
845       P:01D5 47F400  [4 -     1048]            move              #>6291456,y1
                 600000
846       P:01D7 205871  [2 -     1050]            tfr     y1,a      (r0)+
847       P:01D8 20C800  [2 -     1052]            move              y0,a0
848       P:01D9 204800  [2 -     1054]            move              (r0)+n0
849       P:01DA 475000  [2 -     1056]            move              y1,x:(r0)-
850       P:01DB 464000  [2 -     1058]            move              y0,x:(r0)-n0
851       P:01DC 381600  [2 -     1060]            move              #22,n0
852       P:01DD 205800  [2 -     1062]            move              (r0)+
853       P:01DE 204800  [2 -     1064]            move              (r0)+n0
854       P:01DF 57D000  [2 -     1066]            move              x:(r0)-,b
855       P:01E0 51C000  [2 -     1068]            move              x:(r0)-n0,b0
856       P:01E1 0BF080  [6 -     1074]            jsr     fcmp_ab
                 000000
857       P:01E3 0AF0AF  [6 -     1080]            jle     L57
                 000201
858                                      ; **************************************************
859                                      ;       *A2 = (*A2 < 0.0) ? -0.75 : 0.75;
860                                      ; **************************************************
861       P:01E5 205D1B  [2 -     1082]            clr     b         (r5)+
862       P:01E6 56D500  [2 -     1084]            move              x:(r5)-,a
863       P:01E7 50E500  [2 -     1086]            move              x:(r5),a0
864       P:01E8 0BF080  [6 -     1092]            jsr     fcmp_ba
                 000000
865       P:01EA 0AF0A1  [6 -     1098]            jge     L61
                 0001F2
866       P:01EC 46F400  [4 -     1102]            move              #>8191,y0
                 001FFF
867       P:01EE 47F400  [4 -     1106]            move              #>10485760,y1
                 A00000
868       P:01F0 0AF080  [6 -     1112]            jmp     L99
                 0001F6
869                                      L61
870       P:01F2 46F400  [4 -     1116]            move              #>8191,y0
                 001FFF
871       P:01F4 47F400  [4 -     1120]            move              #>6291456,y1
                 600000
872                                      L99
873       P:01F6 381A00  [2 -     1122]            move              #26,n0
874       P:01F7 205800  [2 -     1124]            move              (r0)+
875       P:01F8 204800  [2 -     1126]            move              (r0)+n0
876       P:01F9 475000  [2 -     1128]            move              y1,x:(r0)-
877       P:01FA 464000  [2 -     1130]            move              y0,x:(r0)-n0
878       P:01FB 205800  [2 -     1132]            move              (r0)+
879       P:01FC 204800  [2 -     1134]            move              (r0)+n0
880       P:01FD 47D000  [2 -     1136]            move              x:(r0)-,y1
881       P:01FE 46C000  [2 -     1138]            move              x:(r0)-n0,y0
882       P:01FF 465D00  [2 -     1140]            move              y0,x:(r5)+
883       P:0200 475500  [2 -     1142]            move              y1,x:(r5)-
884                                      L57
885                                      ; **************************************************
886                                      ;       
887                                      ;       *A1 = 0.99609375 * *A1 + 0.01171875 * i * sgn1(*P2);
888                                      ; **************************************************
889       P:0201 56F400  [4 -     1146]            move              #>8355840,a
                 7F8000
890       P:0203 50F400  [4 -     1150]            move              #>8191,a0
                 001FFF
891       P:0205 205B00  [2 -     1152]            move              (r3)+
892       P:0206 57D300  [2 -     1154]            move              x:(r3)-,b
893       P:0207 51E300  [2 -     1156]            move              x:(r3),b0
894       P:0208 0BF080  [6 -     1162]            jsr     fmpy_ab
                 000000
895       P:020A 380C00  [2 -     1164]            move              #12,n0
896       P:020B 205800  [2 -     1166]            move              (r0)+
897       P:020C 204800  [2 -     1168]            move              (r0)+n0
898       P:020D 555000  [2 -     1170]            move              b1,x:(r0)-
899       P:020E 514049  [2 -     1172]            tfr     x0,b      b0,x:(r0)-n0
900       P:020F 0BF080  [6 -     1178]            jsr     floatsidf_b
                 000000
901       P:0211 56F400  [4 -     1182]            move              #>6291456,a
                 600000
902       P:0213 50F400  [4 -     1186]            move              #>8185,a0
                 001FF9
903       P:0215 0BF080  [6 -     1192]            jsr     fmpy_ab
                 000000
904       P:0217 380E00  [2 -     1194]            move              #14,n0
905       P:0218 205A00  [2 -     1196]            move              (r2)+
906       P:0219 205800  [2 -     1198]            move              (r0)+
907       P:021A 204800  [2 -     1200]            move              (r0)+n0
908       P:021B 555000  [2 -     1202]            move              b1,x:(r0)-
909       P:021C 514000  [2 -     1204]            move              b0,x:(r0)-n0
910       P:021D 381800  [2 -     1206]            move              #24,n0
911       P:021E 47D200  [2 -     1208]            move              x:(r2)-,y1
912       P:021F 46E279  [2 -     1210]            tfr     y1,b      x:(r2),y0
913       P:0220 20C900  [2 -     1212]            move              y0,b0
914       P:0221 205800  [2 -     1214]            move              (r0)+
915       P:0222 204800  [2 -     1216]            move              (r0)+n0
916       P:0223 475000  [2 -     1218]            move              y1,x:(r0)-
917       P:0224 47F400  [4 -     1222]            move              #>0,y1
                 000000
918       P:0226 464071  [2 -     1224]            tfr     y1,a      y0,x:(r0)-n0
919       P:0227 381600  [2 -     1226]            move              #22,n0
920       P:0228 46F400  [4 -     1230]            move              #>0,y0
                 000000
921       P:022A 20C800  [2 -     1232]            move              y0,a0
922       P:022B 205800  [2 -     1234]            move              (r0)+
923       P:022C 204800  [2 -     1236]            move              (r0)+n0
924       P:022D 475000  [2 -     1238]            move              y1,x:(r0)-
925       P:022E 464000  [2 -     1240]            move              y0,x:(r0)-n0
926       P:022F 0BF080  [6 -     1246]            jsr     fcmp_ab
                 000000
927       P:0231 0AF0A1  [6 -     1252]            jge     L63
                 000239
928       P:0233 46F400  [4 -     1256]            move              #>8191,y0
                 001FFF
929       P:0235 47F400  [4 -     1260]            move              #>8388608,y1
                 800000
930       P:0237 0AF080  [6 -     1266]            jmp     L100
                 00023D
931                                      L63
932       P:0239 46F400  [4 -     1270]            move              #>8192,y0
                 002000
933       P:023B 47F400  [4 -     1274]            move              #>4194304,y1
                 400000
934                                      L100
935       P:023D 381800  [2 -     1276]            move              #24,n0
936       P:023E 205800  [2 -     1278]            move              (r0)+
937       P:023F 204800  [2 -     1280]            move              (r0)+n0
938       P:0240 475000  [2 -     1282]            move              y1,x:(r0)-
939       P:0241 464000  [2 -     1284]            move              y0,x:(r0)-n0
940       P:0242 380E00  [2 -     1286]            move              #14,n0
941       P:0243 205800  [2 -     1288]            move              (r0)+
942       P:0244 204800  [2 -     1290]            move              (r0)+n0
943       P:0245 57D000  [2 -     1292]            move              x:(r0)-,b
944       P:0246 51C000  [2 -     1294]            move              x:(r0)-n0,b0
945       P:0247 381800  [2 -     1296]            move              #24,n0
946       P:0248 205800  [2 -     1298]            move              (r0)+
947       P:0249 204800  [2 -     1300]            move              (r0)+n0
948       P:024A 56D000  [2 -     1302]            move              x:(r0)-,a
949       P:024B 50C000  [2 -     1304]            move              x:(r0)-n0,a0
950       P:024C 0BF080  [6 -     1310]            jsr     fmpy_ab
                 000000
951       P:024E 380C01  [2 -     1312]            tfr     b,a       #12,n0
952       P:024F 205800  [2 -     1314]            move              (r0)+
953       P:0250 204800  [2 -     1316]            move              (r0)+n0
954       P:0251 57D000  [2 -     1318]            move              x:(r0)-,b
955       P:0252 51C000  [2 -     1320]            move              x:(r0)-n0,b0
956       P:0253 0BF080  [6 -     1326]            jsr     fadd_ab
                 000000
957                                      ; **************************************************
958                                      ;       if (abs_a1 > 0.9375 - *A2)
959                                      ; **************************************************
960       P:0255 381600  [2 -     1328]            move              #22,n0
961       P:0256 212600  [2 -     1330]            move              b0,y0
962       P:0257 21A700  [2 -     1332]            move              b1,y1
963       P:0258 205D00  [2 -     1334]            move              (r5)+
964       P:0259 205800  [2 -     1336]            move              (r0)+
965       P:025A 204800  [2 -     1338]            move              (r0)+n0
966       P:025B 555000  [2 -     1340]            move              b1,x:(r0)-
967       P:025C 514000  [2 -     1342]            move              b0,x:(r0)-n0
968       P:025D 57F400  [4 -     1346]            move              #>7864320,b
                 780000
969       P:025F 51F400  [4 -     1350]            move              #>8191,b0
                 001FFF
970       P:0261 465B00  [2 -     1352]            move              y0,x:(r3)+
971       P:0262 475300  [2 -     1354]            move              y1,x:(r3)-
972       P:0263 56D500  [2 -     1356]            move              x:(r5)-,a
973       P:0264 50E500  [2 -     1358]            move              x:(r5),a0
974       P:0265 0BF080  [6 -     1364]            jsr     fsub_ab
                 000000
975       P:0267 381801  [2 -     1366]            tfr     b,a       #24,n0
976       P:0268 205800  [2 -     1368]            move              (r0)+
977       P:0269 204800  [2 -     1370]            move              (r0)+n0
978       P:026A 555000  [2 -     1372]            move              b1,x:(r0)-
979       P:026B 514000  [2 -     1374]            move              b0,x:(r0)-n0
980       P:026C 380200  [2 -     1376]            move              #2,n0
981       P:026D 205800  [2 -     1378]            move              (r0)+
982       P:026E 204800  [2 -     1380]            move              (r0)+n0
983       P:026F 57D000  [2 -     1382]            move              x:(r0)-,b
984       P:0270 51C000  [2 -     1384]            move              x:(r0)-n0,b0
985       P:0271 0BF080  [6 -     1390]            jsr     fcmp_ab
                 000000
986       P:0273 0AF0AF  [6 -     1396]            jle     L65
                 0002AF
987                                      ; **************************************************
988                                      ;        *A1 = (0.9375 - *A2) * (*A1 < 0.0 ? -1.0 : 1.0);       
989                                      ; **************************************************
990       P:0275 381800  [2 -     1398]            move              #24,n0
991       P:0276 205800  [2 -     1400]            move              (r0)+
992       P:0277 204800  [2 -     1402]            move              (r0)+n0
993       P:0278 47D000  [2 -     1404]            move              x:(r0)-,y1
994       P:0279 46C000  [2 -     1406]            move              x:(r0)-n0,y0
995       P:027A 381000  [2 -     1408]            move              #16,n0
996       P:027B 205800  [2 -     1410]            move              (r0)+
997       P:027C 204800  [2 -     1412]            move              (r0)+n0
998       P:027D 475000  [2 -     1414]            move              y1,x:(r0)-
999       P:027E 47F400  [4 -     1418]            move              #>0,y1
                 000000
1000      P:0280 464071  [2 -     1420]            tfr     y1,a      y0,x:(r0)-n0
1001      P:0281 381800  [2 -     1422]            move              #24,n0
1002      P:0282 46F400  [4 -     1426]            move              #>0,y0
                 000000
1003      P:0284 20C800  [2 -     1428]            move              y0,a0
1004      P:0285 205800  [2 -     1430]            move              (r0)+
1005      P:0286 204800  [2 -     1432]            move              (r0)+n0
1006      P:0287 475000  [2 -     1434]            move              y1,x:(r0)-
1007      P:0288 464000  [2 -     1436]            move              y0,x:(r0)-n0
1008      P:0289 381600  [2 -     1438]            move              #22,n0
1009      P:028A 205800  [2 -     1440]            move              (r0)+
1010      P:028B 204800  [2 -     1442]            move              (r0)+n0
1011      P:028C 57D000  [2 -     1444]            move              x:(r0)-,b
1012      P:028D 51C000  [2 -     1446]            move              x:(r0)-n0,b0
1013      P:028E 0BF080  [6 -     1452]            jsr     fcmp_ab
                 000000
1014      P:0290 0AF0A1  [6 -     1458]            jge     L66
                 000298
1015      P:0292 46F400  [4 -     1462]            move              #>8191,y0
                 001FFF
1016      P:0294 47F400  [4 -     1466]            move              #>8388608,y1
                 800000
1017      P:0296 0AF080  [6 -     1472]            jmp     L101
                 00029C
1018                                     L66
1019      P:0298 46F400  [4 -     1476]            move              #>8192,y0
                 002000
1020      P:029A 47F400  [4 -     1480]            move              #>4194304,y1
                 400000
1021                                     L101
1022      P:029C 381800  [2 -     1482]            move              #24,n0
1023      P:029D 205800  [2 -     1484]            move              (r0)+
1024      P:029E 204800  [2 -     1486]            move              (r0)+n0
1025      P:029F 475000  [2 -     1488]            move              y1,x:(r0)-
1026      P:02A0 464000  [2 -     1490]            move              y0,x:(r0)-n0
1027      P:02A1 381000  [2 -     1492]            move              #16,n0
1028      P:02A2 205800  [2 -     1494]            move              (r0)+
1029      P:02A3 204800  [2 -     1496]            move              (r0)+n0
1030      P:02A4 57D000  [2 -     1498]            move              x:(r0)-,b
1031      P:02A5 51C000  [2 -     1500]            move              x:(r0)-n0,b0
1032      P:02A6 381800  [2 -     1502]            move              #24,n0
1033      P:02A7 205800  [2 -     1504]            move              (r0)+
1034      P:02A8 204800  [2 -     1506]            move              (r0)+n0
1035      P:02A9 56D000  [2 -     1508]            move              x:(r0)-,a
1036      P:02AA 50C000  [2 -     1510]            move              x:(r0)-n0,a0
1037      P:02AB 0BF080  [6 -     1516]            jsr     fmpy_ab
                 000000
1038      P:02AD 515B00  [2 -     1518]            move              b0,x:(r3)+
1039      P:02AE 555300  [2 -     1520]            move              b1,x:(r3)-
1040                                     L65
1041                                     ; **************************************************
1042                                     ;       
1043                                     ;       for (i = 0; i < 6; i++)
1044                                     ; **************************************************
1045      P:02AF 381400  [2 -     1522]            move              #20,n0
1046      P:02B0 45F400  [4 -     1526]            move              #>1,x1
                 000001
1047      P:02B2 46F400  [4 -     1530]            move              #>0,y0
                 000000
1048      P:02B4 47F400  [4 -     1534]            move              #>0,y1
                 000000
1049      P:02B6 240000  [2 -     1536]            move              #0,x0
1050      P:02B7 205800  [2 -     1538]            move              (r0)+
1051      P:02B8 204800  [2 -     1540]            move              (r0)+n0
1052      P:02B9 475000  [2 -     1542]            move              y1,x:(r0)-
1053      P:02BA 464000  [2 -     1544]            move              y0,x:(r0)-n0
1054      P:02BB 060680  [6 -     1550]            do      #6,L91
                 00036A
1055                                     L77
1056                                     ; **************************************************
1057                                     ;       B[i] = 0.99609375 * B[i] + 
1058                                     ;        0.0078125 *  sgn0(*D_Q_1) * sgn1(D_Q[i]);
1059                                     ; **************************************************
1060      P:02BD 70F400  [4 -     1554]            move              #65525,n0
                 00FFF5
1061      P:02BF 56F400  [4 -     1558]            move              #>8355840,a
                 7F8000
1062      P:02C1 50F400  [4 -     1562]            move              #>8191,a0
                 001FFF
1063      P:02C3 46F400  [4 -     1566]            move              #>2,y0
                 000002
1064      P:02C5 2000D8  [2 -     1568]            mpy     +y0,x0,b
1065      P:02C6 20002A  [2 -     1570]            asr     b
1066      P:02C7 212F00  [2 -     1572]            move              b0,b
1067      P:02C8 21A600  [2 -     1574]            move              b1,y0
1068      P:02C9 57E800  [4 -     1578]            move              x:(r0+n0),b
1069      P:02CA 200058  [2 -     1580]            add     y0,b
1070      P:02CB 21B200  [2 -     1582]            move              b1,r2
1071      P:02CC 205A00  [2 -     1584]            move              (r2)+
1072      P:02CD 57D200  [2 -     1586]            move              x:(r2)-,b
1073      P:02CE 51E200  [2 -     1588]            move              x:(r2),b0
1074      P:02CF 0BF080  [6 -     1594]            jsr     fmpy_ab
                 000000
1075      P:02D1 381200  [2 -     1596]            move              #18,n0
1076      P:02D2 205C00  [2 -     1598]            move              (r4)+
1077      P:02D3 205800  [2 -     1600]            move              (r0)+
1078      P:02D4 204800  [2 -     1602]            move              (r0)+n0
1079      P:02D5 555000  [2 -     1604]            move              b1,x:(r0)-
1080      P:02D6 514000  [2 -     1606]            move              b0,x:(r0)-n0
1081      P:02D7 381800  [2 -     1608]            move              #24,n0
1082      P:02D8 47D400  [2 -     1610]            move              x:(r4)-,y1
1083      P:02D9 46E479  [2 -     1612]            tfr     y1,b      x:(r4),y0
1084      P:02DA 20C900  [2 -     1614]            move              y0,b0
1085      P:02DB 205800  [2 -     1616]            move              (r0)+
1086      P:02DC 204800  [2 -     1618]            move              (r0)+n0
1087      P:02DD 475000  [2 -     1620]            move              y1,x:(r0)-
1088      P:02DE 464000  [2 -     1622]            move              y0,x:(r0)-n0
1089      P:02DF 381400  [2 -     1624]            move              #20,n0
1090      P:02E0 205800  [2 -     1626]            move              (r0)+
1091      P:02E1 204800  [2 -     1628]            move              (r0)+n0
1092      P:02E2 56D000  [2 -     1630]            move              x:(r0)-,a
1093      P:02E3 50C000  [2 -     1632]            move              x:(r0)-n0,a0
1094      P:02E4 0BF080  [6 -     1638]            jsr     fcmp_ab
                 000000
1095      P:02E6 0AF0AF  [6 -     1644]            jle     L71
                 0002EE
1096      P:02E8 46F400  [4 -     1648]            move              #>8192,y0
                 002000
1097      P:02EA 47F400  [4 -     1652]            move              #>4194304,y1
                 400000
1098      P:02EC 0AF080  [6 -     1658]            jmp     L102
                 000313
1099                                     L71
1100      P:02EE 381800  [2 -     1660]            move              #24,n0
1101      P:02EF 205800  [2 -     1662]            move              (r0)+
1102      P:02F0 204800  [2 -     1664]            move              (r0)+n0
1103      P:02F1 205C00  [2 -     1666]            move              (r4)+
1104      P:02F2 47D400  [2 -     1668]            move              x:(r4)-,y1
1105      P:02F3 46E479  [2 -     1670]            tfr     y1,b      x:(r4),y0
1106      P:02F4 20C900  [2 -     1672]            move              y0,b0
1107      P:02F5 475000  [2 -     1674]            move              y1,x:(r0)-
1108      P:02F6 464000  [2 -     1676]            move              y0,x:(r0)-n0
1109      P:02F7 381400  [2 -     1678]            move              #20,n0
1110      P:02F8 205800  [2 -     1680]            move              (r0)+
1111      P:02F9 204800  [2 -     1682]            move              (r0)+n0
1112      P:02FA 56D000  [2 -     1684]            move              x:(r0)-,a
1113      P:02FB 50C000  [2 -     1686]            move              x:(r0)-n0,a0
1114      P:02FC 0BF080  [6 -     1692]            jsr     fcmp_ab
                 000000
1115      P:02FE 0AF0A1  [6 -     1698]            jge     L73
                 000306
1116      P:0300 46F400  [4 -     1702]            move              #>8191,y0
                 001FFF
1117      P:0302 47F400  [4 -     1706]            move              #>8388608,y1
                 800000
1118      P:0304 0AF080  [6 -     1712]            jmp     L103
                 00030A
1119                                     L73
1120      P:0306 46F400  [4 -     1716]            move              #>0,y0
                 000000
1121      P:0308 47F400  [4 -     1720]            move              #>0,y1
                 000000
1122                                     L103
1123      P:030A 381800  [2 -     1722]            move              #24,n0
1124      P:030B 205800  [2 -     1724]            move              (r0)+
1125      P:030C 204800  [2 -     1726]            move              (r0)+n0
1126      P:030D 475000  [2 -     1728]            move              y1,x:(r0)-
1127      P:030E 464000  [2 -     1730]            move              y0,x:(r0)-n0
1128      P:030F 205800  [2 -     1732]            move              (r0)+
1129      P:0310 204800  [2 -     1734]            move              (r0)+n0
1130      P:0311 47D000  [2 -     1736]            move              x:(r0)-,y1
1131      P:0312 46C000  [2 -     1738]            move              x:(r0)-n0,y0
1132                                     L102
1133      P:0313 381800  [2 -     1740]            move              #24,n0
1134      P:0314 56F400  [4 -     1744]            move              #>4194304,a
                 400000
1135      P:0316 50F400  [4 -     1748]            move              #>8185,a0
                 001FF9
1136      P:0318 205800  [2 -     1750]            move              (r0)+
1137      P:0319 204800  [2 -     1752]            move              (r0)+n0
1138      P:031A 475000  [2 -     1754]            move              y1,x:(r0)-
1139      P:031B 464000  [2 -     1756]            move              y0,x:(r0)-n0
1140      P:031C 205800  [2 -     1758]            move              (r0)+
1141      P:031D 204800  [2 -     1760]            move              (r0)+n0
1142      P:031E 57D000  [2 -     1762]            move              x:(r0)-,b
1143      P:031F 51C000  [2 -     1764]            move              x:(r0)-n0,b0
1144      P:0320 0BF080  [6 -     1770]            jsr     fmpy_ab
                 000000
1145      P:0322 381600  [2 -     1772]            move              #22,n0
1146      P:0323 46F400  [4 -     1776]            move              #>2,y0
                 000002
1147      P:0325 205800  [2 -     1778]            move              (r0)+
1148      P:0326 204800  [2 -     1780]            move              (r0)+n0
1149      P:0327 555000  [2 -     1782]            move              b1,x:(r0)-
1150      P:0328 5140D8  [2 -     1784]            mpy     +y0,x0,b  b0,x:(r0)-n0
1151      P:0329 70F42A  [4 -     1788]            asr     b         #65524,n0
                 00FFF4
1152      P:032B 212F00  [2 -     1790]            move              b0,b
1153      P:032C 21A600  [2 -     1792]            move              b1,y0
1154      P:032D 57E800  [4 -     1796]            move              x:(r0+n0),b
1155      P:032E 381858  [2 -     1798]            add     y0,b      #24,n0
1156      P:032F 21B100  [2 -     1800]            move              b1,r1
1157      P:0330 205800  [2 -     1802]            move              (r0)+
1158      P:0331 204800  [2 -     1804]            move              (r0)+n0
1159      P:0332 205900  [2 -     1806]            move              (r1)+
1160      P:0333 47D100  [2 -     1808]            move              x:(r1)-,y1
1161      P:0334 46E179  [2 -     1810]            tfr     y1,b      x:(r1),y0
1162      P:0335 20C900  [2 -     1812]            move              y0,b0
1163      P:0336 475000  [2 -     1814]            move              y1,x:(r0)-
1164      P:0337 464000  [2 -     1816]            move              y0,x:(r0)-n0
1165      P:0338 381400  [2 -     1818]            move              #20,n0
1166      P:0339 205800  [2 -     1820]            move              (r0)+
1167      P:033A 204800  [2 -     1822]            move              (r0)+n0
1168      P:033B 56D000  [2 -     1824]            move              x:(r0)-,a
1169      P:033C 50C000  [2 -     1826]            move              x:(r0)-n0,a0
1170      P:033D 0BF080  [6 -     1832]            jsr     fcmp_ab
                 000000
1171      P:033F 0AF0A1  [6 -     1838]            jge     L75
                 000347
1172      P:0341 46F400  [4 -     1842]            move              #>8191,y0
                 001FFF
1173      P:0343 47F400  [4 -     1846]            move              #>8388608,y1
                 800000
1174      P:0345 0AF080  [6 -     1852]            jmp     L104
                 00034B
1175                                     L75
1176      P:0347 46F400  [4 -     1856]            move              #>8192,y0
                 002000
1177      P:0349 47F400  [4 -     1860]            move              #>4194304,y1
                 400000
1178                                     L104
1179      P:034B 381800  [2 -     1862]            move              #24,n0
1180      P:034C 205800  [2 -     1864]            move              (r0)+
1181      P:034D 204800  [2 -     1866]            move              (r0)+n0
1182      P:034E 475000  [2 -     1868]            move              y1,x:(r0)-
1183      P:034F 464000  [2 -     1870]            move              y0,x:(r0)-n0
1184      P:0350 381600  [2 -     1872]            move              #22,n0
1185      P:0351 205800  [2 -     1874]            move              (r0)+
1186      P:0352 204800  [2 -     1876]            move              (r0)+n0
1187      P:0353 57D000  [2 -     1878]            move              x:(r0)-,b
1188      P:0354 51C000  [2 -     1880]            move              x:(r0)-n0,b0
1189      P:0355 381800  [2 -     1882]            move              #24,n0
1190      P:0356 205800  [2 -     1884]            move              (r0)+
1191      P:0357 204800  [2 -     1886]            move              (r0)+n0
1192      P:0358 56D000  [2 -     1888]            move              x:(r0)-,a
1193      P:0359 50C000  [2 -     1890]            move              x:(r0)-n0,a0
1194      P:035A 0BF080  [6 -     1896]            jsr     fmpy_ab
                 000000
1195      P:035C 205801  [2 -     1898]            tfr     b,a       (r0)+
1196      P:035D 204800  [2 -     1900]            move              (r0)+n0
1197      P:035E 555000  [2 -     1902]            move              b1,x:(r0)-
1198      P:035F 514000  [2 -     1904]            move              b0,x:(r0)-n0
1199      P:0360 381200  [2 -     1906]            move              #18,n0
1200      P:0361 205800  [2 -     1908]            move              (r0)+
1201      P:0362 204800  [2 -     1910]            move              (r0)+n0
1202      P:0363 57D000  [2 -     1912]            move              x:(r0)-,b
1203      P:0364 51C000  [2 -     1914]            move              x:(r0)-n0,b0
1204      P:0365 0BF080  [6 -     1920]            jsr     fadd_ab
                 000000
1205                                     ; **************************************************
1206                                     ; **************************************************
1207      P:0367 515A00  [2 -     1922]            move              b0,x:(r2)+
1208      P:0368 555249  [2 -     1924]            tfr     x0,b      b1,x:(r2)-
1209      P:0369 200068  [2 -     1926]            add     x1,b
1210      P:036A 21A400  [2 -     1928]            move              b1,x0
1211                                     L91
1212                                     ; **************************************************
1213                                     ;     }
1214                                     ;   
1215                                     ;   for (i = 0 ; i > -5 ; i--)
1216                                     ; **************************************************
1217      P:036B 45F400  [4 -     1932]            move              #>16777215,x1
                 FFFFFF
1218      P:036D 240000  [2 -     1934]            move              #0,x0
1219      P:036E 060580  [6 -     1940]            do      #5,L89
                 000386
1220                                     L81
1221                                     ; **************************************************
1222                                     ;     D_Q[i + 5] = D_Q[i + 4] ; 
1223                                     ; **************************************************
1224                                     ; **************************************************
1225                                     ; **************************************************
1226      P:0370 390800  [2 -     1942]            move              #8,n1
1227      P:0371 70F400  [4 -     1946]            move              #65524,n0
                 00FFF4
1228      P:0373 46F400  [4 -     1950]            move              #>2,y0
                 000002
1229      P:0375 46E8D8  [4 -     1954]            mpy     +y0,x0,b  x:(r0+n0),y0
1230      P:0376 38182A  [2 -     1956]            asr     b         #24,n0
1231      P:0377 212F00  [2 -     1958]            move              b0,b
1232      P:0378 205858  [2 -     1960]            add     y0,b      (r0)+
1233      P:0379 21B149  [2 -     1962]            tfr     x0,b      b1,r1
1234      P:037A 204868  [2 -     1964]            add     x1,b      (r0)+n0
1235      P:037B 21A400  [2 -     1966]            move              b1,x0
1236      P:037C 205900  [2 -     1968]            move              (r1)+
1237      P:037D 204900  [2 -     1970]            move              (r1)+n1
1238      P:037E 47D100  [2 -     1972]            move              x:(r1)-,y1
1239      P:037F 46C100  [2 -     1974]            move              x:(r1)-n1,y0
1240      P:0380 390A00  [2 -     1976]            move              #10,n1
1241      P:0381 205900  [2 -     1978]            move              (r1)+
1242      P:0382 204900  [2 -     1980]            move              (r1)+n1
1243      P:0383 475000  [2 -     1982]            move              y1,x:(r0)-
1244      P:0384 464000  [2 -     1984]            move              y0,x:(r0)-n0
1245      P:0385 475100  [2 -     1986]            move              y1,x:(r1)-
1246      P:0386 464100  [2 -     1988]            move              y0,x:(r1)-n1
1247                                     L89
1248                                     ; **************************************************
1249                                     ;   
1250                                     ;   D_Q[0] = *D_Q_1;
1251                                     ; **************************************************
1252                                     ; **************************************************
1253                                     ;   
1254                                     ;   *S_EZ = 0.0 ; 
1255                                     ; **************************************************
1256                                     ; **************************************************
1257                                     ;   for (i = 0; i < 5; i++)     
1258                                     ; **************************************************
1259      P:0387 70F400  [4 -     1992]            move              #65524,n0
                 00FFF4
1260      P:0389 45F400  [4 -     1996]            move              #>1,x1
                 000001
1261      P:038B 67E800  [4 -     2000]            move              x:(r0+n0),r7
1262      P:038C 381800  [2 -     2002]            move              #24,n0
1263      P:038D 240000  [2 -     2004]            move              #0,x0
1264      P:038E 205800  [2 -     2006]            move              (r0)+
1265      P:038F 204800  [2 -     2008]            move              (r0)+n0
1266      P:0390 205C00  [2 -     2010]            move              (r4)+
1267      P:0391 47D400  [2 -     2012]            move              x:(r4)-,y1
1268      P:0392 46E400  [2 -     2014]            move              x:(r4),y0
1269      P:0393 465F00  [2 -     2016]            move              y0,x:(r7)+
1270      P:0394 46F400  [4 -     2020]            move              #>0,y0
                 000000
1271      P:0396 475700  [2 -     2022]            move              y1,x:(r7)-
1272      P:0397 47F400  [4 -     2026]            move              #>0,y1
                 000000
1273      P:0399 475000  [2 -     2028]            move              y1,x:(r0)-
1274      P:039A 464000  [2 -     2030]            move              y0,x:(r0)-n0
1275      P:039B 70F400  [4 -     2034]            move              #65522,n0
                 00FFF2
1276      P:039D 67E800  [4 -     2038]            move              x:(r0+n0),r7
1277      P:039E 465F00  [2 -     2040]            move              y0,x:(r7)+
1278      P:039F 475700  [2 -     2042]            move              y1,x:(r7)-
1279      P:03A0 060580  [6 -     2048]            do      #5,L87
                 0003C5
1280                                     L85
1281                                     ; **************************************************
1282                                     ;     *S_EZ += B[i] * D_Q[i];
1283                                     ; **************************************************
1284      P:03A2 381800  [2 -     2050]            move              #24,n0
1285      P:03A3 46F400  [4 -     2054]            move              #>2,y0
                 000002
1286      P:03A5 2000D8  [2 -     2056]            mpy     +y0,x0,b
1287      P:03A6 20002A  [2 -     2058]            asr     b
1288      P:03A7 212F00  [2 -     2060]            move              b0,b
1289      P:03A8 21A600  [2 -     2062]            move              b1,y0
1290      P:03A9 556800  [4 -     2066]            move              b1,x:(r0+n0)
1291      P:03AA 70F400  [4 -     2070]            move              #65525,n0
                 00FFF5
1292      P:03AC 57E800  [4 -     2074]            move              x:(r0+n0),b
1293      P:03AD 70F458  [4 -     2078]            add     y0,b      #65524,n0
                 00FFF4
1294      P:03AF 21B100  [2 -     2080]            move              b1,r1
1295      P:03B0 57E800  [4 -     2084]            move              x:(r0+n0),b
1296      P:03B1 205958  [2 -     2086]            add     y0,b      (r1)+
1297      P:03B2 21B200  [2 -     2088]            move              b1,r2
1298      P:03B3 57D100  [2 -     2090]            move              x:(r1)-,b
1299      P:03B4 51E100  [2 -     2092]            move              x:(r1),b0
1300      P:03B5 205A00  [2 -     2094]            move              (r2)+
1301      P:03B6 56D200  [2 -     2096]            move              x:(r2)-,a
1302      P:03B7 50E200  [2 -     2098]            move              x:(r2),a0
1303      P:03B8 0BF080  [6 -     2104]            jsr     fmpy_ab
                 000000
1304      P:03BA 70F400  [4 -     2108]            move              #65522,n0
                 00FFF2
1305      P:03BC 67E800  [4 -     2112]            move              x:(r0+n0),r7
1306      P:03BD 205F00  [2 -     2114]            move              (r7)+
1307      P:03BE 56D700  [2 -     2116]            move              x:(r7)-,a
1308      P:03BF 50E700  [2 -     2118]            move              x:(r7),a0
1309      P:03C0 0BF080  [6 -     2124]            jsr     fadd_ab
                 000000
1310                                     ; **************************************************
1311                                     ; **************************************************
1312      P:03C2 515F00  [2 -     2126]            move              b0,x:(r7)+
1313      P:03C3 555749  [2 -     2128]            tfr     x0,b      b1,x:(r7)-
1314      P:03C4 200068  [2 -     2130]            add     x1,b
1315      P:03C5 21A400  [2 -     2132]            move              b1,x0
1316                                     L87
1317                                     ; **************************************************
1318                                     ;   
1319                                     ;   s_e = (*S_E + *D_Q_1) * *A1 + *S_R2 * *A2 + *S_EZ;
1320                                     ; **************************************************
1321      P:03C6 70F400  [4 -     2136]            move              #65523,n0
                 00FFF3
1322      P:03C8 205C00  [2 -     2138]            move              (r4)+
1323      P:03C9 67E800  [4 -     2142]            move              x:(r0+n0),r7
1324      P:03CA 56D400  [2 -     2144]            move              x:(r4)-,a
1325      P:03CB 50E400  [2 -     2146]            move              x:(r4),a0
1326      P:03CC 205F00  [2 -     2148]            move              (r7)+
1327      P:03CD 57D700  [2 -     2150]            move              x:(r7)-,b
1328      P:03CE 51E700  [2 -     2152]            move              x:(r7),b0
1329      P:03CF 0BF080  [6 -     2158]            jsr     fadd_ab
                 000000
1330      P:03D1 205B00  [2 -     2160]            move              (r3)+
1331      P:03D2 56D300  [2 -     2162]            move              x:(r3)-,a
1332      P:03D3 50E300  [2 -     2164]            move              x:(r3),a0
1333      P:03D4 0BF080  [6 -     2170]            jsr     fmpy_ab
                 000000
1334      P:03D6 381800  [2 -     2172]            move              #24,n0
1335      P:03D7 205D00  [2 -     2174]            move              (r5)+
1336      P:03D8 205800  [2 -     2176]            move              (r0)+
1337      P:03D9 204800  [2 -     2178]            move              (r0)+n0
1338      P:03DA 555000  [2 -     2180]            move              b1,x:(r0)-
1339      P:03DB 514000  [2 -     2182]            move              b0,x:(r0)-n0
1340      P:03DC 70F400  [4 -     2186]            move              #65526,n0
                 00FFF6
1341      P:03DE 56D500  [2 -     2188]            move              x:(r5)-,a
1342      P:03DF 67E800  [4 -     2192]            move              x:(r0+n0),r7
1343      P:03E0 50E500  [2 -     2194]            move              x:(r5),a0
1344      P:03E1 205F00  [2 -     2196]            move              (r7)+
1345      P:03E2 57D700  [2 -     2198]            move              x:(r7)-,b
1346      P:03E3 51E700  [2 -     2200]            move              x:(r7),b0
1347      P:03E4 0BF080  [6 -     2206]            jsr     fmpy_ab
                 000000
1348      P:03E6 381601  [2 -     2208]            tfr     b,a       #22,n0
1349      P:03E7 205800  [2 -     2210]            move              (r0)+
1350      P:03E8 204800  [2 -     2212]            move              (r0)+n0
1351      P:03E9 555000  [2 -     2214]            move              b1,x:(r0)-
1352      P:03EA 514000  [2 -     2216]            move              b0,x:(r0)-n0
1353      P:03EB 381800  [2 -     2218]            move              #24,n0
1354      P:03EC 205800  [2 -     2220]            move              (r0)+
1355      P:03ED 204800  [2 -     2222]            move              (r0)+n0
1356      P:03EE 57D000  [2 -     2224]            move              x:(r0)-,b
1357      P:03EF 51C000  [2 -     2226]            move              x:(r0)-n0,b0
1358      P:03F0 0BF080  [6 -     2232]            jsr     fadd_ab
                 000000
1359      P:03F2 70F400  [4 -     2236]            move              #65522,n0
                 00FFF2
1360      P:03F4 67E800  [4 -     2240]            move              x:(r0+n0),r7
1361      P:03F5 205F00  [2 -     2242]            move              (r7)+
1362      P:03F6 56D700  [2 -     2244]            move              x:(r7)-,a
1363      P:03F7 50E700  [2 -     2246]            move              x:(r7),a0
1364      P:03F8 0BF080  [6 -     2252]            jsr     fadd_ab
                 000000
1365                                     ; **************************************************
1366                                     ;   *S_R2 = (*S_E + *D_Q_1) ;
1367                                     ; **************************************************
1368      P:03FA 70F400  [4 -     2256]            move              #65523,n0
                 00FFF3
1369      P:03FC 517000  [4 -     2260]            move              b0,x:Fs_e
                 00000A
1370      P:03FE 557000  [4 -     2264]            move              b1,x:(Fs_e+1)
                 00000B
1371      P:0400 67E800  [4 -     2268]            move              x:(r0+n0),r7
1372      P:0401 205C00  [2 -     2270]            move              (r4)+
1373      P:0402 56D400  [2 -     2272]            move              x:(r4)-,a
1374      P:0403 50E400  [2 -     2274]            move              x:(r4),a0
1375      P:0404 205F00  [2 -     2276]            move              (r7)+
1376      P:0405 57D700  [2 -     2278]            move              x:(r7)-,b
1377      P:0406 51E700  [2 -     2280]            move              x:(r7),b0
1378      P:0407 0BF080  [6 -     2286]            jsr     fadd_ab
                 000000
1379                                     ; **************************************************
1380                                     ;   *S_E  = s_e;
1381                                     ; **************************************************
1382                                     ; **************************************************
1383                                     ;   
1384                                     ;   A_2 = *A2;
1385                                     ; **************************************************
1386                                     ; **************************************************
1387                                     ; 
1388                                     ; }
1389                                     ; **************************************************
1390      P:0409 70F400  [4 -     2290]            move              #65526,n0
                 00FFF6
1391      P:040B 205600  [2 -     2292]            move              (r6)-
1392      P:040C 67E800  [4 -     2296]            move              x:(r0+n0),r7
1393      P:040D 70F400  [4 -     2300]            move              #65523,n0
                 00FFF3
1394      P:040F 515F00  [2 -     2302]            move              b0,x:(r7)+
1395      P:0410 555700  [2 -     2304]            move              b1,x:(r7)-
1396      P:0411 67E800  [4 -     2308]            move              x:(r0+n0),r7
1397      P:0412 381800  [2 -     2310]            move              #24,n0
1398      P:0413 47F000  [4 -     2314]            move              x:(Fs_e+1),y1
                 00000B
1399      P:0415 46F000  [4 -     2318]            move              x:Fs_e,y0
                 00000A
1400      P:0417 465F00  [2 -     2320]            move              y0,x:(r7)+
1401      P:0418 475700  [2 -     2322]            move              y1,x:(r7)-
1402      P:0419 205800  [2 -     2324]            move              (r0)+
1403      P:041A 204800  [2 -     2326]            move              (r0)+n0
1404      P:041B 205D00  [2 -     2328]            move              (r5)+
1405      P:041C 47D500  [2 -     2330]            move              x:(r5)-,y1
1406      P:041D 46E500  [2 -     2332]            move              x:(r5),y0
1407      P:041E 475000  [2 -     2334]            move              y1,x:(r0)-
1408      P:041F 464000  [2 -     2336]            move              y0,x:(r0)-n0
1409      P:0420 467000  [4 -     2340]            move              y0,x:FA_2
                 000008
1410      P:0422 477000  [4 -     2344]            move              y1,x:(FA_2+1)
                 000009
1411      P:0424 67D600  [2 -     2346]            move              x:(r6)-,r7
1412      P:0425 65D600  [2 -     2348]            move              x:(r6)-,r5
1413      P:0426 64D600  [2 -     2350]            move              x:(r6)-,r4
1414      P:0427 63D600  [2 -     2352]            move              x:(r6)-,r3
1415      P:0428 62D600  [2 -     2354]            move              x:(r6)-,r2
1416      P:0429 61D600  [2 -     2356]            move              x:(r6)-,r1
1417      P:042A 47D600  [2 -     2358]            move              x:(r6)-,y1
1418      P:042B 46D600  [2 -     2360]            move              x:(r6)-,y0
1419      P:042C 45D600  [2 -     2362]            move              x:(r6)-,x1
1420      P:042D 44D600  [2 -     2364]            move              x:(r6)-,x0
1421      P:042E 57D600  [2 -     2366]            move              x:(r6)-,b
1422      P:042F 51E600  [2 -     2368]            move              x:(r6),b0
1423      P:0430 205000  [2 -     2370]            move              (r0)-
1424      P:0431 205000  [2 -     2372]            move              (r0)-
1425      P:0432 221600  [2 -     2374]            move              r0,r6
1426      P:0433 60E000  [2 -     2376]            move              x:(r0),r0
1427      P:0434 00000C  [4 -     2380]            rts
1428   
1429      X:0088                                   org     x:
1430                                     F___qtab0
1431      X:0088                                   dc      $00207e
1432      X:0089                                   dc      $b4c4b3
1433      X:008A                                   dc      $001ffa
1434      X:008B                                   dc      $7ef9db
1435      X:008C                                   dc      $002000
1436      X:008D                                   dc      $433333
1437      X:008E                                   dc      $002000
1438      X:008F                                   dc      $6a3d71
1439      X:0090                                   dc      $002001
1440      X:0091                                   dc      $4428f6
1441      X:0092                                   dc      $002001
1442      X:0093                                   dc      $50a3d7
1443      X:0094                                   dc      $002001
1444      X:0095                                   dc      $5d1eb8
1445      X:0096                                   dc      $002001
1446      X:0097                                   dc      $6a3d71
1447      P:0435                                   org     p:
1448                                               global  Fiadpt_quant
1449                                     Fiadpt_quant
1450      P:0435 605E00  [2 -     2382]            move              r0,x:(r6)+
1451      P:0436 055E3C  [2 -     2384]            move              ssh,x:(r6)+
1452                                     ; **************************************************
1453                                     ; **************************************************
1454                                     ; **************************************************
1455                                     ; 
1456                                     ; void iadpt_quant(Y)
1457                                     ; float *Y ; 
1458                                     ; {
1459                                     ;   
1460                                     ;   static float qtab[8] =
1461                                     ;     {
1462                                     ;       -1E38, 0.031, 1.05, 1.66, 2.13, 2.52, 2.91, 3.32
1463                                     ;     };
1464                                     ;  
1465                                     ;   register int          d_qs;
1466                                     ;   
1467                                     ;   d_qs = 1 ; 
1468                                     ; **************************************************
1469                                     ; **************************************************
1470                                     ;   if (I < 0) 
1471                                     ; **************************************************
1472      P:0437 3E0500  [2 -     2386]            move              #5,n6
1473      P:0438 22D000  [2 -     2388]            move              r6,r0
1474      P:0439 204E00  [2 -     2390]            move              (r6)+n6
1475      P:043A 515E00  [2 -     2392]            move              b0,x:(r6)+
1476      P:043B 555E00  [2 -     2394]            move              b1,x:(r6)+
1477      P:043C 445E00  [2 -     2396]            move              x0,x:(r6)+
1478      P:043D 455E00  [2 -     2398]            move              x1,x:(r6)+
1479      P:043E 45F400  [4 -     2402]            move              #>1,x1
                 000001
1480      P:0440 465E00  [2 -     2404]            move              y0,x:(r6)+
1481      P:0441 475E00  [2 -     2406]            move              y1,x:(r6)+
1482      P:0442 615E00  [2 -     2408]            move              r1,x:(r6)+
1483      P:0443 625E00  [2 -     2410]            move              r2,x:(r6)+
1484      P:0444 56F000  [4 -     2414]            move              x:FI,a
                 000007
1485      P:0446 200003  [2 -     2416]            tst     a
1486      P:0447 0AF0A1  [6 -     2422]            jge     L106
                 00044B
1487                                     ; **************************************************
1488                                     ;     d_qs = -1 ;
1489                                     ; **************************************************
1490      P:0449 45F400  [4 -     2426]            move              #>16777215,x1
                 FFFFFF
1491                                     L106
1492                                     ; **************************************************
1493                                     ;   DQ = d_qs * pow(2.0, qtab[d_qs * I] + *Y) ; 
1494                                     ; **************************************************
1495      P:044B 70F400  [4 -     2430]            move              #65533,n0
                 00FFFD
1496      P:044D 61F400  [4 -     2434]            move              #F___qtab0,r1
                 000088
1497      P:044F 62E800  [4 -     2438]            move              x:(r0+n0),r2
1498      P:0450 46F400  [4 -     2442]            move              #>2,y0
                 000002
1499      P:0452 44F000  [4 -     2446]            move              x:FI,x0
                 000007
1500      P:0454 205AA8  [2 -     2448]            mpy     +x0,x1,b  (r2)+
1501      P:0455 56D22A  [2 -     2450]            asr     b         x:(r2)-,a
1502      P:0456 212F00  [2 -     2452]            move              b0,b
1503      P:0457 21A400  [2 -     2454]            move              b1,x0
1504      P:0458 50E2D8  [2 -     2456]            mpy     +y0,x0,b  x:(r2),a0
1505      P:0459 20002A  [2 -     2458]            asr     b
1506      P:045A 212F00  [2 -     2460]            move              b0,b
1507      P:045B 21A600  [2 -     2462]            move              b1,y0
1508      P:045C 222F00  [2 -     2464]            move              r1,b
1509      P:045D 200058  [2 -     2466]            add     y0,b
1510      P:045E 21B100  [2 -     2468]            move              b1,r1
1511      P:045F 205900  [2 -     2470]            move              (r1)+
1512      P:0460 57D100  [2 -     2472]            move              x:(r1)-,b
1513      P:0461 51E100  [2 -     2474]            move              x:(r1),b0
1514      P:0462 0BF080  [6 -     2480]            jsr     fadd_ab
                 000000
1515      P:0464 46F400  [4 -     2484]            move              #>8193,y0
                 002001
1516      P:0466 47F400  [4 -     2488]            move              #>4194304,y1
                 400000
1517      P:0468 515E00  [2 -     2490]            move              b0,x:(r6)+
1518      P:0469 555E00  [2 -     2492]            move              b1,x:(r6)+
1519      P:046A 465E00  [2 -     2494]            move              y0,x:(r6)+
1520      P:046B 475E00  [2 -     2496]            move              y1,x:(r6)+
1521      P:046C 0BF080  [6 -     2502]            jsr     Fpow
                 000000
1522      P:046E 3E0469  [2 -     2504]            tfr     x1,b      #4,n6
1523      P:046F 204600  [2 -     2506]            move              (r6)-n6
1524      P:0470 0BF080  [6 -     2512]            jsr     floatsidf_b
                 000000
1525      P:0472 0BF080  [6 -     2518]            jsr     fmpy_ab
                 000000
1526                                     ; **************************************************
1527                                     ;   
1528                                     ; }
1529                                     ; **************************************************
1530      P:0474 517000  [4 -     2522]            move              b0,x:FDQ
                 000010
1531      P:0476 557000  [4 -     2526]            move              b1,x:(FDQ+1)
                 000011
1532      P:0478 205000  [2 -     2528]            move              (r0)-
1533      P:0479 205600  [2 -     2530]            move              (r6)-
1534      P:047A 62D600  [2 -     2532]            move              x:(r6)-,r2
1535      P:047B 61D600  [2 -     2534]            move              x:(r6)-,r1
1536      P:047C 47D600  [2 -     2536]            move              x:(r6)-,y1
1537      P:047D 46D600  [2 -     2538]            move              x:(r6)-,y0
1538      P:047E 45D600  [2 -     2540]            move              x:(r6)-,x1
1539      P:047F 44D600  [2 -     2542]            move              x:(r6)-,x0
1540      P:0480 57D600  [2 -     2544]            move              x:(r6)-,b
1541      P:0481 51E600  [2 -     2546]            move              x:(r6),b0
1542      P:0482 05D03C  [2 -     2548]            move              x:(r0)-,ssh
1543      P:0483 221600  [2 -     2550]            move              r0,r6
1544      P:0484 60E000  [2 -     2552]            move              x:(r0),r0
1545      P:0485 00000C  [4 -     2556]            rts
1546   
1547                                               global  Ftone_detector
1548                                     Ftone_detector
1549      P:0486 605E00  [2 -     2558]            move              r0,x:(r6)+
1550      P:0487 055E3C  [2 -     2560]            move              ssh,x:(r6)+
1551                                     ; **************************************************
1552                                     ; **************************************************
1553                                     ; **************************************************
1554                                     ; 
1555                                     ; void tone_detector(YL)
1556                                     ; float *YL ; 
1557                                     ; {
1558                                     ; 
1559                                     ;   TDP = 0 ; 
1560                                     ; **************************************************
1561                                     ; **************************************************
1562                                     ;   TR = 0 ; 
1563                                     ; **************************************************
1564                                     ; **************************************************
1565                                     ;   
1566                                     ;   if (A_2 < -0.71875)
1567                                     ; **************************************************
1568      P:0488 3E0213  [2 -     2562]            clr     a         #2,n6
1569      P:0489 22D000  [2 -     2564]            move              r6,r0
1570      P:048A 204E00  [2 -     2566]            move              (r6)+n6
1571      P:048B 515E00  [2 -     2568]            move              b0,x:(r6)+
1572      P:048C 555E00  [2 -     2570]            move              b1,x:(r6)+
1573      P:048D 57F400  [4 -     2574]            move              #>10747904,b
                 A40000
1574      P:048F 51F400  [4 -     2578]            move              #>8191,b0
                 001FFF
1575      P:0491 445E00  [2 -     2580]            move              x0,x:(r6)+
1576      P:0492 455E00  [2 -     2582]            move              x1,x:(r6)+
1577      P:0493 615E00  [2 -     2584]            move              r1,x:(r6)+
1578      P:0494 547000  [4 -     2588]            move              a1,x:FTDP
                 00000E
1579      P:0496 547000  [4 -     2592]            move              a1,x:FTR
                 00000F
1580      P:0498 56F000  [4 -     2596]            move              x:(FA_2+1),a
                 000009
1581      P:049A 50F000  [4 -     2600]            move              x:FA_2,a0
                 000008
1582      P:049C 0BF080  [6 -     2606]            jsr     fcmp_ba
                 000000
1583      P:049E 0AF0A1  [6 -     2612]            jge     L108
                 0004A4
1584                                     ; **************************************************
1585                                     ;     TDP = 1 ;
1586                                     ; **************************************************
1587      P:04A0 56F400  [4 -     2616]            move              #>1,a
                 000001
1588      P:04A2 547000  [4 -     2620]            move              a1,x:FTDP
                 00000E
1589                                     L108
1590                                     ; **************************************************
1591                                     ;   
1592                                     ;   if (TDP == 1 && fabs(DQ) > 24.0 * pow(2.0, *YL)) 
1593                                     ; **************************************************
1594      P:04A4 57F400  [4 -     2624]            move              #>1,b
                 000001
1595      P:04A6 56F000  [4 -     2628]            move              x:FTDP,a
                 00000E
1596      P:04A8 200005  [2 -     2630]            cmp     b,a
1597      P:04A9 0AF0A2  [6 -     2636]            jne     L109
                 0004E9
1598      P:04AB 44F013  [4 -     2640]            clr     a         x:FDQ,x0
                 000010
1599      P:04AD 45F000  [4 -     2644]            move              x:(FDQ+1),x1
                 000011
1600      P:04AF 445800  [2 -     2646]            move              x0,x:(r0)+
1601      P:04B0 455000  [2 -     2648]            move              x1,x:(r0)-
1602      P:04B1 205800  [2 -     2650]            move              (r0)+
1603      P:04B2 57D000  [2 -     2652]            move              x:(r0)-,b
1604      P:04B3 51E000  [2 -     2654]            move              x:(r0),b0
1605      P:04B4 0BF080  [6 -     2660]            jsr     fcmp_ab
                 000000
1606      P:04B6 0AF0AF  [6 -     2666]            jle     L111
                 0004BF
1607      P:04B8 205800  [2 -     2668]            move              (r0)+
1608      P:04B9 45D000  [2 -     2670]            move              x:(r0)-,x1
1609      P:04BA 44E000  [2 -     2672]            move              x:(r0),x0
1610      P:04BB 445800  [2 -     2674]            move              x0,x:(r0)+
1611      P:04BC 455000  [2 -     2676]            move              x1,x:(r0)-
1612      P:04BD 0AF080  [6 -     2682]            jmp     L112
                 0004C6
1613                                     L111
1614      P:04BF 205800  [2 -     2684]            move              (r0)+
1615      P:04C0 57D000  [2 -     2686]            move              x:(r0)-,b
1616      P:04C1 51E000  [2 -     2688]            move              x:(r0),b0
1617      P:04C2 0BF080  [6 -     2694]            jsr     fneg_b
                 000000
1618      P:04C4 515800  [2 -     2696]            move              b0,x:(r0)+
1619      P:04C5 555000  [2 -     2698]            move              b1,x:(r0)-
1620                                     L112
1621                                     ; **************************************************
1622                                     ; **************************************************
1623      P:04C6 70F400  [4 -     2702]            move              #65533,n0
                 00FFFD
1624      P:04C8 61E800  [4 -     2706]            move              x:(r0+n0),r1
1625      P:04C9 205900  [2 -     2708]            move              (r1)+
1626      P:04CA 56D100  [2 -     2710]            move              x:(r1)-,a
1627      P:04CB 50E100  [2 -     2712]            move              x:(r1),a0
1628      P:04CC 505E00  [2 -     2714]            move              a0,x:(r6)+
1629      P:04CD 545E00  [2 -     2716]            move              a1,x:(r6)+
1630      P:04CE 56F400  [4 -     2720]            move              #>4194304,a
                 400000
1631      P:04D0 50F400  [4 -     2724]            move              #>8193,a0
                 002001
1632      P:04D2 505E00  [2 -     2726]            move              a0,x:(r6)+
1633      P:04D3 545E00  [2 -     2728]            move              a1,x:(r6)+
1634      P:04D4 0BF080  [6 -     2734]            jsr     Fpow
                 000000
1635      P:04D6 3E0400  [2 -     2736]            move              #4,n6
1636      P:04D7 57F400  [4 -     2740]            move              #>6291456,b
                 600000
1637      P:04D9 51F400  [4 -     2744]            move              #>8196,b0
                 002004
1638      P:04DB 204600  [2 -     2746]            move              (r6)-n6
1639      P:04DC 0BF080  [6 -     2752]            jsr     fmpy_ba
                 000000
1640      P:04DE 205800  [2 -     2754]            move              (r0)+
1641      P:04DF 57D000  [2 -     2756]            move              x:(r0)-,b
1642      P:04E0 51E000  [2 -     2758]            move              x:(r0),b0
1643      P:04E1 0BF080  [6 -     2764]            jsr     fcmp_ab
                 000000
1644      P:04E3 0AF0AF  [6 -     2770]            jle     L109
                 0004E9
1645                                     ; **************************************************
1646                                     ;     TR = 1 ; 
1647                                     ; **************************************************
1648      P:04E5 56F400  [4 -     2774]            move              #>1,a
                 000001
1649      P:04E7 547000  [4 -     2778]            move              a1,x:FTR
                 00000F
1650                                     L109
1651                                     ; **************************************************
1652                                     ; }
1653                                     ; **************************************************
1654      P:04E9 205000  [2 -     2780]            move              (r0)-
1655      P:04EA 205600  [2 -     2782]            move              (r6)-
1656      P:04EB 61D600  [2 -     2784]            move              x:(r6)-,r1
1657      P:04EC 45D600  [2 -     2786]            move              x:(r6)-,x1
1658      P:04ED 44D600  [2 -     2788]            move              x:(r6)-,x0
1659      P:04EE 57D600  [2 -     2790]            move              x:(r6)-,b
1660      P:04EF 51E600  [2 -     2792]            move              x:(r6),b0
1661      P:04F0 05D03C  [2 -     2794]            move              x:(r0)-,ssh
1662      P:04F1 221600  [2 -     2796]            move              r0,r6
1663      P:04F2 60E000  [2 -     2798]            move              x:(r0),r0
1664      P:04F3 00000C  [4 -     2802]            rts
1665   
1666      X:0098                                   org     x:
1667                                     F___F1
1668      X:0098                                   dc      0
1669      X:0099                                   dc      0
1670      X:009A                                   dc      0
1671      X:009B                                   dc      1
1672      X:009C                                   dc      1
1673      X:009D                                   dc      1
1674      X:009E                                   dc      3
1675      X:009F                                   dc      7
1676      P:04F4                                   org     p:
1677                                               global  Fspeed_control
1678                                     Fspeed_control
1679                                     ; **************************************************
1680                                     ; **************************************************
1681                                     ; **************************************************
1682                                     ; 
1683                                     ; void speed_control(Y, D_MS, D_ML, A_P)
1684                                     ; float *Y ; 
1685                                     ; float *D_MS ; 
1686                                     ; float *D_ML ; 
1687                                     ; float *A_P ; 
1688                                     ; {
1689                                     ;   static   int F[] = { 0, 0, 0, 1, 1, 1, 3, 7 };
1690                                     ;   register int f;
1691                                     ;   
1692                                     ;   f = F[abs(I)];
1693                                     ; **************************************************
1694                                     ; **************************************************
1695                                     ;   
1696                                     ;   AL = *A_P > 1.0 ? 1.0 : *A_P;
1697                                     ; **************************************************
1698      P:04F4 70F400  [4 -     2806]            move              #65532,n0
                 00FFFC
1699      P:04F6 3E0800  [2 -     2808]            move              #8,n6
1700      P:04F7 605E00  [2 -     2810]            move              r0,x:(r6)+
1701      P:04F8 205E00  [2 -     2812]            move              (r6)+
1702      P:04F9 22D000  [2 -     2814]            move              r6,r0
1703      P:04FA 204E00  [2 -     2816]            move              (r6)+n6
1704      P:04FB 515E00  [2 -     2818]            move              b0,x:(r6)+
1705      P:04FC 555E00  [2 -     2820]            move              b1,x:(r6)+
1706      P:04FD 445E00  [2 -     2822]            move              x0,x:(r6)+
1707      P:04FE 455E00  [2 -     2824]            move              x1,x:(r6)+
1708      P:04FF 465E00  [2 -     2826]            move              y0,x:(r6)+
1709      P:0500 475E00  [2 -     2828]            move              y1,x:(r6)+
1710      P:0501 615E00  [2 -     2830]            move              r1,x:(r6)+
1711      P:0502 61F400  [4 -     2834]            move              #F___F1,r1
                 000098
1712      P:0504 625E00  [2 -     2836]            move              r2,x:(r6)+
1713      P:0505 635E00  [2 -     2838]            move              r3,x:(r6)+
1714      P:0506 645E00  [2 -     2840]            move              r4,x:(r6)+
1715      P:0507 655E00  [2 -     2842]            move              r5,x:(r6)+
1716      P:0508 63E800  [4 -     2846]            move              x:(r0+n0),r3
1717      P:0509 70F400  [4 -     2850]            move              #65531,n0
                 00FFFB
1718      P:050B 44F000  [4 -     2854]            move              x:FI,x0
                 000007
1719      P:050D 62E849  [4 -     2858]            tfr     x0,b      x:(r0+n0),r2
1720      P:050E 70F42E  [4 -     2862]            abs     b         #65530,n0
                 00FFFA
1721      P:0510 21A400  [2 -     2864]            move              b1,x0
1722      P:0511 64E800  [4 -     2868]            move              x:(r0+n0),r4
1723      P:0512 380600  [2 -     2870]            move              #6,n0
1724      P:0513 222F00  [2 -     2872]            move              r1,b
1725      P:0514 205C48  [2 -     2874]            add     x0,b      (r4)+
1726      P:0515 21B100  [2 -     2876]            move              b1,r1
1727      P:0516 44E100  [2 -     2878]            move              x:(r1),x0
1728      P:0517 446000  [2 -     2880]            move              x0,x:(r0)
1729      P:0518 45D400  [2 -     2882]            move              x:(r4)-,x1
1730      P:0519 44E469  [2 -     2884]            tfr     x1,b      x:(r4),x0
1731      P:051A 208900  [2 -     2886]            move              x0,b0
1732      P:051B 205800  [2 -     2888]            move              (r0)+
1733      P:051C 204800  [2 -     2890]            move              (r0)+n0
1734      P:051D 455000  [2 -     2892]            move              x1,x:(r0)-
1735      P:051E 45F400  [4 -     2896]            move              #>4194304,x1
                 400000
1736      P:0520 444061  [2 -     2898]            tfr     x1,a      x0,x:(r0)-n0
1737      P:0521 380300  [2 -     2900]            move              #3,n0
1738      P:0522 44F400  [4 -     2904]            move              #>8192,x0
                 002000
1739      P:0524 205800  [2 -     2906]            move              (r0)+
1740      P:0525 204800  [2 -     2908]            move              (r0)+n0
1741      P:0526 455000  [2 -     2910]            move              x1,x:(r0)-
1742      P:0527 444000  [2 -     2912]            move              x0,x:(r0)-n0
1743      P:0528 208800  [2 -     2914]            move              x0,a0
1744      P:0529 0BF080  [6 -     2920]            jsr     fcmp_ab
                 000000
1745      P:052B 0AF0AF  [6 -     2926]            jle     L114
                 000533
1746      P:052D 205800  [2 -     2928]            move              (r0)+
1747      P:052E 204800  [2 -     2930]            move              (r0)+n0
1748      P:052F 47D000  [2 -     2932]            move              x:(r0)-,y1
1749      P:0530 46C000  [2 -     2934]            move              x:(r0)-n0,y0
1750      P:0531 0AF080  [6 -     2940]            jmp     L115
                 000536
1751                                     L114
1752      P:0533 205C00  [2 -     2942]            move              (r4)+
1753      P:0534 47D400  [2 -     2944]            move              x:(r4)-,y1
1754      P:0535 46E400  [2 -     2946]            move              x:(r4),y0
1755                                     L115
1756                                     ; **************************************************
1757                                     ;   
1758                                     ;   *D_MS = 0.96875   * *D_MS + 0.03125   * f ;
1759                                     ; **************************************************
1760      P:0536 56F400  [4 -     2950]            move              #>8126464,a
                 7C0000
1761      P:0538 50F400  [4 -     2954]            move              #>8191,a0
                 001FFF
1762      P:053A 205B00  [2 -     2956]            move              (r3)+
1763      P:053B 467000  [4 -     2960]            move              y0,x:FAL
                 00000C
1764      P:053D 477000  [4 -     2964]            move              y1,x:(FAL+1)
                 00000D
1765      P:053F 57D300  [2 -     2966]            move              x:(r3)-,b
1766      P:0540 51E300  [2 -     2968]            move              x:(r3),b0
1767      P:0541 0BF080  [6 -     2974]            jsr     fmpy_ab
                 000000
1768      P:0543 380300  [2 -     2976]            move              #3,n0
1769      P:0544 205800  [2 -     2978]            move              (r0)+
1770      P:0545 204800  [2 -     2980]            move              (r0)+n0
1771      P:0546 555000  [2 -     2982]            move              b1,x:(r0)-
1772      P:0547 514000  [2 -     2984]            move              b0,x:(r0)-n0
1773      P:0548 57E000  [2 -     2986]            move              x:(r0),b
1774      P:0549 0BF080  [6 -     2992]            jsr     floatsidf_b
                 000000
1775      P:054B 380600  [2 -     2994]            move              #6,n0
1776      P:054C 56F400  [4 -     2998]            move              #>4194304,a
                 400000
1777      P:054E 50F400  [4 -     3002]            move              #>8187,a0
                 001FFB
1778      P:0550 205800  [2 -     3004]            move              (r0)+
1779      P:0551 204800  [2 -     3006]            move              (r0)+n0
1780      P:0552 555000  [2 -     3008]            move              b1,x:(r0)-
1781      P:0553 514000  [2 -     3010]            move              b0,x:(r0)-n0
1782      P:0554 0BF080  [6 -     3016]            jsr     fmpy_ab
                 000000
1783      P:0556 380301  [2 -     3018]            tfr     b,a       #3,n0
1784      P:0557 205800  [2 -     3020]            move              (r0)+
1785      P:0558 204800  [2 -     3022]            move              (r0)+n0
1786      P:0559 57D000  [2 -     3024]            move              x:(r0)-,b
1787      P:055A 51C000  [2 -     3026]            move              x:(r0)-n0,b0
1788      P:055B 0BF080  [6 -     3032]            jsr     fadd_ab
                 000000
1789                                     ; **************************************************
1790                                     ;   *D_ML = 0.9921875 * *D_ML + 0.0078125 * f ;
1791                                     ; **************************************************
1792      P:055D 56F400  [4 -     3036]            move              #>8323072,a
                 7F0000
1793      P:055F 50F400  [4 -     3040]            move              #>8191,a0
                 001FFF
1794      P:0561 515B00  [2 -     3042]            move              b0,x:(r3)+
1795      P:0562 555300  [2 -     3044]            move              b1,x:(r3)-
1796      P:0563 205A00  [2 -     3046]            move              (r2)+
1797      P:0564 57D200  [2 -     3048]            move              x:(r2)-,b
1798      P:0565 51E200  [2 -     3050]            move              x:(r2),b0
1799      P:0566 0BF080  [6 -     3056]            jsr     fmpy_ab
                 000000
1800      P:0568 56F400  [4 -     3060]            move              #>4194304,a
                 400000
1801      P:056A 50F400  [4 -     3064]            move              #>8185,a0
                 001FF9
1802      P:056C 205800  [2 -     3066]            move              (r0)+
1803      P:056D 204800  [2 -     3068]            move              (r0)+n0
1804      P:056E 555000  [2 -     3070]            move              b1,x:(r0)-
1805      P:056F 514000  [2 -     3072]            move              b0,x:(r0)-n0
1806      P:0570 380600  [2 -     3074]            move              #6,n0
1807      P:0571 205800  [2 -     3076]            move              (r0)+
1808      P:0572 204800  [2 -     3078]            move              (r0)+n0
1809      P:0573 57D000  [2 -     3080]            move              x:(r0)-,b
1810      P:0574 51C000  [2 -     3082]            move              x:(r0)-n0,b0
1811      P:0575 0BF080  [6 -     3088]            jsr     fmpy_ab
                 000000
1812      P:0577 380301  [2 -     3090]            tfr     b,a       #3,n0
1813      P:0578 205800  [2 -     3092]            move              (r0)+
1814      P:0579 204800  [2 -     3094]            move              (r0)+n0
1815      P:057A 57D000  [2 -     3096]            move              x:(r0)-,b
1816      P:057B 51C000  [2 -     3098]            move              x:(r0)-n0,b0
1817      P:057C 0BF080  [6 -     3104]            jsr     fadd_ab
                 000000
1818                                     ; **************************************************
1819                                     ;   
1820                                     ;   if (((fabs(*D_MS - *D_ML) >= 0.125 * *D_ML) ||
1821                                     ;        (*Y < 3.0)) && (TDP == 0))
1822                                     ; **************************************************
1823      P:057E 515A00  [2 -     3106]            move              b0,x:(r2)+
1824      P:057F 555200  [2 -     3108]            move              b1,x:(r2)-
1825      P:0580 205A00  [2 -     3110]            move              (r2)+
1826      P:0581 56D200  [2 -     3112]            move              x:(r2)-,a
1827      P:0582 50E200  [2 -     3114]            move              x:(r2),a0
1828      P:0583 205B00  [2 -     3116]            move              (r3)+
1829      P:0584 57D300  [2 -     3118]            move              x:(r3)-,b
1830      P:0585 51E300  [2 -     3120]            move              x:(r3),b0
1831      P:0586 0BF080  [6 -     3126]            jsr     fsub_ab
                 000000
1832      P:0588 44F400  [4 -     3130]            move              #>0,x0
                 000000
1833      P:058A 45F400  [4 -     3134]            move              #>0,x1
                 000000
1834      P:058C 205861  [2 -     3136]            tfr     x1,a      (r0)+
1835      P:058D 208800  [2 -     3138]            move              x0,a0
1836      P:058E 204800  [2 -     3140]            move              (r0)+n0
1837      P:058F 555000  [2 -     3142]            move              b1,x:(r0)-
1838      P:0590 514000  [2 -     3144]            move              b0,x:(r0)-n0
1839      P:0591 380600  [2 -     3146]            move              #6,n0
1840      P:0592 205800  [2 -     3148]            move              (r0)+
1841      P:0593 204800  [2 -     3150]            move              (r0)+n0
1842      P:0594 455000  [2 -     3152]            move              x1,x:(r0)-
1843      P:0595 444000  [2 -     3154]            move              x0,x:(r0)-n0
1844      P:0596 0BF080  [6 -     3160]            jsr     fcmp_ab
                 000000
1845      P:0598 0AF0AF  [6 -     3166]            jle     L119
                 0005A5
1846      P:059A 380300  [2 -     3168]            move              #3,n0
1847      P:059B 205800  [2 -     3170]            move              (r0)+
1848      P:059C 204800  [2 -     3172]            move              (r0)+n0
1849      P:059D 45D000  [2 -     3174]            move              x:(r0)-,x1
1850      P:059E 44C000  [2 -     3176]            move              x:(r0)-n0,x0
1851      P:059F 205800  [2 -     3178]            move              (r0)+
1852      P:05A0 204800  [2 -     3180]            move              (r0)+n0
1853      P:05A1 455000  [2 -     3182]            move              x1,x:(r0)-
1854      P:05A2 444000  [2 -     3184]            move              x0,x:(r0)-n0
1855      P:05A3 0AF080  [6 -     3190]            jmp     L120
                 0005B0
1856                                     L119
1857      P:05A5 380300  [2 -     3192]            move              #3,n0
1858      P:05A6 205800  [2 -     3194]            move              (r0)+
1859      P:05A7 204800  [2 -     3196]            move              (r0)+n0
1860      P:05A8 57D000  [2 -     3198]            move              x:(r0)-,b
1861      P:05A9 51C000  [2 -     3200]            move              x:(r0)-n0,b0
1862      P:05AA 0BF080  [6 -     3206]            jsr     fneg_b
                 000000
1863      P:05AC 205800  [2 -     3208]            move              (r0)+
1864      P:05AD 204800  [2 -     3210]            move              (r0)+n0
1865      P:05AE 555000  [2 -     3212]            move              b1,x:(r0)-
1866      P:05AF 514000  [2 -     3214]            move              b0,x:(r0)-n0
1867                                     L120
1868                                     ; **************************************************
1869                                     ; **************************************************
1870      P:05B0 56F400  [4 -     3218]            move              #>4194304,a
                 400000
1871      P:05B2 50F400  [4 -     3222]            move              #>8189,a0
                 001FFD
1872      P:05B4 205A00  [2 -     3224]            move              (r2)+
1873      P:05B5 57D200  [2 -     3226]            move              x:(r2)-,b
1874      P:05B6 51E200  [2 -     3228]            move              x:(r2),b0
1875      P:05B7 0BF080  [6 -     3234]            jsr     fmpy_ab
                 000000
1876      P:05B9 380601  [2 -     3236]            tfr     b,a       #6,n0
1877      P:05BA 205800  [2 -     3238]            move              (r0)+
1878      P:05BB 204800  [2 -     3240]            move              (r0)+n0
1879      P:05BC 555000  [2 -     3242]            move              b1,x:(r0)-
1880      P:05BD 514000  [2 -     3244]            move              b0,x:(r0)-n0
1881      P:05BE 380300  [2 -     3246]            move              #3,n0
1882      P:05BF 205800  [2 -     3248]            move              (r0)+
1883      P:05C0 204800  [2 -     3250]            move              (r0)+n0
1884      P:05C1 57D000  [2 -     3252]            move              x:(r0)-,b
1885      P:05C2 51C000  [2 -     3254]            move              x:(r0)-n0,b0
1886      P:05C3 0BF080  [6 -     3260]            jsr     fcmp_ab
                 000000
1887      P:05C5 0AF0A1  [6 -     3266]            jge     L117
                 0005E4
1888      P:05C7 70F400  [4 -     3270]            move              #65533,n0
                 00FFFD
1889      P:05C9 65E800  [4 -     3274]            move              x:(r0+n0),r5
1890      P:05CA 380600  [2 -     3276]            move              #6,n0
1891      P:05CB 205D00  [2 -     3278]            move              (r5)+
1892      P:05CC 45D500  [2 -     3280]            move              x:(r5)-,x1
1893      P:05CD 44E500  [2 -     3282]            move              x:(r5),x0
1894      P:05CE 205800  [2 -     3284]            move              (r0)+
1895      P:05CF 204800  [2 -     3286]            move              (r0)+n0
1896      P:05D0 455000  [2 -     3288]            move              x1,x:(r0)-
1897      P:05D1 45F400  [4 -     3292]            move              #>6291456,x1
                 600000
1898      P:05D3 444061  [2 -     3294]            tfr     x1,a      x0,x:(r0)-n0
1899      P:05D4 44F400  [4 -     3298]            move              #>8193,x0
                 002001
1900      P:05D6 208800  [2 -     3300]            move              x0,a0
1901      P:05D7 205800  [2 -     3302]            move              (r0)+
1902      P:05D8 204800  [2 -     3304]            move              (r0)+n0
1903      P:05D9 57D000  [2 -     3306]            move              x:(r0)-,b
1904      P:05DA 51C000  [2 -     3308]            move              x:(r0)-n0,b0
1905      P:05DB 380300  [2 -     3310]            move              #3,n0
1906      P:05DC 205800  [2 -     3312]            move              (r0)+
1907      P:05DD 204800  [2 -     3314]            move              (r0)+n0
1908      P:05DE 455000  [2 -     3316]            move              x1,x:(r0)-
1909      P:05DF 444000  [2 -     3318]            move              x0,x:(r0)-n0
1910      P:05E0 0BF080  [6 -     3324]            jsr     fcmp_ab
                 000000
1911      P:05E2 0AF0A1  [6 -     3330]            jge     L116
                 0005FC
1912                                     L117
1913      P:05E4 56F000  [4 -     3334]            move              x:FTDP,a
                 00000E
1914      P:05E6 200003  [2 -     3336]            tst     a
1915      P:05E7 0AF0A2  [6 -     3342]            jne     L116
                 0005FC
1916                                     ; **************************************************
1917                                     ;     *A_P = 0.9375 * *A_P + 0.125 ;
1918                                     ; **************************************************
1919      P:05E9 56F400  [4 -     3346]            move              #>7864320,a
                 780000
1920      P:05EB 50F400  [4 -     3350]            move              #>8191,a0
                 001FFF
1921      P:05ED 205C00  [2 -     3352]            move              (r4)+
1922      P:05EE 57D400  [2 -     3354]            move              x:(r4)-,b
1923      P:05EF 51E400  [2 -     3356]            move              x:(r4),b0
1924      P:05F0 0BF080  [6 -     3362]            jsr     fmpy_ab
                 000000
1925      P:05F2 56F400  [4 -     3366]            move              #>4194304,a
                 400000
1926      P:05F4 50F400  [4 -     3370]            move              #>8189,a0
                 001FFD
1927      P:05F6 0BF080  [6 -     3376]            jsr     fadd_ab
                 000000
1928      P:05F8 515C00  [2 -     3378]            move              b0,x:(r4)+
1929      P:05F9 555400  [2 -     3380]            move              b1,x:(r4)-
1930      P:05FA 0AF080  [6 -     3386]            jmp     L121
                 000623
1931                                     L116
1932                                     ; **************************************************
1933                                     ;   else 
1934                                     ;     *A_P = (TR == 1) ? 1.0 : 0.9375 * *A_P ; 
1935                                     ; **************************************************
1936      P:05FC 57F400  [4 -     3390]            move              #>1,b
                 000001
1937      P:05FE 56F000  [4 -     3394]            move              x:FTR,a
                 00000F
1938      P:0600 200005  [2 -     3396]            cmp     b,a
1939      P:0601 0AF0A2  [6 -     3402]            jne     L122
                 00060E
1940      P:0603 380600  [2 -     3404]            move              #6,n0
1941      P:0604 44F400  [4 -     3408]            move              #>8192,x0
                 002000
1942      P:0606 45F400  [4 -     3412]            move              #>4194304,x1
                 400000
1943      P:0608 205800  [2 -     3414]            move              (r0)+
1944      P:0609 204800  [2 -     3416]            move              (r0)+n0
1945      P:060A 455000  [2 -     3418]            move              x1,x:(r0)-
1946      P:060B 444000  [2 -     3420]            move              x0,x:(r0)-n0
1947      P:060C 0AF080  [6 -     3426]            jmp     L123
                 00061C
1948                                     L122
1949      P:060E 56F400  [4 -     3430]            move              #>7864320,a
                 780000
1950      P:0610 50F400  [4 -     3434]            move              #>8191,a0
                 001FFF
1951      P:0612 205C00  [2 -     3436]            move              (r4)+
1952      P:0613 57D400  [2 -     3438]            move              x:(r4)-,b
1953      P:0614 51E400  [2 -     3440]            move              x:(r4),b0
1954      P:0615 0BF080  [6 -     3446]            jsr     fmpy_ab
                 000000
1955      P:0617 380600  [2 -     3448]            move              #6,n0
1956      P:0618 205800  [2 -     3450]            move              (r0)+
1957      P:0619 204800  [2 -     3452]            move              (r0)+n0
1958      P:061A 555000  [2 -     3454]            move              b1,x:(r0)-
1959      P:061B 514000  [2 -     3456]            move              b0,x:(r0)-n0
1960                                     L123
1961      P:061C 380600  [2 -     3458]            move              #6,n0
1962      P:061D 205800  [2 -     3460]            move              (r0)+
1963      P:061E 204800  [2 -     3462]            move              (r0)+n0
1964      P:061F 45D000  [2 -     3464]            move              x:(r0)-,x1
1965      P:0620 44C000  [2 -     3466]            move              x:(r0)-n0,x0
1966      P:0621 445C00  [2 -     3468]            move              x0,x:(r4)+
1967      P:0622 455400  [2 -     3470]            move              x1,x:(r4)-
1968                                     L121
1969                                     ; **************************************************
1970                                     ;   
1971                                     ; }
1972                                     ; **************************************************
1973      P:0623 205000  [2 -     3472]            move              (r0)-
1974      P:0624 205000  [2 -     3474]            move              (r0)-
1975      P:0625 205600  [2 -     3476]            move              (r6)-
1976      P:0626 65D600  [2 -     3478]            move              x:(r6)-,r5
1977      P:0627 64D600  [2 -     3480]            move              x:(r6)-,r4
1978      P:0628 63D600  [2 -     3482]            move              x:(r6)-,r3
1979      P:0629 62D600  [2 -     3484]            move              x:(r6)-,r2
1980      P:062A 61D600  [2 -     3486]            move              x:(r6)-,r1
1981      P:062B 47D600  [2 -     3488]            move              x:(r6)-,y1
1982      P:062C 46D600  [2 -     3490]            move              x:(r6)-,y0
1983      P:062D 45D600  [2 -     3492]            move              x:(r6)-,x1
1984      P:062E 44D600  [2 -     3494]            move              x:(r6)-,x0
1985      P:062F 57D600  [2 -     3496]            move              x:(r6)-,b
1986      P:0630 51E600  [2 -     3498]            move              x:(r6),b0
1987      P:0631 221600  [2 -     3500]            move              r0,r6
1988      P:0632 60E000  [2 -     3502]            move              x:(r0),r0
1989      P:0633 00000C  [4 -     3506]            rts
1990   
1991      X:00A0                                   org     x:
1992                                     F___W2
1993      X:00A0                                   dc      $001fff
1994      X:00A1                                   dc      $a00000
1995      X:00A2                                   dc      $002000
1996      X:00A3                                   dc      $4851ec
1997      X:00A4                                   dc      $002001
1998      X:00A5                                   dc      $51eb85
1999      X:00A6                                   dc      $002002
2000      X:00A7                                   dc      $400000
2001      X:00A8                                   dc      $002002
2002      X:00A9                                   dc      $700000
2003      X:00AA                                   dc      $002003
2004      X:00AB                                   dc      $630a3d
2005      X:00AC                                   dc      $002004
2006      X:00AD                                   dc      $58c28f
2007      X:00AE                                   dc      $002006
2008      X:00AF                                   dc      $462148
2009      P:0634                                   org     p:
2010                                               global  Fscale_factor
2011                                     Fscale_factor
2012                                     ; **************************************************
2013                                     ; **************************************************
2014                                     ; **************************************************
2015                                     ; 
2016                                     ; void scale_factor(Y_U, Y_L)
2017                                     ; float *Y_U ; 
2018                                     ; float *Y_L ; 
2019                                     ; {
2020                                     ; 
2021                                     ;   static float W[] =
2022                                     ;     {
2023                                     ;       -0.75, 1.13, 2.56, 4.00, 7.00, 12.38, 22.19, 70.13
2024                                     ;     };
2025                                     ;   
2026                                     ;   Y1 = AL * *Y_U + (1.0 - AL) * *Y_L;
2027                                     ; **************************************************
2028      P:0634 70F400  [4 -     3510]            move              #65533,n0
                 00FFFD
2029      P:0636 3E0500  [2 -     3512]            move              #5,n6
2030      P:0637 605E00  [2 -     3514]            move              r0,x:(r6)+
2031      P:0638 205E00  [2 -     3516]            move              (r6)+
2032      P:0639 22D000  [2 -     3518]            move              r6,r0
2033      P:063A 204E00  [2 -     3520]            move              (r6)+n6
2034      P:063B 515E00  [2 -     3522]            move              b0,x:(r6)+
2035      P:063C 555E00  [2 -     3524]            move              b1,x:(r6)+
2036      P:063D 445E00  [2 -     3526]            move              x0,x:(r6)+
2037      P:063E 455E00  [2 -     3528]            move              x1,x:(r6)+
2038      P:063F 465E00  [2 -     3530]            move              y0,x:(r6)+
2039      P:0640 615E00  [2 -     3532]            move              r1,x:(r6)+
2040      P:0641 625E00  [2 -     3534]            move              r2,x:(r6)+
2041      P:0642 635E00  [2 -     3536]            move              r3,x:(r6)+
2042      P:0643 62E800  [4 -     3540]            move              x:(r0+n0),r2
2043      P:0644 70F400  [4 -     3544]            move              #65532,n0
                 00FFFC
2044      P:0646 57F000  [4 -     3548]            move              x:(FAL+1),b
                 00000D
2045      P:0648 63E800  [4 -     3552]            move              x:(r0+n0),r3
2046      P:0649 51F000  [4 -     3556]            move              x:FAL,b0
                 00000C
2047      P:064B 205A00  [2 -     3558]            move              (r2)+
2048      P:064C 56D200  [2 -     3560]            move              x:(r2)-,a
2049      P:064D 50E200  [2 -     3562]            move              x:(r2),a0
2050      P:064E 0BF080  [6 -     3568]            jsr     fmpy_ab
                 000000
2051      P:0650 515800  [2 -     3570]            move              b0,x:(r0)+
2052      P:0651 555000  [2 -     3572]            move              b1,x:(r0)-
2053      P:0652 56F000  [4 -     3576]            move              x:(FAL+1),a
                 00000D
2054      P:0654 50F000  [4 -     3580]            move              x:FAL,a0
                 00000C
2055      P:0656 57F400  [4 -     3584]            move              #>4194304,b
                 400000
2056      P:0658 51F400  [4 -     3588]            move              #>8192,b0
                 002000
2057      P:065A 0BF080  [6 -     3594]            jsr     fsub_ab
                 000000
2058      P:065C 205B00  [2 -     3596]            move              (r3)+
2059      P:065D 56D300  [2 -     3598]            move              x:(r3)-,a
2060      P:065E 50E300  [2 -     3600]            move              x:(r3),a0
2061      P:065F 0BF080  [6 -     3606]            jsr     fmpy_ab
                 000000
2062      P:0661 205801  [2 -     3608]            tfr     b,a       (r0)+
2063      P:0662 57D000  [2 -     3610]            move              x:(r0)-,b
2064      P:0663 51E000  [2 -     3612]            move              x:(r0),b0
2065      P:0664 0BF080  [6 -     3618]            jsr     fadd_ab
                 000000
2066                                     ; **************************************************
2067                                     ;   
2068                                     ;   *Y_U = 0.96875 * Y1 + 0.03125 * W[abs(I)];
2069                                     ; **************************************************
2070      P:0666 56F400  [4 -     3622]            move              #>8126464,a
                 7C0000
2071      P:0668 50F400  [4 -     3626]            move              #>8191,a0
                 001FFF
2072      P:066A 517000  [4 -     3630]            move              b0,x:FY1
                 000012
2073      P:066C 557000  [4 -     3634]            move              b1,x:(FY1+1)
                 000013
2074      P:066E 0BF080  [6 -     3640]            jsr     fmpy_ab
                 000000
2075      P:0670 380200  [2 -     3642]            move              #2,n0
2076      P:0671 61F400  [4 -     3646]            move              #F___W2,r1
                 0000A0
2077      P:0673 56F400  [4 -     3650]            move              #>4194304,a
                 400000
2078      P:0675 50F400  [4 -     3654]            move              #>8187,a0
                 001FFB
2079      P:0677 46F400  [4 -     3658]            move              #>2,y0
                 000002
2080      P:0679 205800  [2 -     3660]            move              (r0)+
2081      P:067A 204800  [2 -     3662]            move              (r0)+n0
2082      P:067B 555000  [2 -     3664]            move              b1,x:(r0)-
2083      P:067C 514000  [2 -     3666]            move              b0,x:(r0)-n0
2084      P:067D 44F000  [4 -     3670]            move              x:FI,x0
                 000007
2085      P:067F 200049  [2 -     3672]            tfr     x0,b
2086      P:0680 20002E  [2 -     3674]            abs     b
2087      P:0681 21A400  [2 -     3676]            move              b1,x0
2088      P:0682 2000D8  [2 -     3678]            mpy     +y0,x0,b
2089      P:0683 20002A  [2 -     3680]            asr     b
2090      P:0684 212F00  [2 -     3682]            move              b0,b
2091      P:0685 21A400  [2 -     3684]            move              b1,x0
2092      P:0686 222F00  [2 -     3686]            move              r1,b
2093      P:0687 200048  [2 -     3688]            add     x0,b
2094      P:0688 21B100  [2 -     3690]            move              b1,r1
2095      P:0689 205900  [2 -     3692]            move              (r1)+
2096      P:068A 57D100  [2 -     3694]            move              x:(r1)-,b
2097      P:068B 51E100  [2 -     3696]            move              x:(r1),b0
2098      P:068C 0BF080  [6 -     3702]            jsr     fmpy_ab
                 000000
2099      P:068E 205801  [2 -     3704]            tfr     b,a       (r0)+
2100      P:068F 204800  [2 -     3706]            move              (r0)+n0
2101      P:0690 57D000  [2 -     3708]            move              x:(r0)-,b
2102      P:0691 51C000  [2 -     3710]            move              x:(r0)-n0,b0
2103      P:0692 0BF080  [6 -     3716]            jsr     fadd_ab
                 000000
2104                                     ; **************************************************
2105                                     ;   
2106                                     ;   if (*Y_U < 1.06) *Y_U = 1.06   ; 
2107                                     ; **************************************************
2108      P:0694 212400  [2 -     3718]            move              b0,x0
2109      P:0695 21A500  [2 -     3720]            move              b1,x1
2110      P:0696 205800  [2 -     3722]            move              (r0)+
2111      P:0697 204800  [2 -     3724]            move              (r0)+n0
2112      P:0698 555000  [2 -     3726]            move              b1,x:(r0)-
2113      P:0699 514000  [2 -     3728]            move              b0,x:(r0)-n0
2114      P:069A 445A00  [2 -     3730]            move              x0,x:(r2)+
2115      P:069B 44F400  [4 -     3734]            move              #>8192,x0
                 002000
2116      P:069D 455200  [2 -     3736]            move              x1,x:(r2)-
2117      P:069E 45F400  [4 -     3740]            move              #>4445962,x1
                 43D70A
2118      P:06A0 445861  [2 -     3742]            tfr     x1,a      x0,x:(r0)+
2119      P:06A1 208800  [2 -     3744]            move              x0,a0
2120      P:06A2 455000  [2 -     3746]            move              x1,x:(r0)-
2121      P:06A3 0BF080  [6 -     3752]            jsr     fcmp_ab
                 000000
2122      P:06A5 0AF0A1  [6 -     3758]            jge     L125
                 0006AC
2123      P:06A7 205800  [2 -     3760]            move              (r0)+
2124      P:06A8 45D000  [2 -     3762]            move              x:(r0)-,x1
2125      P:06A9 44E000  [2 -     3764]            move              x:(r0),x0
2126      P:06AA 445A00  [2 -     3766]            move              x0,x:(r2)+
2127      P:06AB 455200  [2 -     3768]            move              x1,x:(r2)-
2128                                     L125
2129                                     ; **************************************************
2130                                     ;   if (*Y_U > 10.0) *Y_U = 10.0   ; 
2131                                     ; **************************************************
2132      P:06AC 380200  [2 -     3770]            move              #2,n0
2133      P:06AD 205800  [2 -     3772]            move              (r0)+
2134      P:06AE 204800  [2 -     3774]            move              (r0)+n0
2135      P:06AF 205A00  [2 -     3776]            move              (r2)+
2136      P:06B0 45D200  [2 -     3778]            move              x:(r2)-,x1
2137      P:06B1 44E269  [2 -     3780]            tfr     x1,b      x:(r2),x0
2138      P:06B2 208900  [2 -     3782]            move              x0,b0
2139      P:06B3 455000  [2 -     3784]            move              x1,x:(r0)-
2140      P:06B4 45F400  [4 -     3788]            move              #>5242880,x1
                 500000
2141      P:06B6 444061  [2 -     3790]            tfr     x1,a      x0,x:(r0)-n0
2142      P:06B7 44F400  [4 -     3794]            move              #>8195,x0
                 002003
2143      P:06B9 208800  [2 -     3796]            move              x0,a0
2144      P:06BA 445800  [2 -     3798]            move              x0,x:(r0)+
2145      P:06BB 455000  [2 -     3800]            move              x1,x:(r0)-
2146      P:06BC 0BF080  [6 -     3806]            jsr     fcmp_ab
                 000000
2147      P:06BE 0AF0AF  [6 -     3812]            jle     L126
                 0006C5
2148      P:06C0 205800  [2 -     3814]            move              (r0)+
2149      P:06C1 45D000  [2 -     3816]            move              x:(r0)-,x1
2150      P:06C2 44E000  [2 -     3818]            move              x:(r0),x0
2151      P:06C3 445A00  [2 -     3820]            move              x0,x:(r2)+
2152      P:06C4 455200  [2 -     3822]            move              x1,x:(r2)-
2153                                     L126
2154                                     ; **************************************************
2155                                     ;   
2156                                     ;   *Y_L *= 0.984375 ; 
2157                                     ; **************************************************
2158      P:06C5 56F400  [4 -     3826]            move              #>8257536,a
                 7E0000
2159      P:06C7 50F400  [4 -     3830]            move              #>8191,a0
                 001FFF
2160      P:06C9 205B00  [2 -     3832]            move              (r3)+
2161      P:06CA 57D300  [2 -     3834]            move              x:(r3)-,b
2162      P:06CB 51E300  [2 -     3836]            move              x:(r3),b0
2163      P:06CC 0BF080  [6 -     3842]            jsr     fmpy_ab
                 000000
2164                                     ; **************************************************
2165                                     ;   
2166                                     ;   YL1 = *Y_L  = *Y_L + 0.015625 * *Y_U;
2167                                     ; **************************************************
2168      P:06CE 56F400  [4 -     3846]            move              #>4194304,a
                 400000
2169      P:06D0 50F400  [4 -     3850]            move              #>8186,a0
                 001FFA
2170      P:06D2 515B00  [2 -     3852]            move              b0,x:(r3)+
2171      P:06D3 555300  [2 -     3854]            move              b1,x:(r3)-
2172      P:06D4 205A00  [2 -     3856]            move              (r2)+
2173      P:06D5 57D200  [2 -     3858]            move              x:(r2)-,b
2174      P:06D6 51E200  [2 -     3860]            move              x:(r2),b0
2175      P:06D7 0BF080  [6 -     3866]            jsr     fmpy_ab
                 000000
2176      P:06D9 205B00  [2 -     3868]            move              (r3)+
2177      P:06DA 56D300  [2 -     3870]            move              x:(r3)-,a
2178      P:06DB 50E300  [2 -     3872]            move              x:(r3),a0
2179      P:06DC 0BF080  [6 -     3878]            jsr     fadd_ab
                 000000
2180                                     ; **************************************************
2181                                     ;     
2182                                     ; }
2183                                     ; **************************************************
2184      P:06DE 380200  [2 -     3880]            move              #2,n0
2185      P:06DF 212400  [2 -     3882]            move              b0,x0
2186      P:06E0 21A500  [2 -     3884]            move              b1,x1
2187      P:06E1 205600  [2 -     3886]            move              (r6)-
2188      P:06E2 205800  [2 -     3888]            move              (r0)+
2189      P:06E3 204800  [2 -     3890]            move              (r0)+n0
2190      P:06E4 555000  [2 -     3892]            move              b1,x:(r0)-
2191      P:06E5 514000  [2 -     3894]            move              b0,x:(r0)-n0
2192      P:06E6 445B00  [2 -     3896]            move              x0,x:(r3)+
2193      P:06E7 455300  [2 -     3898]            move              x1,x:(r3)-
2194      P:06E8 447000  [4 -     3902]            move              x0,x:FYL1
                 000014
2195      P:06EA 457000  [4 -     3906]            move              x1,x:(FYL1+1)
                 000015
2196      P:06EC 63D600  [2 -     3908]            move              x:(r6)-,r3
2197      P:06ED 62D600  [2 -     3910]            move              x:(r6)-,r2
2198      P:06EE 61D600  [2 -     3912]            move              x:(r6)-,r1
2199      P:06EF 46D600  [2 -     3914]            move              x:(r6)-,y0
2200      P:06F0 45D600  [2 -     3916]            move              x:(r6)-,x1
2201      P:06F1 44D600  [2 -     3918]            move              x:(r6)-,x0
2202      P:06F2 57D600  [2 -     3920]            move              x:(r6)-,b
2203      P:06F3 51E600  [2 -     3922]            move              x:(r6),b0
2204      P:06F4 205000  [2 -     3924]            move              (r0)-
2205      P:06F5 205000  [2 -     3926]            move              (r0)-
2206      P:06F6 221600  [2 -     3928]            move              r0,r6
2207      P:06F7 60E000  [2 -     3930]            move              x:(r0),r0
2208      P:06F8 00000C  [4 -     3934]            rts
2209   
2210      X:00B0                                   org     x:
2211                                     F___i3
2212      X:00B0                                   dc      0
2213      P:06F9                                   org     p:
2214                                               global  Fdisk_play
2215                                     Fdisk_play
2216                                     ; **************************************************
2217                                     ; **************************************************
2218                                     ; **************************************************
2219                                     ; 
2220                                     ; 
2221                                     ; #ifdef __DSP56K__ /* code for the g56k compiler */
2222                                     ; 
2223                                     ; void disk_play() 
2224                                     ; {
2225                                     ; #ifdef __SIMULATION__
2226                                     ;   static int i = 0 ; 
2227                                     ;   if(i >= sizeof(Data_in)/sizeof(int))
2228                                     ; **************************************************
2229      P:06F9 605E00  [2 -     3936]            move              r0,x:(r6)+
2230      P:06FA 22D000  [2 -     3938]            move              r6,r0
2231      P:06FB 205E00  [2 -     3940]            move              (r6)+
2232      P:06FC 515E00  [2 -     3942]            move              b0,x:(r6)+
2233      P:06FD 555E00  [2 -     3944]            move              b1,x:(r6)+
2234      P:06FE 445E00  [2 -     3946]            move              x0,x:(r6)+
2235      P:06FF 455E00  [2 -     3948]            move              x1,x:(r6)+
2236      P:0700 615E00  [2 -     3950]            move              r1,x:(r6)+
2237      P:0701 56F000  [4 -     3954]            move              x:F___i3,a
                 0000B0
2238      P:0703 200003  [2 -     3956]            tst     a
2239      P:0704 0AF0AF  [6 -     3962]            jle     L128
                 00070A
2240                                     ; **************************************************
2241                                     ;     ExitFlag = TRUE ; 
2242                                     ; **************************************************
2243      P:0706 56F400  [4 -     3966]            move              #>1,a
                 000001
2244      P:0708 547000  [4 -     3970]            move              a1,x:FExitFlag
                 0000BF
2245                                     L128
2246                                     ; **************************************************
2247                                     ;   SL = Data_in[i++] & 0xFFFF ; 
2248                                     ; **************************************************
2249                                     ; **************************************************
2250                                     ; 
2251                                     ; #else
2252                                     ;   SL = 0x7a & 0xFFFF;               /* constant value */
2253                                     ; #endif
2254                                     ; }
2255                                     ; **************************************************
2256      P:070A 61F400  [4 -     3974]            move              #FData_in,r1
                 000000
2257      P:070C 56F000  [4 -     3978]            move              x:F___i3,a
                 0000B0
2258      P:070E 44F409  [4 -     3982]            tfr     a,b       #>65535,x0
                 00FFFF
2259      P:0710 45F400  [4 -     3986]            move              #>1,x1
                 000001
2260      P:0712 205068  [2 -     3988]            add     x1,b      (r0)-
2261      P:0713 21A500  [2 -     3990]            move              b1,x1
2262      P:0714 222F00  [2 -     3992]            move              r1,b
2263      P:0715 457018  [4 -     3996]            add     a,b       x1,x:F___i3
                 0000B0
2264      P:0717 21B100  [2 -     3998]            move              b1,r1
2265      P:0718 205600  [2 -     4000]            move              (r6)-
2266      P:0719 56E100  [2 -     4002]            move              x:(r1),a
2267      P:071A 200046  [2 -     4004]            and     x0,a
2268      P:071B 218E00  [2 -     4006]            move              a1,a
2269      P:071C 547000  [4 -     4010]            move              a1,x:FSL
                 000003
2270      P:071E 61D600  [2 -     4012]            move              x:(r6)-,r1
2271      P:071F 45D600  [2 -     4014]            move              x:(r6)-,x1
2272      P:0720 44D600  [2 -     4016]            move              x:(r6)-,x0
2273      P:0721 57D600  [2 -     4018]            move              x:(r6)-,b
2274      P:0722 51E600  [2 -     4020]            move              x:(r6),b0
2275      P:0723 221600  [2 -     4022]            move              r0,r6
2276      P:0724 60E000  [2 -     4024]            move              x:(r0),r0
2277      P:0725 00000C  [4 -     4028]            rts
2278   
2279      X:00B1                                   org     x:
2280                                     F___table4
2281      X:00B1                                   dc      $001fff
2282      X:00B2                                   dc      $828f5c
2283      X:00B3                                   dc      $001fff
2284      X:00B4                                   dc      $4f5c29
2285      X:00B5                                   dc      $002000
2286      X:00B6                                   dc      $5851ec
2287      X:00B7                                   dc      $002000
2288      X:00B8                                   dc      $7a3d71
2289      X:00B9                                   dc      $002001
2290      X:00BA                                   dc      $4ae148
2291      X:00BB                                   dc      $002001
2292      X:00BC                                   dc      $570a3d
2293      X:00BD                                   dc      $002001
2294      X:00BE                                   dc      $63d70a
2295      P:0726                                   org     p:
2296                                               global  Fmain
2297                                     Fmain
2298      P:0726 605E00  [2 -     4030]            move              r0,x:(r6)+
2299      P:0727 055E3C  [2 -     4032]            move              ssh,x:(r6)+
2300                                     ; **************************************************
2301                                     ; **************************************************
2302                                     ; **************************************************
2303                                     ; 
2304                                     ; #else /* MACRO __DSP56K__ not defined, code is also for the SUN */
2305                                     ; 
2306                                     ; void init_disk_play()
2307                                     ; {
2308                                     ;   istrm = fopen("data.in.2freq", "rb") ; 
2309                                     ; }
2310                                     ; 
2311                                     ; void disk_play()
2312                                     ; {
2313                                     ;   int d ;
2314                                     ;   if (istrm != NULL && !feof(istrm))
2315                                     ;     {
2316                                     ;       fread((char*) &d, sizeof(int), 1, istrm) ; 
2317                                     ;       SL = ((d & 0xFFFF0000) >> 16) |
2318                                     ;       ((d & 0x80000000) ? 0xFFFF0000 : 0) ; 
2319                                     ;     }
2320                                     ;   if (feof(istrm)) 
2321                                     ;     ExitFlag = TRUE ; 
2322                                     ;   
2323                                     ; }
2324                                     ; 
2325                                     ; void post_disk_play()
2326                                     ; {
2327                                     ;   if (istrm != NULL)
2328                                     ;     fclose(istrm) ; 
2329                                     ; }
2330                                     ; 
2331                                     ; void init_disk_record()
2332                                     ; {
2333                                     ;   ostrm = fopen("data.out", "wb") ; 
2334                                     ;   t1strm = fopen("datain.tmp","wb") ; 
2335                                     ;   t2strm = fopen("dataout.tmp","wb") ; 
2336                                     ;   t3strm = fopen("error.tmp","wb") ; 
2337                                     ;   fprintf(t1strm,"TitleText: Input Data\n") ;
2338                                     ;   fprintf(t2strm,"TitleText: Output Data\n") ; 
2339                                     ;   fprintf(t3strm,"TitleText: Error\n") ; 
2340                                     ; }
2341                                     ; 
2342                                     ; void disk_record()
2343                                     ; {
2344                                     ;   int d ; 
2345                                     ;   if (ostrm != NULL)
2346                                     ;     {
2347                                     ;       d = (SD & 0x0000FFFF) << 16 ; 
2348                                     ;       fwrite((char*) &d, 4, 1,ostrm) ; 
2349                                     ;     }
2350                                     ; 
2351                                     ; }
2352                                     ; 
2353                                     ; void post_disk_record()
2354                                     ; {
2355                                     ;   if (ostrm != NULL)
2356                                     ;     fclose(ostrm) ; 
2357                                     ;   if (t1strm != NULL)
2358                                     ;     fclose(t1strm) ; 
2359                                     ;   if (t2strm != NULL)
2360                                     ;     fclose(t2strm) ; 
2361                                     ;   if (t3strm != NULL)
2362                                     ;     fclose(t3strm) ; 
2363                                     ; }
2364                                     ; #endif
2365                                     ; 
2366                                     ; main(void)
2367                                     ; {
2368                                     ;   int i = 0 ; 
2369                                     ; **************************************************
2370                                     ; **************************************************
2371                                     ;  
2372                                     ; #ifndef __DSP56K__
2373                                     ;   init_disk_play() ; 
2374                                     ;   init_disk_record() ; 
2375                                     ; #endif
2376                                     ; 
2377                                     ;   /* disk play */
2378                                     ;   ExitFlag = FALSE ; 
2379                                     ; **************************************************
2380                                     ; **************************************************
2381                                     ;   while (!ExitFlag)
2382                                     ; **************************************************
2383      P:0728 380213  [2 -     4034]            clr     a         #2,n0
2384      P:0729 3E0500  [2 -     4036]            move              #5,n6
2385      P:072A 22D000  [2 -     4038]            move              r6,r0
2386      P:072B 204E00  [2 -     4040]            move              (r6)+n6
2387      P:072C 515E00  [2 -     4042]            move              b0,x:(r6)+
2388      P:072D 555E00  [2 -     4044]            move              b1,x:(r6)+
2389      P:072E 445E00  [2 -     4046]            move              x0,x:(r6)+
2390      P:072F 455E00  [2 -     4048]            move              x1,x:(r6)+
2391      P:0730 45F400  [4 -     4052]            move              #>1,x1
                 000001
2392      P:0732 465E00  [2 -     4054]            move              y0,x:(r6)+
2393      P:0733 46F400  [4 -     4058]            move              #>0,y0
                 000000
2394      P:0735 475E00  [2 -     4060]            move              y1,x:(r6)+
2395      P:0736 47F400  [4 -     4064]            move              #>0,y1
                 000000
2396      P:0738 615E00  [2 -     4066]            move              r1,x:(r6)+
2397      P:0739 625E00  [2 -     4068]            move              r2,x:(r6)+
2398      P:073A 62F400  [4 -     4072]            move              #FD_Y,r2
                 000020
2399      P:073C 635E00  [2 -     4074]            move              r3,x:(r6)+
2400      P:073D 63F400  [4 -     4078]            move              #FE_Y,r3
                 00001C
2401      P:073F 645E00  [2 -     4080]            move              r4,x:(r6)+
2402      P:0740 64F400  [4 -     4084]            move              #FD_YL,r4
                 000022
2403      P:0742 655E00  [2 -     4086]            move              r5,x:(r6)+
2404      P:0743 65F400  [4 -     4090]            move              #FD_DQ1,r5
                 000019
2405      P:0745 675E00  [2 -     4092]            move              r7,x:(r6)+
2406      P:0746 67F400  [4 -     4096]            move              #FD_TR1,r7
                 00001B
2407      P:0748 547000  [4 -     4100]            move              a1,x:FExitFlag
                 0000BF
2408      P:074A 205800  [2 -     4102]            move              (r0)+
2409      P:074B 204800  [2 -     4104]            move              (r0)+n0
2410      P:074C 475000  [2 -     4106]            move              y1,x:(r0)-
2411      P:074D 464000  [2 -     4108]            move              y0,x:(r0)-n0
2412                                     L142
2413                                     ; **************************************************
2414                                     ;     {
2415                                     ;       disk_play() ; 
2416                                     ; **************************************************
2417      P:074E 0BF080  [6 -     4114]            jsr     Fdisk_play
                 0006F9
2418                                     ; **************************************************
2419                                     ; 
2420                                     ; #ifdef __DSP56K__
2421                                     ; #ifndef __SIMULATION__ 
2422                                     ;       if (i == N_OF_DATA)           
2423                                     ;       ExitFlag = TRUE ;      /* N_OF_DATA constant values simulation */
2424                                     ;       i++ ; 
2425                                     ; #endif
2426                                     ; #else
2427                                     ;       i++ ; 
2428                                     ;       if (i < 1000) fprintf(t1strm,"%i\t%i\n",i,SL) ; 
2429                                     ; #endif
2430                                     ; 
2431                                     ;       if(ExitFlag)
2432                                     ; **************************************************
2433      P:0750 56F000  [4 -     4118]            move              x:FExitFlag,a
                 0000BF
2434      P:0752 200003  [2 -     4120]            tst     a
2435      P:0753 0AF0A2  [6 -     4126]            jne     L131
                 000896
2436                                     ; **************************************************
2437                                     ;       break ; 
2438                                     ; **************************************************
2439                                     ; **************************************************
2440                                     ; 
2441                                     ;     /*
2442                                     ;      * ENCODER
2443                                     ;      */
2444                                     ;       
2445                                     ;       adpt_predict(&E_DQ1,&E_TR1,
2446                                     ;                 &E_A1, &E_A2,
2447                                     ;                 &E_P1, &E_P2, &E_P3, &E_SR2, 
2448                                     ;                 E_B, E_D_Q,
2449                                     ;                 &E_SE, &E_SEZ);
2450                                     ; **************************************************
2451      P:0755 61F400  [4 -     4130]            move              #FE_SEZ,r1
                 00004A
2452      P:0757 615E00  [2 -     4132]            move              r1,x:(r6)+
2453      P:0758 61F400  [4 -     4136]            move              #FE_SE,r1
                 000048
2454      P:075A 615E00  [2 -     4138]            move              r1,x:(r6)+
2455      P:075B 61F400  [4 -     4142]            move              #FE_D_Q,r1
                 00003C
2456      P:075D 615E00  [2 -     4144]            move              r1,x:(r6)+
2457      P:075E 61F400  [4 -     4148]            move              #FE_B,r1
                 000030
2458      P:0760 615E00  [2 -     4150]            move              r1,x:(r6)+
2459      P:0761 61F400  [4 -     4154]            move              #FE_SR2,r1
                 00002E
2460      P:0763 615E00  [2 -     4156]            move              r1,x:(r6)+
2461      P:0764 61F400  [4 -     4160]            move              #FE_P3,r1
                 00002C
2462      P:0766 615E00  [2 -     4162]            move              r1,x:(r6)+
2463      P:0767 61F400  [4 -     4166]            move              #FE_P2,r1
                 00002A
2464      P:0769 615E00  [2 -     4168]            move              r1,x:(r6)+
2465      P:076A 61F400  [4 -     4172]            move              #FE_P1,r1
                 000028
2466      P:076C 615E00  [2 -     4174]            move              r1,x:(r6)+
2467      P:076D 61F400  [4 -     4178]            move              #FE_A2,r1
                 000026
2468      P:076F 615E00  [2 -     4180]            move              r1,x:(r6)+
2469      P:0770 61F400  [4 -     4184]            move              #FE_A1,r1
                 000024
2470      P:0772 615E00  [2 -     4186]            move              r1,x:(r6)+
2471      P:0773 61F400  [4 -     4190]            move              #FE_TR1,r1
                 000018
2472      P:0775 615E00  [2 -     4192]            move              r1,x:(r6)+
2473      P:0776 61F400  [4 -     4196]            move              #FE_DQ1,r1
                 000016
2474      P:0778 615E00  [2 -     4198]            move              r1,x:(r6)+
2475      P:0779 0BF080  [6 -     4204]            jsr     Fadpt_predict
                 000000
2476                                     ; **************************************************
2477                                     ;       
2478                                     ;       /* DIFF SIGNAL is used inlined */
2479                                     ;       /* SUBTA */
2480                                     ;       
2481                                     ;       D = ((float) SL)  - s_e ; 
2482                                     ; **************************************************
2483      P:077B 3E0C00  [2 -     4206]            move              #12,n6
2484      P:077C 56F000  [4 -     4210]            move              x:FSL,a
                 000003
2485      P:077E 204600  [2 -     4212]            move              (r6)-n6
2486      P:077F 0BF080  [6 -     4218]            jsr     floatsidf_a
                 000000
2487      P:0781 57F000  [4 -     4222]            move              x:(Fs_e+1),b
                 00000B
2488      P:0783 51F000  [4 -     4226]            move              x:Fs_e,b0
                 00000A
2489      P:0785 0BF080  [6 -     4232]            jsr     fsub_ba
                 000000
2490                                     ; **************************************************
2491                                     ;       
2492                                     ;       /* ADPT_QUANT is used inlined */
2493                                     ;         
2494                                     ;       {
2495                                     ;  
2496                                     ;       static float table[7] = { -0.98, 0.62, 1.38, 1.91, 2.34, 2.72, 3.12} ; 
2497                                     ;       register float* ptable = table ;  
2498                                     ; **************************************************
2499                                     ; **************************************************
2500                                     ; 
2501                                     ;       register float d_ln;
2502                                     ;       register int f ;
2503                                     ; 
2504                                     ;       d_ln = (D < 0) ? (-1) * D : D ;
2505                                     ; **************************************************
2506      P:0787 380200  [2 -     4234]            move              #2,n0
2507      P:0788 61F400  [4 -     4238]            move              #F___table4,r1
                 0000B1
2508      P:078A 205800  [2 -     4240]            move              (r0)+
2509      P:078B 204800  [2 -     4242]            move              (r0)+n0
2510      P:078C 507000  [4 -     4246]            move              a0,x:FD
                 000001
2511      P:078E 547000  [4 -     4250]            move              a1,x:(FD+1)
                 000002
2512      P:0790 57D000  [2 -     4252]            move              x:(r0)-,b
2513      P:0791 51C000  [2 -     4254]            move              x:(r0)-n0,b0
2514      P:0792 0BF080  [6 -     4260]            jsr     fcmp_ba
                 000000
2515      P:0794 0AF0A1  [6 -     4266]            jge     L133
                 0007A2
2516      P:0796 57F400  [4 -     4270]            move              #>8388608,b
                 800000
2517      P:0798 51F400  [4 -     4274]            move              #>8191,b0
                 001FFF
2518      P:079A 56F000  [4 -     4278]            move              x:(FD+1),a
                 000002
2519      P:079C 50F000  [4 -     4282]            move              x:FD,a0
                 000001
2520      P:079E 0BF080  [6 -     4288]            jsr     fmpy_ba
                 000000
2521      P:07A0 0AF080  [6 -     4294]            jmp     L134
                 0007A6
2522                                     L133
2523      P:07A2 56F000  [4 -     4298]            move              x:(FD+1),a
                 000002
2524      P:07A4 50F000  [4 -     4302]            move              x:FD,a0
                 000001
2525                                     L134
2526                                     ; **************************************************
2527                                     ;       d_ln = log10(d_ln) * 3.321928095  - E_Y ; 
2528                                     ; **************************************************
2529      P:07A6 505800  [2 -     4304]            move              a0,x:(r0)+
2530      P:07A7 545000  [2 -     4306]            move              a1,x:(r0)-
2531      P:07A8 205800  [2 -     4308]            move              (r0)+
2532      P:07A9 47D000  [2 -     4310]            move              x:(r0)-,y1
2533      P:07AA 46E000  [2 -     4312]            move              x:(r0),y0
2534      P:07AB 465E00  [2 -     4314]            move              y0,x:(r6)+
2535      P:07AC 475E00  [2 -     4316]            move              y1,x:(r6)+
2536      P:07AD 0BF080  [6 -     4322]            jsr     Flog10
                 000000
2537      P:07AF 57F400  [4 -     4326]            move              #>6966588,b
                 6A4D3C
2538      P:07B1 51F400  [4 -     4330]            move              #>8193,b0
                 002001
2539      P:07B3 205600  [2 -     4332]            move              (r6)-
2540      P:07B4 205600  [2 -     4334]            move              (r6)-
2541      P:07B5 0BF080  [6 -     4340]            jsr     fmpy_ba
                 000000
2542      P:07B7 57F000  [4 -     4344]            move              x:(FE_Y+1),b
                 00001D
2543      P:07B9 51F000  [4 -     4348]            move              x:FE_Y,b0
                 00001C
2544      P:07BB 0BF080  [6 -     4354]            jsr     fsub_ba
                 000000
2545                                     ; **************************************************
2546                                     ;       
2547                                     ;       for ( f = 0 ; f < 7 ; f++)
2548                                     ; **************************************************
2549      P:07BD 380400  [2 -     4356]            move              #4,n0
2550      P:07BE 44F400  [4 -     4360]            move              #>6,x0
                 000006
2551      P:07C0 260000  [2 -     4362]            move              #0,y0
2552      P:07C1 505800  [2 -     4364]            move              a0,x:(r0)+
2553      P:07C2 545000  [2 -     4366]            move              a1,x:(r0)-
2554      P:07C3 466800  [4 -     4370]            move              y0,x:(r0+n0)
2555                                     L139
2556                                     ; **************************************************
2557                                     ;         if (d_ln < *ptable++)
2558                                     ; **************************************************
2559      P:07C4 390200  [2 -     4372]            move              #2,n1
2560      P:07C5 205800  [2 -     4374]            move              (r0)+
2561      P:07C6 57D000  [2 -     4376]            move              x:(r0)-,b
2562      P:07C7 51E000  [2 -     4378]            move              x:(r0),b0
2563      P:07C8 205900  [2 -     4380]            move              (r1)+
2564      P:07C9 56D100  [2 -     4382]            move              x:(r1)-,a
2565      P:07CA 50C900  [2 -     4384]            move              x:(r1)+n1,a0
2566      P:07CB 0BF080  [6 -     4390]            jsr     fcmp_ab
                 000000
2567      P:07CD 0AF0A9  [6 -     4396]            jlt     L136
                 0007D5
2568                                     ; **************************************************
2569                                     ;         break ; 
2570                                     ; **************************************************
2571                                     ; **************************************************
2572                                     ; **************************************************
2573      P:07CF 380400  [2 -     4398]            move              #4,n0
2574      P:07D0 57E800  [4 -     4402]            move              x:(r0+n0),b
2575      P:07D1 200068  [2 -     4404]            add     x1,b
2576      P:07D2 55684D  [4 -     4408]            cmp     x0,b      b1,x:(r0+n0)
2577      P:07D3 0AF0AF  [6 -     4414]            jle     L139
                 0007C4
2578                                     L136
2579                                     ; **************************************************
2580                                     ;               
2581                                     ;       I = (D < 0) ? (-1) * f : f ;
2582                                     ; **************************************************
2583      P:07D5 380200  [2 -     4416]            move              #2,n0
2584      P:07D6 56F000  [4 -     4420]            move              x:(FD+1),a
                 000002
2585      P:07D8 50F000  [4 -     4424]            move              x:FD,a0
                 000001
2586      P:07DA 205800  [2 -     4426]            move              (r0)+
2587      P:07DB 204800  [2 -     4428]            move              (r0)+n0
2588      P:07DC 57D000  [2 -     4430]            move              x:(r0)-,b
2589      P:07DD 51C000  [2 -     4432]            move              x:(r0)-n0,b0
2590      P:07DE 0BF080  [6 -     4438]            jsr     fcmp_ba
                 000000
2591      P:07E0 0AF0A1  [6 -     4444]            jge     L140
                 0007E7
2592      P:07E2 380400  [2 -     4446]            move              #4,n0
2593      P:07E3 56E800  [4 -     4450]            move              x:(r0+n0),a
2594      P:07E4 200036  [2 -     4452]            neg     a
2595      P:07E5 0AF080  [6 -     4458]            jmp     L141
                 0007E9
2596                                     L140
2597      P:07E7 380400  [2 -     4460]            move              #4,n0
2598      P:07E8 56E800  [4 -     4464]            move              x:(r0+n0),a
2599                                     L141
2600                                     ; **************************************************
2601                                     ;        
2602                                     ;       }
2603                                     ;       
2604                                     ;       iadpt_quant(&E_Y);
2605                                     ; **************************************************
2606      P:07E9 547000  [4 -     4468]            move              a1,x:FI
                 000007
2607      P:07EB 635E00  [2 -     4470]            move              r3,x:(r6)+
2608      P:07EC 0BF080  [6 -     4476]            jsr     Fiadpt_quant
                 000435
2609                                     ; **************************************************
2610                                     ;       tone_detector(&E_YL) ;
2611                                     ; **************************************************
2612      P:07EE 46F400  [4 -     4480]            move              #>FE_YL,y0
                 00001E
2613      P:07F0 205600  [2 -     4482]            move              (r6)-
2614      P:07F1 465E00  [2 -     4484]            move              y0,x:(r6)+
2615      P:07F2 0BF080  [6 -     4490]            jsr     Ftone_detector
                 000486
2616                                     ; **************************************************
2617                                     ;       speed_control(&E_Y, &E_DMS, &E_DML, &E_AP);
2618                                     ; **************************************************
2619      P:07F4 61F400  [4 -     4494]            move              #FE_AP,r1
                 000050
2620      P:07F6 205600  [2 -     4496]            move              (r6)-
2621      P:07F7 615E00  [2 -     4498]            move              r1,x:(r6)+
2622      P:07F8 61F400  [4 -     4502]            move              #FE_DML,r1
                 00004E
2623      P:07FA 615E00  [2 -     4504]            move              r1,x:(r6)+
2624      P:07FB 61F400  [4 -     4508]            move              #FE_DMS,r1
                 00004C
2625      P:07FD 615E00  [2 -     4510]            move              r1,x:(r6)+
2626      P:07FE 635E00  [2 -     4512]            move              r3,x:(r6)+
2627      P:07FF 0BF080  [6 -     4518]            jsr     Fspeed_control
                 0004F4
2628                                     ; **************************************************
2629                                     ;       scale_factor(&E_YU, &E_Y_L);
2630                                     ; **************************************************
2631      P:0801 3E0400  [2 -     4520]            move              #4,n6
2632      P:0802 61F400  [4 -     4524]            move              #FE_Y_L,r1
                 000052
2633      P:0804 204600  [2 -     4526]            move              (r6)-n6
2634      P:0805 615E00  [2 -     4528]            move              r1,x:(r6)+
2635      P:0806 61F400  [4 -     4532]            move              #FE_YU,r1
                 000054
2636      P:0808 615E00  [2 -     4534]            move              r1,x:(r6)+
2637      P:0809 0BF080  [6 -     4540]            jsr     Fscale_factor
                 000634
2638                                     ; **************************************************
2639                                     ; 
2640                                     ;       /*
2641                                     ;        * DELAYS in ENCODER
2642                                     ;        */
2643                                     ;       
2644                                     ;       /* adpt predictor delays */
2645                                     ; 
2646                                     ;       E_DQ1 = DQ ;  
2647                                     ; **************************************************
2648                                     ; **************************************************
2649                                     ;       E_TR1 = TR ;
2650                                     ; **************************************************
2651                                     ; **************************************************
2652                                     ; 
2653                                     ;       /* scale factor delays */
2654                                     ;       E_YL = YL1 ; 
2655                                     ; **************************************************
2656                                     ; **************************************************
2657                                     ;       E_Y  = Y1 ; 
2658                                     ; **************************************************
2659                                     ; **************************************************
2660                                     ; 
2661                                     ;       /*
2662                                     ;        * DECODER
2663                                     ;        */
2664                                     ;       
2665                                     ;       adpt_predict(&D_DQ1, &D_TR1,
2666                                     ;                 &D_A1, &D_A2,
2667                                     ;                 &D_P1, &D_P2, &D_P3, &D_SR2, 
2668                                     ;                 D_B, D_D_Q,
2669                                     ;                 &D_SE, &D_SEZ) ; 
2670                                     ; **************************************************
2671      P:080B 61F400  [4 -     4544]            move              #FD_SEZ,r1
                 00007C
2672      P:080D 56F000  [4 -     4548]            move              x:(FDQ+1),a
                 000011
2673      P:080F 50F000  [4 -     4552]            move              x:FDQ,a0
                 000010
2674      P:0811 507000  [4 -     4556]            move              a0,x:FE_DQ1
                 000016
2675      P:0813 547000  [4 -     4560]            move              a1,x:(FE_DQ1+1)
                 000017
2676      P:0815 56F000  [4 -     4564]            move              x:FTR,a
                 00000F
2677      P:0817 547000  [4 -     4568]            move              a1,x:FE_TR1
                 000018
2678      P:0819 56F000  [4 -     4572]            move              x:(FYL1+1),a
                 000015
2679      P:081B 50F000  [4 -     4576]            move              x:FYL1,a0
                 000014
2680      P:081D 507000  [4 -     4580]            move              a0,x:FE_YL
                 00001E
2681      P:081F 547000  [4 -     4584]            move              a1,x:(FE_YL+1)
                 00001F
2682      P:0821 56F000  [4 -     4588]            move              x:(FY1+1),a
                 000013
2683      P:0823 50F000  [4 -     4592]            move              x:FY1,a0
                 000012
2684      P:0825 505B00  [2 -     4594]            move              a0,x:(r3)+
2685      P:0826 545300  [2 -     4596]            move              a1,x:(r3)-
2686      P:0827 205600  [2 -     4598]            move              (r6)-
2687      P:0828 205600  [2 -     4600]            move              (r6)-
2688      P:0829 615E00  [2 -     4602]            move              r1,x:(r6)+
2689      P:082A 61F400  [4 -     4606]            move              #FD_SE,r1
                 00007A
2690      P:082C 615E00  [2 -     4608]            move              r1,x:(r6)+
2691      P:082D 61F400  [4 -     4612]            move              #FD_D_Q,r1
                 00006E
2692      P:082F 615E00  [2 -     4614]            move              r1,x:(r6)+
2693      P:0830 61F400  [4 -     4618]            move              #FD_B,r1
                 000062
2694      P:0832 615E00  [2 -     4620]            move              r1,x:(r6)+
2695      P:0833 61F400  [4 -     4624]            move              #FD_SR2,r1
                 000060
2696      P:0835 615E00  [2 -     4626]            move              r1,x:(r6)+
2697      P:0836 61F400  [4 -     4630]            move              #FD_P3,r1
                 00005E
2698      P:0838 615E00  [2 -     4632]            move              r1,x:(r6)+
2699      P:0839 61F400  [4 -     4636]            move              #FD_P2,r1
                 00005C
2700      P:083B 615E00  [2 -     4638]            move              r1,x:(r6)+
2701      P:083C 61F400  [4 -     4642]            move              #FD_P1,r1
                 00005A
2702      P:083E 615E00  [2 -     4644]            move              r1,x:(r6)+
2703      P:083F 61F400  [4 -     4648]            move              #FD_A2,r1
                 000058
2704      P:0841 615E00  [2 -     4650]            move              r1,x:(r6)+
2705      P:0842 61F400  [4 -     4654]            move              #FD_A1,r1
                 000056
2706      P:0844 615E00  [2 -     4656]            move              r1,x:(r6)+
2707      P:0845 675E00  [2 -     4658]            move              r7,x:(r6)+
2708      P:0846 655E00  [2 -     4660]            move              r5,x:(r6)+
2709      P:0847 0BF080  [6 -     4666]            jsr     Fadpt_predict
                 000000
2710                                     ; **************************************************
2711                                     ;       
2712                                     ;       iadpt_quant(&D_Y);
2713                                     ; **************************************************
2714      P:0849 3E0C00  [2 -     4668]            move              #12,n6
2715      P:084A 204600  [2 -     4670]            move              (r6)-n6
2716      P:084B 625E00  [2 -     4672]            move              r2,x:(r6)+
2717      P:084C 0BF080  [6 -     4678]            jsr     Fiadpt_quant
                 000435
2718                                     ; **************************************************
2719                                     ;       
2720                                     ;       /* ADD is used inlined */
2721                                     ; 
2722                                     ;       SP = DQ + s_e ; 
2723                                     ; **************************************************
2724      P:084E 57F000  [4 -     4682]            move              x:(Fs_e+1),b
                 00000B
2725      P:0850 51F000  [4 -     4686]            move              x:Fs_e,b0
                 00000A
2726      P:0852 56F000  [4 -     4690]            move              x:(FDQ+1),a
                 000011
2727      P:0854 50F000  [4 -     4694]            move              x:FDQ,a0
                 000010
2728      P:0856 205600  [2 -     4696]            move              (r6)-
2729      P:0857 0BF080  [6 -     4702]            jsr     fadd_ba
                 000000
2730                                     ; **************************************************
2731                                     ;       
2732                                     ;       /* coding adj is used inlined */
2733                                     ; 
2734                                     ;       SD = (int) SP ;
2735                                     ; **************************************************
2736      P:0859 507000  [4 -     4706]            move              a0,x:FSP
                 000004
2737      P:085B 547000  [4 -     4710]            move              a1,x:(FSP+1)
                 000005
2738      P:085D 0BF080  [6 -     4716]            jsr     fixdfsi_a
                 000000
2739                                     ; **************************************************
2740                                     ;       
2741                                     ;       tone_detector(&D_YL);
2742                                     ; **************************************************
2743      P:085F 547000  [4 -     4720]            move              a1,x:FSD
                 000006
2744      P:0861 645E00  [2 -     4722]            move              r4,x:(r6)+
2745      P:0862 0BF080  [6 -     4728]            jsr     Ftone_detector
                 000486
2746                                     ; **************************************************
2747                                     ;       speed_control(&D_Y, &D_DMS, &D_DML, &D_AP);
2748                                     ; **************************************************
2749      P:0864 61F400  [4 -     4732]            move              #FD_AP,r1
                 000082
2750      P:0866 205600  [2 -     4734]            move              (r6)-
2751      P:0867 615E00  [2 -     4736]            move              r1,x:(r6)+
2752      P:0868 61F400  [4 -     4740]            move              #FD_DML,r1
                 000080
2753      P:086A 615E00  [2 -     4742]            move              r1,x:(r6)+
2754      P:086B 61F400  [4 -     4746]            move              #FD_DMS,r1
                 00007E
2755      P:086D 615E00  [2 -     4748]            move              r1,x:(r6)+
2756      P:086E 625E00  [2 -     4750]            move              r2,x:(r6)+
2757      P:086F 0BF080  [6 -     4756]            jsr     Fspeed_control
                 0004F4
2758                                     ; **************************************************
2759                                     ;       scale_factor(&D_YU, &D_Y_L);
2760                                     ; **************************************************
2761      P:0871 3E0400  [2 -     4758]            move              #4,n6
2762      P:0872 61F400  [4 -     4762]            move              #FD_Y_L,r1
                 000084
2763      P:0874 204600  [2 -     4764]            move              (r6)-n6
2764      P:0875 615E00  [2 -     4766]            move              r1,x:(r6)+
2765      P:0876 61F400  [4 -     4770]            move              #FD_YU,r1
                 000086
2766      P:0878 615E00  [2 -     4772]            move              r1,x:(r6)+
2767      P:0879 0BF080  [6 -     4778]            jsr     Fscale_factor
                 000634
2768                                     ; **************************************************
2769                                     ;       
2770                                     ;       /*
2771                                     ;        * DELAYS in DECODER
2772                                     ;        */
2773                                     ;       
2774                                     ;       /* adpt_predictor delays */
2775                                     ; 
2776                                     ;       D_DQ1 = DQ ; 
2777                                     ; **************************************************
2778                                     ; **************************************************
2779                                     ;       D_TR1 = TR ; 
2780                                     ; **************************************************
2781                                     ; **************************************************
2782                                     ;  
2783                                     ;       /* scale factor delays */
2784                                     ; 
2785                                     ;       D_YL = YL1 ; 
2786                                     ; **************************************************
2787                                     ; **************************************************
2788                                     ;       D_Y  = Y1 ; 
2789                                     ; **************************************************
2790      P:087B 56F000  [4 -     4782]            move              x:(FDQ+1),a
                 000011
2791      P:087D 50F000  [4 -     4786]            move              x:FDQ,a0
                 000010
2792      P:087F 505D00  [2 -     4788]            move              a0,x:(r5)+
2793      P:0880 545500  [2 -     4790]            move              a1,x:(r5)-
2794      P:0881 56F000  [4 -     4794]            move              x:FTR,a
                 00000F
2795      P:0883 546700  [2 -     4796]            move              a1,x:(r7)
2796      P:0884 56F000  [4 -     4800]            move              x:(FYL1+1),a
                 000015
2797      P:0886 50F000  [4 -     4804]            move              x:FYL1,a0
                 000014
2798      P:0888 505C00  [2 -     4806]            move              a0,x:(r4)+
2799      P:0889 545400  [2 -     4808]            move              a1,x:(r4)-
2800      P:088A 56F000  [4 -     4812]            move              x:(FY1+1),a
                 000013
2801      P:088C 50F000  [4 -     4816]            move              x:FY1,a0
                 000012
2802      P:088E 505A00  [2 -     4818]            move              a0,x:(r2)+
2803      P:088F 545200  [2 -     4820]            move              a1,x:(r2)-
2804      P:0890 56F000  [4 -     4824]            move              x:FExitFlag,a
                 0000BF
2805      P:0892 205603  [2 -     4826]            tst     a         (r6)-
2806      P:0893 205600  [2 -     4828]            move              (r6)-
2807      P:0894 0AF0AA  [6 -     4834]            jeq     L142
                 00074E
2808                                     L131
2809                                     ; **************************************************
2810                                     ;        
2811                                     ; #ifndef __DSP56K__
2812                                     ;       /* disk record */
2813                                     ;       disk_record() ;  
2814                                     ; 
2815                                     ;       if (i < 1000) fprintf(t2strm,"%i\t%i\n",i,SD) ; 
2816                                     ;       if (i < 1000) fprintf(t3strm,"%i\t%i\n",i,SL-SD) ;     
2817                                     ; #endif    
2818                                     ; }
2819                                     ; 
2820                                     ; #ifndef __DSP56K__  
2821                                     ;   post_disk_play() ; 
2822                                     ;   post_disk_record() ; 
2823                                     ; #endif
2824                                     ; 
2825                                     ;   return(0) ; 
2826                                     ; **************************************************
2827                                     ; **************************************************
2828                                     ; 
2829                                     ;   
2830                                     ; } 
2831                                     ; **************************************************
2832      P:0896 205013  [2 -     4836]            clr     a         (r0)-
2833      P:0897 205600  [2 -     4838]            move              (r6)-
2834      P:0898 67D600  [2 -     4840]            move              x:(r6)-,r7
2835      P:0899 65D600  [2 -     4842]            move              x:(r6)-,r5
2836      P:089A 64D600  [2 -     4844]            move              x:(r6)-,r4
2837      P:089B 63D600  [2 -     4846]            move              x:(r6)-,r3
2838      P:089C 62D600  [2 -     4848]            move              x:(r6)-,r2
2839      P:089D 61D600  [2 -     4850]            move              x:(r6)-,r1
2840      P:089E 47D600  [2 -     4852]            move              x:(r6)-,y1
2841      P:089F 46D600  [2 -     4854]            move              x:(r6)-,y0
2842      P:08A0 45D600  [2 -     4856]            move              x:(r6)-,x1
2843      P:08A1 44D600  [2 -     4858]            move              x:(r6)-,x0
2844      P:08A2 57D600  [2 -     4860]            move              x:(r6)-,b
2845      P:08A3 51E600  [2 -     4862]            move              x:(r6),b0
2846      P:08A4 05D03C  [2 -     4864]            move              x:(r0)-,ssh
2847      P:08A5 221603  [2 -     4866]            tst     a         r0,r6
2848      P:08A6 60E000  [2 -     4868]            move              x:(r0),r0
2849      P:08A7 00000C  [4 -     4872]            rts
2850   
2851      X:00BF                                   org     x:
2852                                               global  FExitFlag
2853      X:00BF 000000                  FExitFlag bsc     1
2854   
2855                                               endsec
2856   
2857                                     ; 
2858   
23   Errors
0    Warnings
